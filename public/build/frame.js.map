{"version":3,"file":"frame.js","sources":["../../node_modules/svelte/internal/index.mjs","../../src/Frame_platform.svelte","../../src/Frame_home.svelte","../../node_modules/damerau-levenshtein-js/app.js","../../src/Frame_administration_linkedfields.svelte","../../node_modules/pubsub-js/src/pubsub.js","../../src/components/Pullout.svelte","../../src/components/form/InputCheckbox.svelte","../../src/components/form/InputMultiItem.svelte","../../src/components/form/InputLookupItem.svelte","../../src/components/form/InputLookup.svelte","../../src/components/form/Shortcuts.svelte","../../src/components/form/InputMatrix.svelte","../../src/components/form/InputMulti.svelte","../../src/components/form/InputSelect.svelte","../../src/components/form/InputText.svelte","../../src/components/form/InputTextarea.svelte","../../src/components/form/InputSignature.svelte","../../src/components/form/InputSwitch.svelte","../../src/components/form/Section.svelte","../../src/components/form/Form.svelte","../../src/components/table/RecordID.svelte","../../src/components/table/Status.svelte","../../src/components/table/Channel.svelte","../../src/components/table/Date.svelte","../../src/Frame_incidents.svelte","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../src/components/slide.js","../../src/components/Slide.svelte","../../src/Frame_incidents_new.svelte","../../node_modules/svelte-qrcode/src/lib/qrcode/index.js","../../node_modules/svelte-qrcode/src/lib/index.svelte","../../src/Frame_incidents_admin.svelte","../../src/components/cards/BigNumber.svelte","../../src/Frame_hazard_assessments.svelte","../../src/Frame_queries_new.svelte","../../src/Frame_queries_result.svelte","../../src/Frame.svelte","../../src/frame.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot_spread(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_spread_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_spread_changes_fn(dirty) | get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.35.0' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to seperate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_custom_elements_slots, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, update_slot_spread, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","<script>\n    import { onMount } from 'svelte';\n\n    onMount( ()=> {\n        console.log('Platform not ready, re-directing to EHS');\n        window.location.hash = '#ehs'; \n    })\n\n</script>\n\n<h2>Platform...</h2>\n        ","<script>\n    import { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n\n    function nav(str) {\n\t\tdispatch('nav', {\n\t\t\ttext: str\n\t\t});\n\t}\n    let tab = \"home\";\n    export let tabnav = '';\n    $: {\n        let t = tabnav;\n        tab = (t == '' ? 'home' : t);\n    }\n</script>\n\n    <div class=\"row sticky\">\n        <div class=\"col12\">\n            <ul class=\"breadcrumb\">\n                <li><a href=\"#platform\">EcoOnline</a></li>\n                <li>EHS</li>\n            </ul>\n        </div>\n       \n    </div>\n    \n\n    <ul class=\"tabs\">\n        <li><a href=\"#ehs\" class:active=\"{tab == 'home'}\">Home</a></li>\n        <li><a href=\"#ehs/dashboards\" class:active=\"{tab == 'dashboards'}\">Dashboards</a></li>\n        <li><a href=\"#ehs/reports\" class:active=\"{tab == 'reports'}\">Reports</a></li>\n        <li><a href=\"#ehs/tasks\" class:active=\"{tab == 'tasks'}\">My Tasks</a></li>\n    </ul>\n\n    {#if tab == 'home'}\n        <div class=\"row\">\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\" on:click|preventDefault=\"{ () => {nav('incidents');window.location.hash='#ehs/incidents'}}\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/incidents.svg)\"></div>\n                    <b>Incidents</b>\n                    <div class=\"tools\">\n                        <a href=\"#ehs/incidents/incidents_new\" class=\"add\" on:click|stopPropagation=\"{ () => {nav('incidents_new')}}\"> </a>\n                        <a href=\"#ehs/incidents/queries_new\" class=\"filter\" on:click|stopPropagation=\"{ () => {nav('queries_new')}}\"> </a>\n                        <a href=\"#ehs/incidents/summary\" class=\"summary\" on:click|stopPropagation=\"{ () => {nav('incidents/summary')}}\"> </a>\n                        <a href=\"#ehs/incidents/incidents_admin\" class=\"tool\" on:click=\"{ () => {nav('incidents/incidents_admin')}}\" > </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/actions.svg)\"></div>\n                    <b>Actions</b>\n                    <div class=\"tools\">\n                        <a href=\"#incidents/incidents_new\" class=\"add\"> </a>\n                        <a href=\"queries_new\" class=\"filter\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/audits.svg)\"></div>\n                    <b>Audit & Inspection</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/observations.svg)\"></div>\n                    <b>Observation</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/risk_assessment.svg)\"></div>\n                    <b>Risk Assessment</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\" on:click|preventDefault=\"{ () => {nav('hazard_assessments');window.location.hash='#ehs/hazard_assessments'}}\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/hazard_assessment.svg)\"></div>\n                    <b>Hazard Assessment</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/scheduling.svg)\"></div>\n                    <b>Scheduling</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/epr.svg)\"></div>\n                    <b>Environmental</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/period_statistics.svg)\"></div>\n                    <b>Period Statistics</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/register.svg)\"></div>\n                    <b>Register</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/advanced_rca.svg)\"></div>\n                    <b>Adavanced RCA</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/documents.svg)\"></div>\n                    <b>Document</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/tracker.svg)\"></div>\n                    <b>COVID-19 Tracker</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/pow_ra.svg)\"></div>\n                    <b>Point of Work</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/lost_time.svg)\"></div>\n                    <b>Lost Time</b>\n                    <div class=\"tools\">\n                        <a href=\"./\" class=\"add\"> </a>\n                        <a href=\"./\" class=\"filter\"> </a>\n                        <a href=\"./\" class=\"summary\"> </a>\n                        <a href=\"./\" class=\"tool\"> </a>\n                    </div>\n                </div>\n            </div>\n            <div class=\"col6 col-sm-4 col-md-3 col-lg-2\">\n                <div class=\"tile\" on:click|preventDefault=\"{ () => {nav('linkedfields');window.location.hash='#ehs/administration/linkedfields'}}\">\n                    <div class=\"icon\" style=\"background-image:url(./images/ehs_svgs_clean/administration.svg)\"></div>\n                    <b>Administration</b>\n                </div>\n            </div>\n            \n        </div>\n    {:else if tab == 'dashboards'}\n        <h2>Dashboards</h2>\n    {:else if tab == 'reports'}\n        <h2>Reports</h2>\n    {:else if tab == 'tasks'}\n        <h2>My Tasks</h2>\n    {/if}\n        ","/**\n * MIT License\n *\n * Copyright (c) 2018 Fabvalaaah - fabvalaaah@laposte.net\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n/**\n * DISCLAIMER:\n * I am not responsible in any way of any consequence of the usage of this piece\n * of software. You are warned, use it at your own risks.\n */\n\nconst initMatrix = (s1, s2) => {\n  /* istanbul ignore next */\n  if (undefined == s1 || undefined == s2) {\n    return null;\n  }\n\n  let d = [];\n  for (let i = 0; i <= s1.length; i++) {\n    d[i] = [];\n    d[i][0] = i;\n  }\n  for (let j = 0; j <= s2.length; j++) {\n    d[0][j] = j;\n  }\n\n  return d;\n};\n\nconst damerau = (i, j, s1, s2, d, cost) => {\n  if (i > 1 && j > 1 && s1[i - 1] === s2[j - 2] && s1[i - 2] === s2[j - 1]) {\n    d[i][j] = Math.min.apply(null, [d[i][j], d[i - 2][j - 2] + cost]);\n  }\n};\n\nconst distance = (s1, s2) => {\n  if (\n    undefined == s1 ||\n    undefined == s2 ||\n    \"string\" !== typeof s1 ||\n    \"string\" !== typeof s2\n  ) {\n    return -1;\n  }\n\n  let d = initMatrix(s1, s2);\n  /* istanbul ignore next */\n  if (null === d) {\n    return -1;\n  }\n  for (var i = 1; i <= s1.length; i++) {\n    let cost;\n    for (let j = 1; j <= s2.length; j++) {\n      if (s1.charAt(i - 1) === s2.charAt(j - 1)) {\n        cost = 0;\n      } else {\n        cost = 1;\n      }\n\n      d[i][j] = Math.min.apply(null, [\n        d[i - 1][j] + 1,\n        d[i][j - 1] + 1,\n        d[i - 1][j - 1] + cost,\n      ]);\n\n      damerau(i, j, s1, s2, d, cost);\n    }\n  }\n\n  return d[s1.length][s2.length];\n};\n\nconst distanceProm = (s1, s2) =>\n  new Promise((resolve, reject) => {\n    let result = distance(s1, s2);\n    if (0 <= result) {\n      resolve(result);\n    } else {\n      reject(result);\n    }\n  });\n\nconst minDistanceProm = (s1, list) =>\n  new Promise((resolve, reject) => {\n    if (undefined == list || !Array.isArray(list)) {\n      reject(-1);\n      return;\n    } else if (0 === list.length) {\n      resolve(distance(s1, \"\"));\n      return;\n    }\n\n    let min = -2;\n\n    list.forEach((s2) => {\n      let d = distance(s1, s2);\n      if (-2 === min || d < min) {\n        min = d;\n      }\n    });\n\n    if (0 <= min) {\n      resolve(min);\n    } else {\n      reject(min);\n    }\n  });\n\nmodule.exports = {\n  distanceProm,\n  distance,\n  minDistanceProm,\n};\n","<script>\n    \n    import { distance as dl } from 'damerau-levenshtein-js';\n\t\n    let tab = \"select\";\n\n    let lls = [\n        {\n            \"icon\": \"incidents\",\n            \"title\": \"Incidents\",\n            \"children\": [\n                {\n                    \"parent_list\": {\n                        \"title\": \"Countries\",\n                        \"options\": [\n                            {\n                                \"title\": \"Ireland\",\n                                \"children\": [\n                                    \"Cork\",\n                                    \"Dublin\",\n                                    \"Galway\"\n                                ]\n                            },\n                            {\n                                \"title\": \"England\",\n                                \"children\": [\n                                    \"Liverpool\",\n                                    \"London\",\n                                    \"Brighton\"\n                                ]\n                            },\n                            {\n                                \"title\": \"Wales\",\n                                \"children\": [\n                                    \"Cardiff\"\n                                ]\n                            },\n                            {\n                                \"title\": \"Zimbabwe\",\n                                \"children\": []\n                            },\n                        ]\n                    },\n                    \"child_list\": {\n                        \"title\": \"Cities\",\n                        \"options\": [\n                            \"Auckland\",\n                            \"Brighton\",\n                            \"Cardiff\",\n                            \"Cork\",\n                            \"Dublin\",\n                            \"Leeds\",\n                            \"Liverpool\",\n                            \"London\",\n                            \"Madrid\",\n                            \"Paris\",\n                            \"Sheffield\",\n                            \"Southampton\",\n                            \"St Albans\",\n                            \"Stoke-on-Trent\",\n                            \"Sunderland\",\n                            \"Truro\",\n                            \"Wakefield\",\n                            \"Wells\",\n                            \"Westminster\",\n                            \"Winchester\",\n                            \"Wolverhampton\"\n                        ]\n                    }\n                }\n            ]\n        }\n    ]\n    \n    let test_mode = false;\n\n    let lls_copy = JSON.parse(JSON.stringify(lls));\n    $: dirty_flag = JSON.stringify(lls) != JSON.stringify(lls_copy);\n    \n    let selected_ll = false;\n    let selected_parent = false;\n    let paste_list = [];\n    \n    let pastearea = false;\n    let pastetext = '';\n    $: {\n        let p = pastetext;\n        if(p !== '') {\n            paste_list = [];\n            let temp_list = p.split(/\\r?\\n/);\n            temp_list.forEach( (paste) => {\n                let dls = dl_score(paste);\n                let mod = (dls < 0 ? dls : dls/paste.length);\n                let temp_obj = {\n                    dl: mod,\n                    dot: dot_color(mod),\n                    title: paste,\n                }\n                paste_list.push(temp_obj);\n            })\n\n\n            paste_list = paste_list.sort((a,b) => { console.log(a.title, b.title);return a.title.localeCompare(b.title);});\n\n            pastetext = '';\n            pastearea.blur();\n        }\n    }\n\n    $: red_pastes = paste_list.filter( (el) => { return el.dot == 'red'}).length;\n    $: green_pastes = paste_list.filter( (el) => { return el.dot == 'green'}).length;\n    $: grey_pastes = paste_list.filter( (el) => { return el.dot == 'grey'}).length;\n    $: orange_pastes = paste_list.filter( (el) => { return el.dot == 'orange'}).length;\n\n\n    let parent_test = false;\n\n    function dot_color(ds) {\n        if(ds == 0) {\n            return \"green\"; //in list and not already added\n        } else if(ds == -10) {\n            return \"grey\"; //in list and already added\n        } else if (ds < 0.2){\n            return \"orange\"; //too close to an option already in list\n        } else {\n            return \"red\"; //not in list\n        }\n    }\n    \n\n    function dl_score(str) {\n        //compare with all in selected_ll.child_list.options and take highest\n        let current_score = 99;\n        selected_ll.child_list.options.forEach( (l) => {\n            let dl_temp = dl(l, str);\n            //console.log(\"dl_temp\", dl_temp, l, str);\n            if( dl_temp < current_score) {\n                current_score = dl_temp;\n            }\n        })\n        \n        if(current_score == 0 && selected_parent.children.indexOf(str) >= 0) {\n            current_score = -10;\n        }\n        return current_score;\n\n    }\n    function select_ll(ll) {\n        selected_ll = ll;\n        selected_parent = false;\n    }\n    function select_parent(pl) {\n        selected_parent = pl;\n    }\n    function add_child_option(city) {\n        selected_parent.children.push(city);\n        selected_ll = selected_ll;\n        lls = lls;\n    }\n\n    function faux_save () {\n        if(dirty_flag){\n            lls_copy = JSON.parse(JSON.stringify(lls));\n\n        }\n    }\n    function add_pastes () {\n        paste_list.forEach( (paste) => {\n            if(paste.dot == 'green') {\n                add_child_option(paste.title);\n            }\n        })\n        pastetext = '';\n    }\n    function remove_child_option(pl, index) {\n        pl.children.sort().splice(index, 1);\n        selected_parent.children = selected_parent.children;\n        selected_parent = selected_parent;\n        selected_ll = selected_ll;\n        lls = lls;\n    }\n\n\n</script>\n\n<div class=\"row sticky\">\n    <div class=\"col12\">\n        <ul class=\"breadcrumb\">\n            <li><a href=\"#platform\" on:click=\"{ () => {nav('platform')}}\">EcoOnline</a></li>\n            <li><a href=\"#ehs\" on:click=\"{ () => {nav('ehs')}}\">EHS</a></li>\n            <li><a href=\"#ehs/administration\" on:click=\"{ () => {nav('administration')}}\">Administration</a></li>\n            <li>Linked Fields</li>\n        </ul>\n    </div>\n\n\n</div>\n<div class=\"row\">\n    <div class=\"col12 col-md-4 ll1\">\n        <div class=\"card\">\n           <div class=\"card-body\">\n                <h1>Linked Fields</h1>\n\n                <div class=\"overflow\">\n                    {#each lls as section}\n                        <h3 class=\"ll-title\"><i class=\"i-{section.icon} i-32\"></i> {section.title} ({section.children.length})</h3>\n                        {#each section.children as ll}\n                            <p class=\"ll\"  class:active={selected_ll == ll} on:click=\"{ () => { select_ll(ll) }}\">{ll.parent_list.title} / {ll.child_list.title}</p>\n                        {/each}\n                    {/each}\n                </div>\n\n            </div>\n        </div>\n    </div>\n    {#if !test_mode}\n        {#if selected_ll}\n            <div class=\"col12 col-md-4 ll2\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <h1>Parent Field & Child Options</h1>\n                        <div class=\"overflow\">\n                            {#each selected_ll.parent_list.options as pl}\n                                <h3 class=\"ll-title\" class:active={selected_parent == pl} on:click=\"{ () => { select_parent(pl) }}\" >{pl.title} ({pl.children.length}) <i class=\"i-add i-20 right\"></i></h3>\n                                {#each pl.children.sort() as opt, i}\n                                    <p class=\"ll\" on:click=\"{ () => remove_child_option(pl,i) }\">{opt} <i class=\"i-trash i-20 right\"></i></p>\n                                {:else}\n                                    <p  class=\"ll\" style=\"opacity:0.5\">{selected_ll.child_list.title} input will not be visible</p>\n                                {/each}\n                            {/each}\n                        </div>\n                        <div>\n                            <span on:click=\"{faux_save}\" class=\"btn right\" class:disabled={!dirty_flag}>Save</span>\n                            <span on:click=\"{ () => { test_mode = true} }\" class=\"btn btn-secondary right\">Test Linked Fields</span>\n                            \n                        </div>\n                    </div>\n                </div>\n            </div>\n\n\n        {/if}\n        {#if selected_parent}\n            <div class=\"col12 col-md-4 ll3\">\n                <div class=\"card\">\n                    <div class=\"card-body\">\n                        <h1>New Child Options</h1>\n\n                        <ul class=\"tabs\">\n                            <li><a href=\"#ehs/administration/linkedlists/select\" class:active=\"{tab == 'select'}\" on:click =\"{ () => { tab = 'select';}}\">Select List</a></li>\n                            <li><a href=\"#ehs/administration/linkedlists/paste\" class:active=\"{tab == 'paste'}\" on:click =\"{ () => { tab = 'paste'; }}\">Paste List</a></li>\n                        </ul>\n                        \n                        {#if tab == 'select'}\n                            <div class=\"overflow\">\n                                {#each selected_ll.child_list.options as city}\n                                    {#if selected_parent.children.indexOf(city) >= 0}\n                                        <p class=\"ll\" style=\"opacity:0.5;cursor:default\">{city}</p>\n                                    {:else}\n                                        <p class=\"ll\" on:click=\"{ () => add_child_option(city) }\">{city}</p>\n                                    {/if}\n                                {/each}\n                            </div>\n                        {/if}\n                        {#if tab == 'paste'}\n                            <h5>Copy and Pasta</h5>\n\n                            <div class=\"fakearea\">\n                                {#each paste_list as paste}\n                                    <p class=\"paste-ll\"><i class=\"dot {paste.dot}\"></i> {paste.title}</p>\n                                {/each}\n                                <textarea bind:this={pastearea} bind:value=\"{pastetext}\"></textarea>\n                            </div>\n                            \n                            {#if paste_list.length}\n                                {#if red_pastes}\n                                    <div class=\"feedback\">\n                                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                            <path d=\"M2 16C2 18.7689 2.82109 21.4757 4.35943 23.778C5.89777 26.0803 8.08427 27.8747 10.6424 28.9343C13.2006 29.9939 16.0155 30.2712 18.7313 29.731C21.447 29.1908 23.9416 27.8574 25.8995 25.8995C27.8574 23.9416 29.1908 21.447 29.731 18.7313C30.2712 16.0155 29.9939 13.2006 28.9343 10.6424C27.8747 8.08427 26.0803 5.89777 23.778 4.35943C21.4757 2.82109 18.7689 2 16 2C12.287 2 8.72601 3.475 6.1005 6.1005C3.475 8.72601 2 12.287 2 16V16ZM25.15 23.75L8.25 6.85C10.5506 4.935 13.4839 3.94898 16.4742 4.08546C19.4644 4.22195 22.2957 5.47108 24.4123 7.5877C26.5289 9.70432 27.7781 12.5356 27.9145 15.5258C28.051 18.5161 27.065 21.4494 25.15 23.75V23.75ZM8.24 25.16C5.81832 23.1035 4.311 20.1706 4.04856 17.0044C3.78612 13.8382 4.78997 10.6972 6.84 8.27L23.73 25.16C21.5642 26.99 18.8204 27.994 15.985 27.994C13.1496 27.994 10.4058 26.99 8.24 25.16V25.16Z\" fill=\"#E40C0C\"/>\n                                        </svg>\n                                        {red_pastes} item{red_pastes == 1 ? '':'s'} cannot be added because they don’t exist in the child list. <br>\n                                    </div>\n                                {/if}\n                                {#if orange_pastes}\n                                    <div class=\"feedback\">\n                                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                            <path d=\"M16 2C13.2311 2 10.5243 2.82109 8.22202 4.35943C5.91973 5.89777 4.12532 8.08427 3.06569 10.6424C2.00607 13.2006 1.72882 16.0155 2.26901 18.7313C2.80921 21.447 4.14258 23.9416 6.10051 25.8995C8.05845 27.8574 10.553 29.1908 13.2687 29.731C15.9845 30.2712 18.7994 29.9939 21.3576 28.9343C23.9157 27.8747 26.1022 26.0803 27.6406 23.778C29.1789 21.4757 30 18.7689 30 16C30 12.287 28.525 8.72601 25.8995 6.1005C23.274 3.475 19.713 2 16 2V2ZM16 28C13.6266 28 11.3066 27.2962 9.33316 25.9776C7.35977 24.6591 5.8217 22.7849 4.91345 20.5922C4.0052 18.3995 3.76756 15.9867 4.23058 13.6589C4.69361 11.3311 5.83649 9.19295 7.51472 7.51472C9.19295 5.83649 11.3312 4.6936 13.6589 4.23058C15.9867 3.76755 18.3995 4.00519 20.5922 4.91345C22.7849 5.8217 24.6591 7.35977 25.9776 9.33316C27.2962 11.3065 28 13.6266 28 16C28 19.1826 26.7357 22.2348 24.4853 24.4853C22.2349 26.7357 19.1826 28 16 28Z\" fill=\"#EB961A\"/>\n                                            <path d=\"M17 8H15V19H17V8Z\" fill=\"#EB961A\"/>\n                                            <path d=\"M16 22C15.7033 22 15.4133 22.088 15.1666 22.2528C14.92 22.4176 14.7277 22.6519 14.6142 22.926C14.5006 23.2001 14.4709 23.5017 14.5288 23.7926C14.5867 24.0836 14.7296 24.3509 14.9393 24.5607C15.1491 24.7704 15.4164 24.9133 15.7074 24.9712C15.9983 25.0291 16.2999 24.9993 16.574 24.8858C16.8481 24.7723 17.0824 24.58 17.2472 24.3334C17.412 24.0867 17.5 23.7967 17.5 23.5C17.5 23.1022 17.342 22.7206 17.0607 22.4393C16.7794 22.158 16.3978 22 16 22Z\" fill=\"#EB961A\"/>\n                                        </svg>\n                                            \n                                        {orange_pastes} item{orange_pastes == 1 ? '':'s'} need{orange_pastes == 1 ? 's':''} attention<br>\n                                    </div>\n                                {/if}\n                                {#if grey_pastes}\n                                    <div class=\"feedback\">\n                                        <svg width=\"24\" height=\"24\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                            <path d=\"M16 2C13.2311 2 10.5243 2.82109 8.22202 4.35943C5.91973 5.89777 4.12532 8.08427 3.06569 10.6424C2.00607 13.2006 1.72882 16.0155 2.26901 18.7313C2.80921 21.447 4.14258 23.9416 6.10051 25.8995C8.05845 27.8574 10.553 29.1908 13.2687 29.731C15.9845 30.2712 18.7994 29.9939 21.3576 28.9343C23.9157 27.8747 26.1022 26.0803 27.6406 23.778C29.1789 21.4757 30 18.7689 30 16C30 12.287 28.525 8.72601 25.8995 6.1005C23.274 3.475 19.713 2 16 2V2ZM16 28C13.6266 28 11.3066 27.2962 9.33316 25.9776C7.35977 24.6591 5.8217 22.7849 4.91345 20.5922C4.0052 18.3995 3.76756 15.9867 4.23058 13.6589C4.69361 11.3311 5.83649 9.19295 7.51472 7.51472C9.19295 5.83649 11.3312 4.6936 13.6589 4.23058C15.9867 3.76755 18.3995 4.00519 20.5922 4.91345C22.7849 5.8217 24.6591 7.35977 25.9776 9.33316C27.2962 11.3065 28 13.6266 28 16C28 19.1826 26.7357 22.2348 24.4853 24.4853C22.2349 26.7357 19.1826 28 16 28Z\" fill=\"#BABFC3\"/>\n                                            <path d=\"M10.5 15V17H21.5V15H10.5Z\" fill=\"#BABFC3\"/>\n                                            </svg>\n                                            \n                                        {grey_pastes} item{grey_pastes == 1 ? '':'s'} already exist{grey_pastes == 1 ? 's':''}<br>\n                                    </div>\n                                {/if}\n                                \n                                <div>\n                                <span on:click=\"{add_pastes}\" class=\"btn right\">Add {green_pastes} option{grey_pastes == 1 ? '':'s'}</span>\n                                </div>\n                            {/if}\n                        {/if}\n                        \n                    </div>\n                </div>\n            </div>\n\n\n        {/if}\n    {:else}\n        <div class=\"col12 col-md-8\">\n            <div class=\"card\">\n                <div class=\"card-body\">\n                    <h1>Test</h1>\n\n                    <div class=\"overflow\">\n                        <!-- svelte-ignore a11y-label-has-associated-control -->\n                        <div class=\"form-item\">\n                            <label>{selected_ll.parent_list.title}</label>\n                            <select class=\"form-control\" bind:value=\"{parent_test}\">\n                                <option value=\"{false}\">Select one...</option>\n                                {#each selected_ll.parent_list.options as opt}\n                                    <option value=\"{opt}\">{opt.title}</option>\n                                {/each}\n                            </select>\n                        </div>\n\n                        {#if parent_test && parent_test.children.length}\n                            <!-- svelte-ignore a11y-label-has-associated-control -->\n                            <div class=\"form-item\">\n                                <label>{selected_ll.child_list.title}</label>\n                                <select class=\"form-control\" >\n                                    <option>Select one...</option>\n                                    {#each parent_test.children as opt}\n                                        <option>{opt}</option>\n                                    {/each}\n                                </select>\n                            </div>\n                        {/if}\n                    </div>\n                    <div style=\"max-width:480px;\">\n                        <span on:click=\"{ () => { test_mode = false} }\" class=\"btn right\">OK</span>\n                        \n                    </div>\n\n                </div>\n            </div>\n        </div>\n    {/if}\n</div>\n\n<style>\n    .ll-title {\n        font-weight: normal;\n    }\n    .ll-title.active {\n        background:#D4D5EA;\n    }\n    .ll, .paste-ll { padding:8px 8px 8px 40px;cursor:pointer;}\n    .paste-ll {\n        padding-left:8px;\n    }\n    .ll.active {\n        background:#D4D5EA;\n    }\n\n    .card {\n        height: calc( 100vh - 150px);\n    }\n    .card-body {\n        display:flex;\n        flex-direction: column;\n        max-height:100%;\n    }\n    .overflow {\n        flex:1;\n        overflow-y:auto\n    }\n\n    \n    .ll2 h3 {\n        cursor:pointer;\n        padding: 6px 8px;\n    }\n    .right {\n        float:right;\n        display:none;\n    }\n\n\n    .btn.right {\n        display: inline-block;\n        margin: 16px 0 12px 8px\n    }\n    .ll2 .ll:hover .right {\n        display: inline-block;\n    }\n    .ll2 h3:hover .right {\n        display: inline-block;\n    }\n\n    .fakearea {\n        width:100%;\n        height:200px;\n        border:1px solid #72737A;\n        border-radius:12px;\n        position:relative;\n        overflow-y:auto;\n    }\n    .fakearea textarea {\n        position:absolute;\n        width:100%;\n        height:100%;\n        background:transparent;\n        top:0;\n        left:0;\n        border:none;\n        opacity:0;\n    }\n\n    .dot {\n        display:inline-block;\n        margin-right:8px;\n        background:#999;\n        width:12px;\n        height:12px;\n        border-radius:50%;\n    }\n\n    .dot.green {\n        background:green ! important;\n    }\n    .dot.orange {\n        background:orange;\n    }\n    .dot.red {\n        background:red;\n    }\n    .feedback {\n        margin:8px 0;\n    }\n    .feedback svg {\n        vertical-align: middle;\n    }\n\n    \n</style>\n\t\n        ","/**\n * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk\n * License: MIT - http://mrgnrdrck.mit-license.org\n *\n * https://github.com/mroderick/PubSubJS\n */\n\n(function (root, factory){\n    'use strict';\n\n    var PubSub = {};\n\n    if (root.PubSub) {\n        PubSub = root.PubSub;\n        console.warn(\"PubSub already loaded, using existing version\");\n    } else {\n        root.PubSub = PubSub;\n        factory(PubSub);\n    }\n    // CommonJS and Node.js module support\n    if (typeof exports === 'object'){\n        if (module !== undefined && module.exports) {\n            exports = module.exports = PubSub; // Node.js specific `module.exports`\n        }\n        exports.PubSub = PubSub; // CommonJS module 1.1.1 spec\n        module.exports = exports = PubSub; // CommonJS\n    }\n    // AMD support\n    /* eslint-disable no-undef */\n    else if (typeof define === 'function' && define.amd){\n        define(function() { return PubSub; });\n        /* eslint-enable no-undef */\n    }\n\n}(( typeof window === 'object' && window ) || this, function (PubSub){\n    'use strict';\n\n    var messages = {},\n        lastUid = -1,\n        ALL_SUBSCRIBING_MSG = '*';\n\n    function hasKeys(obj){\n        var key;\n\n        for (key in obj){\n            if ( Object.prototype.hasOwnProperty.call(obj, key) ){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Returns a function that throws the passed exception, for use as argument for setTimeout\n     * @alias throwException\n     * @function\n     * @param { Object } ex An Error object\n     */\n    function throwException( ex ){\n        return function reThrowException(){\n            throw ex;\n        };\n    }\n\n    function callSubscriberWithDelayedExceptions( subscriber, message, data ){\n        try {\n            subscriber( message, data );\n        } catch( ex ){\n            setTimeout( throwException( ex ), 0);\n        }\n    }\n\n    function callSubscriberWithImmediateExceptions( subscriber, message, data ){\n        subscriber( message, data );\n    }\n\n    function deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){\n        var subscribers = messages[matchedMessage],\n            callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,\n            s;\n\n        if ( !Object.prototype.hasOwnProperty.call( messages, matchedMessage ) ) {\n            return;\n        }\n\n        for (s in subscribers){\n            if ( Object.prototype.hasOwnProperty.call(subscribers, s)){\n                callSubscriber( subscribers[s], originalMessage, data );\n            }\n        }\n    }\n\n    function createDeliveryFunction( message, data, immediateExceptions ){\n        return function deliverNamespaced(){\n            var topic = String( message ),\n                position = topic.lastIndexOf( '.' );\n\n            // deliver the message as it is now\n            deliverMessage(message, message, data, immediateExceptions);\n\n            // trim the hierarchy and deliver message to each level\n            while( position !== -1 ){\n                topic = topic.substr( 0, position );\n                position = topic.lastIndexOf('.');\n                deliverMessage( message, topic, data, immediateExceptions );\n            }\n\n            deliverMessage(message, ALL_SUBSCRIBING_MSG, data, immediateExceptions);\n        };\n    }\n\n    function hasDirectSubscribersFor( message ) {\n        var topic = String( message ),\n            found = Boolean(Object.prototype.hasOwnProperty.call( messages, topic ) && hasKeys(messages[topic]));\n\n        return found;\n    }\n\n    function messageHasSubscribers( message ){\n        var topic = String( message ),\n            found = hasDirectSubscribersFor(topic) || hasDirectSubscribersFor(ALL_SUBSCRIBING_MSG),\n            position = topic.lastIndexOf( '.' );\n\n        while ( !found && position !== -1 ){\n            topic = topic.substr( 0, position );\n            position = topic.lastIndexOf( '.' );\n            found = hasDirectSubscribersFor(topic);\n        }\n\n        return found;\n    }\n\n    function publish( message, data, sync, immediateExceptions ){\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        var deliver = createDeliveryFunction( message, data, immediateExceptions ),\n            hasSubscribers = messageHasSubscribers( message );\n\n        if ( !hasSubscribers ){\n            return false;\n        }\n\n        if ( sync === true ){\n            deliver();\n        } else {\n            setTimeout( deliver, 0 );\n        }\n        return true;\n    }\n\n    /**\n     * Publishes the message, passing the data to it's subscribers\n     * @function\n     * @alias publish\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publish = function( message, data ){\n        return publish( message, data, false, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Publishes the message synchronously, passing the data to it's subscribers\n     * @function\n     * @alias publishSync\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publishSync = function( message, data ){\n        return publish( message, data, true, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Subscribes the passed function to the passed message. Every returned token is unique and should be stored if you need to unsubscribe\n     * @function\n     * @alias subscribe\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { String }\n     */\n    PubSub.subscribe = function( message, func ){\n        if ( typeof func !== 'function'){\n            return false;\n        }\n\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        // message is not registered yet\n        if ( !Object.prototype.hasOwnProperty.call( messages, message ) ){\n            messages[message] = {};\n        }\n\n        // forcing token as String, to allow for future expansions without breaking usage\n        // and allow for easy use as key names for the 'messages' object\n        var token = 'uid_' + String(++lastUid);\n        messages[message][token] = func;\n\n        // return token for unsubscribing\n        return token;\n    };\n\n    PubSub.subscribeAll = function( func ){\n        return PubSub.subscribe(ALL_SUBSCRIBING_MSG, func);\n    };\n\n    /**\n     * Subscribes the passed function to the passed message once\n     * @function\n     * @alias subscribeOnce\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { PubSub }\n     */\n    PubSub.subscribeOnce = function( message, func ){\n        var token = PubSub.subscribe( message, function(){\n            // before func apply, unsubscribe message\n            PubSub.unsubscribe( token );\n            func.apply( this, arguments );\n        });\n        return PubSub;\n    };\n\n    /**\n     * Clears all subscriptions\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     */\n    PubSub.clearAllSubscriptions = function clearAllSubscriptions(){\n        messages = {};\n    };\n\n    /**\n     * Clear subscriptions by the topic\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     * @return { int }\n     */\n    PubSub.clearSubscriptions = function clearSubscriptions(topic){\n        var m;\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                delete messages[m];\n            }\n        }\n    };\n\n    /**\n       Count subscriptions by the topic\n     * @function\n     * @public\n     * @alias countSubscriptions\n     * @return { Array }\n    */\n    PubSub.countSubscriptions = function countSubscriptions(topic){\n        var m;\n        // eslint-disable-next-line no-unused-vars\n        var token;\n        var count = 0;\n        for (m in messages) {\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0) {\n                for (token in messages[m]) {\n                    count++;\n                }\n                break;\n            }\n        }\n        return count;\n    };\n\n\n    /**\n       Gets subscriptions by the topic\n     * @function\n     * @public\n     * @alias getSubscriptions\n    */\n    PubSub.getSubscriptions = function getSubscriptions(topic){\n        var m;\n        var list = [];\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                list.push(m);\n            }\n        }\n        return list;\n    };\n\n    /**\n     * Removes subscriptions\n     *\n     * - When passed a token, removes a specific subscription.\n     *\n\t * - When passed a function, removes all subscriptions for that function\n     *\n\t * - When passed a topic, removes all subscriptions for that topic (hierarchy)\n     * @function\n     * @public\n     * @alias subscribeOnce\n     * @param { String | Function } value A token, function or topic to unsubscribe from\n     * @example // Unsubscribing with a token\n     * var token = PubSub.subscribe('mytopic', myFunc);\n     * PubSub.unsubscribe(token);\n     * @example // Unsubscribing with a function\n     * PubSub.unsubscribe(myFunc);\n     * @example // Unsubscribing from a topic\n     * PubSub.unsubscribe('mytopic');\n     */\n    PubSub.unsubscribe = function(value){\n        var descendantTopicExists = function(topic) {\n                var m;\n                for ( m in messages ){\n                    if ( Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0 ){\n                        // a descendant of the topic exists:\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n            isTopic    = typeof value === 'string' && ( Object.prototype.hasOwnProperty.call(messages, value) || descendantTopicExists(value) ),\n            isToken    = !isTopic && typeof value === 'string',\n            isFunction = typeof value === 'function',\n            result = false,\n            m, message, t;\n\n        if (isTopic){\n            PubSub.clearSubscriptions(value);\n            return;\n        }\n\n        for ( m in messages ){\n            if ( Object.prototype.hasOwnProperty.call( messages, m ) ){\n                message = messages[m];\n\n                if ( isToken && message[value] ){\n                    delete message[value];\n                    result = value;\n                    // tokens are unique, so we can just stop here\n                    break;\n                }\n\n                if (isFunction) {\n                    for ( t in message ){\n                        if (Object.prototype.hasOwnProperty.call(message, t) && message[t] === value){\n                            delete message[t];\n                            result = true;\n                        }\n                    }\n                }\n            }\n        }\n\n        return result;\n    };\n}));\n","<script>\n\timport { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n\n    export let title = 'Pullout drawer';\n    export let mask_visible = true;\n    export let mask_block = true;\n\texport let show_drawer = false;\n    export let canfs = false;\n    export let fs = false;\n\n    let drawer_in = false;\n    let drawer_bool = false;\n\n\n    $: {\n        let s = show_drawer;\n        if(s) {\n            show_the_drawer();\n        } else {\n            hide_the_drawer();\n        }\n\n        \n    }\n    function show_the_drawer() {\n        drawer_bool = true;\n        setTimeout(() => {\n            drawer_in = true;\n        }, 300);\n    }\n\n    function hide_the_drawer() {\n        drawer_in = false;\n        setTimeout(() => {\n            drawer_bool = false;\n        }, 300);\n        dispatch('close', {});\n    }\n    \n</script>\n\n\n{#if drawer_bool}\n    <div class=\"drawer\" class:fs>\n        <div class=\"mask\" class:visible=\"{mask_visible}\" class:block=\"{mask_block}\"></div>\n        <div class=\"pullout\" class:in=\"{drawer_in}\">\n            <div class=\"pullout-head\">\n                <h2>\n                    {#if canfs}\n                        {#if fs}\n                            <i class=\"i-minimize i-24\" on:click=\"{ () => { fs = false; }}\"></i>\n                        {:else}\n                            <i class=\"i-maximize i-24\" on:click=\"{ () => { fs = true; }}\"></i>\n                        {/if}\n                    {/if}\n                    {title} \n                    <span class=\"close\" on:click=\"{hide_the_drawer}\"><i class=\"i-close i-24\"></i></span>\n                </h2>\n            </div>\n            <div class=\"pullout-body\">\n\n                {#if $$slots.fs}\n                    <!-- there is special content for fs and nofs-->\n                    {#if fs}\n                        <slot name=\"fs\"></slot>\n                    {:else}\n                        <slot name=\"nofs\"></slot>\n                    {/if}\n\t\t\t        \n                {:else}\n                    <!-- there is special only one content for both fs and nofs-->\n                    <slot></slot>\n\t            {/if}\n            </div>\n        </div>\n    </div>\n{/if}\n\n<style>\n\t.fs .pullout.in {\n        width:100%;\n    }\n</style>","<script>\n    export let f;\n    export let channel = 'ANSWER';\n\n</script>\n\n\n<div class=\"form-item\">\n    {#if f.label}\n        <label>{f.label}</label>\n    {/if}\n    {#if f.hint}\n        <p>{f.hint}</p>\n    {/if}\n    {#each f.options as option}\n        <div class=\"checkbox_label\" class:simple=\"{f.options.length == 1}\" on:click=\"{ () => { option.value = !option.value; } }\">\n            {#if option.value}\n                <i class=\"i-checkbox-selected i-20\" ></i>\n            {:else}\n                <i class=\"i-checkbox i-20\"></i>\n            {/if}\n\n            {option.text}\n        </div>\n    {/each}\n    \n</div>\n<style>\n    .checkbox_label {\n        font-weight:300;\n        cursor:pointer;\n    }\n    i {\n        margin-top:-3px;\n    }\n</style>","<script>\n    import { createEventDispatcher } from 'svelte';\n    import Item from './InputMultiItem.svelte';\n    export let f;\n    export let indent = 0;\n    const dispatch = createEventDispatcher();\n\n    $: indent_class = (indent > 5 ? 5 : indent);\n\n    function toggle_item() {\n        f.selected = !f.selected;\n        dispatch('item_update', {\n\t\t\titem: f\n\t\t});\n    }\n\n    function handleItemUpdate(ev) {\n        dispatch('item_update', {\n\t\t\titem: ev.detail.item\n\t\t});\n    }\n</script>\n\n{#if f.visible}\n    <div class=\"multi-item indent{indent_class}\" >\n        {#if f.children}\n            {#if f.expanded}\n                <i class=\"i-chevron-up i-20\" on:click=\"{ () => { f.expanded = false; } }\"></i>\n            {:else if f.expanded === false}\n                <i class=\"i-chevron-down i-20\" on:click=\"{ () => { f.expanded = true; } }\"></i>\n            {/if}\n        {/if}\n        {#if f.selectable}\n            {#if f.selected}\n                <i class=\"i-checkbox-selected i-20\" on:click=\"{toggle_item}\"></i>\n            {:else}\n                <i class=\"i-checkbox i-20\" on:click=\"{toggle_item}\"></i>\n            {/if}\n        {/if}\n        {f.value}\n        {#if f.pii}\n                <i title=\"Personally Identifiable Information\" class=\"i-fingerprint i-16\"></i>\n        {/if}\n        \n    \n    </div>\n    {#if f.children && f.expanded}\n        {#each f.children as f}\n            <svelte:self {f} indent={indent+1} on:item_update=\"{handleItemUpdate}\"/>\n        {/each}\n    {/if}\n{/if}\n\n<style>\n    .multi-item {\n        border-top:1px solid var(--eo-border-reduced);\n        border-bottom:1px solid var(--eo-border-reduced);\n        padding:8px 16px;\n        border-left:3px solid #D4D5EA;\n        margin-top:-1px;\n    }\n    .indent0 { border-left:none; }\n    .indent1 { margin-left: 20px; }\n    .indent2 { margin-left: 40px; }\n    .indent3 { margin-left: 60px; }\n    .indent4 { margin-left: 80px; }\n    .indent5 { margin-left: 100px; }\n</style>\n","<script>\n    import { createEventDispatcher } from 'svelte';\n    import Item from './InputMultiItem.svelte';\n    export let f;\n    export let indent = 0;\n    const dispatch = createEventDispatcher();\n\n    $: indent_class = (indent > 5 ? 5 : indent);\n\n    function toggle_item() {\n        f.selected = !f.selected;\n        dispatch('item_update', {\n\t\t\titem: f\n\t\t});\n    }\n\n    function handleItemUpdate(ev) {\n        dispatch('item_update', {\n\t\t\titem: ev.detail.item\n\t\t});\n    }\n</script>\n\n{#if f.visible}\n    <div class=\"multi-item indent{indent_class}\" >\n        {#if f.children}\n            {#if f.expanded}\n                <i class=\"i-chevron-up i-20\" on:click=\"{ () => { f.expanded = false; } }\"></i>\n            {:else if f.expanded === false}\n                <i class=\"i-chevron-down i-20\" on:click=\"{ () => { f.expanded = true; } }\"></i>\n            {/if}\n        {/if}\n        <span on:click=\"{toggle_item}\">\n            {f.value}\n        </span>\n        {#if f.pii}\n                <i title=\"Personally Identifiable Information\" class=\"i-fingerprint i-16\"></i>\n        {/if}\n        \n    \n    </div>\n    {#if f.children && f.expanded}\n        {#each f.children as f}\n            <svelte:self {f} indent={indent+1} on:item_update=\"{handleItemUpdate}\"/>\n        {/each}\n    {/if}\n{/if}\n\n<style>\n    .multi-item {\n        border-top:1px solid var(--eo-border-reduced);\n        border-bottom:1px solid var(--eo-border-reduced);\n        padding:8px 16px;\n        border-left:3px solid #D4D5EA;\n        margin-top:-1px;\n    }\n    .indent0 { border-left:none; }\n    .indent1 { margin-left: 20px; }\n    .indent2 { margin-left: 40px; }\n    .indent3 { margin-left: 60px; }\n    .indent4 { margin-left: 80px; }\n    .indent5 { margin-left: 100px; }\n</style>\n","<script>\n\n    import { onMount} from 'svelte';\n    import PubSub from 'pubsub-js'\n    import Item from './InputLookupItem.svelte';\n\n    export let f;\n    let orginal_options = JSON.parse(JSON.stringify(f.options)); //make a copy for resetting\n\n    let dd_in = false;\n    let tab=\"all\";\n\n    export let channel = 'ANSWER';\n\n    let item = false;\n    let selected = [];\n    let selected_shortlist = [];\n    let filtered = [];\n\n    function filter_item(item, txt) {\n        let item_ok = false;\n        if( item.value.toLowerCase().indexOf(txt) >= 0 ) {\n            item_ok = true;\n        }\n        if(item.children) {\n            item.children.forEach( (item) => {\n                let child_ok = filter_item(item, txt);\n                if(child_ok) {\n                    item_ok = true;\n                }\n            });\n        };\n        return item_ok;\n    }\n\n    function cull(arr, txt) {\n        let found = false;\n        arr.forEach( (item, i) => {\n            let found_in_children = false;\n            if(Array.isArray(item.children)) {\n                item.expanded = (typeof item.expanded !== 'undefined' ? item.expanded : true); //default to open\n                if(cull(item.children, txt)) {\n                    found_in_children = true;\n                }\n            }\n           /* if( item.value == 'Common Fields' || item.value == 'Report Event') {\n                console.log(item.value, txt=='', item.value.toLowerCase().indexOf(txt) >= 0, found_in_children)\n            }*/\n\n            if(txt == '' || item.value.toLowerCase().indexOf(txt) >= 0 || found_in_children){\n                item.visible = true;\n                found = true\n            } else {\n                item.visible = false;\n            }\n        });\n        return found;\n    }\n\n    $: {\n        let txt = f.answer;\n        recalc();\n        /*\n        console.log(\"filtering\");\n        cull(f.options, f.answer);\n        if(f.answer !== '') {\n            dd_in = true;\n        }\n        */\n    }\n    \n    let w = 0;\n\n    function tree_to_selected(arr) {\n        let temp_selected = [];\n        arr.forEach( (option) => {\n\n            if(option.selected) {\n                temp_selected.push(option)\n            }\n            if(option.children && option.children.length){\n                temp_selected = [...temp_selected, ...tree_to_selected(option.children)]\n            }\n        })\n        return temp_selected;\n    }\n    \n    function recalc() {\n        cull(f.options, f.answer);\n        \n        selected = tree_to_selected(f.options);\n        \n        if(w>0) {\n            let char_width = 12; //rough approximation\n            let max_chars = Math.floor(w/char_width);\n            let chars_used = 0;\n            let num_tags = 0;\n            selected.forEach( (tag) => {\n                let t_length = tag.value.length > 18 ? 18 : tag.value.length;\n                chars_used += t_length;\n                if(chars_used < max_chars) {\n                    \n                    num_tags++;\n                }\n            });\n            selected_shortlist = selected.slice(0, num_tags);\n            let answer = JSON.parse(JSON.stringify(f));\n            //answer.options = opts;\n            PubSub.publish(channel, answer);\n        }\n    }\n\n    function handleItemUpdate(ev) {\n        f.answer = ev.detail.item.value;\n        recalc();\n        dd_in = false;\n    }\n    \n\n\n    onMount(() => {\n        w = item.offsetWidth;\n        recalc();\n\t})\n</script>\n\n\n<div class=\"form-item\" bind:this=\"{item}\">\n    {#if f.label}\n        <label for=\"{f.id}\">{f.label}</label>\n    {/if}\n    {#if f.hint}\n        <p>{f.hint}</p>\n    {/if}\n    {#if dd_in}\n        <div class=\"multi-mask\" on:click={ () => { dd_in = false; }}></div>\n    {/if}\n    <div class=\"multi-wrapper\">\n        <div class=\"form-control\">\n            <input bind:value=\"{f.answer}\" on:keyup=\"{ () => { dd_in = true}}\" on:focus=\"{ (ev) => { ev.target.select()}}\" type=\"text\" placeholder=\"{f.placeholder ? f.placeholder : ''}\">\n            {#if !dd_in}\n                <i class=\"i-chevron-down i-20\" on:click=\"{ () => {f.answer=''; dd_in = !dd_in}}\"></i>\n            {:else}\n                <i class=\"i-chevron-up i-20\" on:click=\"{ () => { dd_in = !dd_in;}}\"></i>\n            {/if}\n        </div>\n        \n        <div class=\"multi-dropdown\" class:dd_in>\n            {#each f.options as f} \n                <Item {f} on:item_update=\"{handleItemUpdate}\"/>\n            {/each}\n        </div>\n\n    </div>\n    \n\n</div>\n\n<style>\n    .form-item {\n        overflow: initial;\n    }\n    .tag {\n        position:relative;\n    }\n    .multi-mask {\n        background:transparent;\n        position:absolute;\n        left:0;\n        top:60px;\n        width:100%;\n        height:100%;\n    }\n    .multi-wrapper {\n        position:relative;\n    }\n\n    .idea {\n        padding:8px;\n        display:flex;\n        flex-direction:row;\n        align-items: center;\n        border:1px solid var(--eo-border-reduced);\n        border-radius:8px;\n        margin-bottom:8px;\n    }\n    .idea p {\n        flex: 1;\n\t    font-size: 14px;\n\t    margin: 0 0 0 8px;\n        padding: 0;\n    }\n\n    .multi-dropdown {\n        width:100%;\n        max-width: 480px;\n        box-shadow:0 6px 10px rgba(186, 191, 195, 0.2);\n        background:#fff;\n        border-radius: 8px;\n        position: absolute;\n        left:0;\n        height:auto;\n        max-height:0;\n        overflow-y:auto;\n        transition: all 0.3s ease-out;\n        z-index: 200;\n    }\n    .multi-dropdown.dd_in {\n        max-height: 50vh;\n    }\n    .tabs {\n        margin-left:16px;\n    }\n    .tabs li a {\n        font-weight: 300;\n    }\n    .select {\n        flex:1;\n    }\n</style>\n","<script>\n\timport { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n\n    export let f;\n    function click_shortcut(s) {\n        dispatch('shortcut', {\n\t\t\tvalue: s.value\n\t\t});\n    }\n</script>\n\n{#if f.shortcuts}\n    <div class=\"shortcuts\">\n        {#each f.shortcuts as shortcut}\n            <div class=\"shortcut\" on:click=\"{ () => { click_shortcut(shortcut) } }\">\n                {shortcut.text}\n            </div>\n        {/each}\n    </div>\n{/if}\n<style>\n    .shortcuts {\n        display:flex;\n        flex-direction: row;\n        margin-top:4px;\n    }\n    .shortcut {\n        border: 1px solid var(--eo-border-reduced);\n        border-radius:100px;\n        font-size:12px;\n        line-height:12px;\n        padding:4px 8px;\n        cursor:pointer;\n    }\n    .shortcut:hover {\n        background: var(--eo-border-reduced)\n    }\n</style>","<script>\n    import Shortcuts from \"./Shortcuts.svelte\";\n    import PubSub from 'pubsub-js'\n    export let f;\n\n\n    function open_matrix() {\n        let answer = JSON.parse(JSON.stringify(f));\n        PubSub.publish('MATRIX', f);\n    }\n</script>\n\n\n<div class=\"form-item\">\n    {#if f.label}\n        <label for=\"{f.id}\">{f.label} {#if f.optional}<span class=\"optional\">(Optional)</span>{/if}</label>\n    {/if}\n    {#if f.hint}\n        <p>{f.hint}</p>\n    {/if}\n    <div class=\"form-control\" on:click=\"{open_matrix}\">\n        <div class=\"matrix\" class:ok=\"{f.answer.color == 'ok'}\" class:warning=\"{f.answer.color == 'warning'}\" class:critical=\"{f.answer.color == 'critical'}\">{f.answer.text ? f.answer.text : ''}</div>\n        <i class=\"i-hinton-plot  i-20\" ></i>\n    </div>\n    <Shortcuts {f} on:shortcut={(ev) => { f.answer = ev.detail.value.toLocaleString(); }}/>\n</div>\n\n<style>\n    .form-control {\n        width:82px;\n        padding:4px;\n    }\n    .matrix {\n        border:1px solid var(--eo-border-reduced);\n        border-radius:8px;\n        width: 38px;\n        height: 38px;\n        margin-right:8px;\n        text-align: center;\n        line-height: 38px;\n        font-weight: 900;\n    }\n    .matrix.ok {\n        background: var(--eo-secondary-500);\n        border:1px solid var(--eo-secondary-500);\n    }\n    .matrix.warning {\n        background: var(--eo-warning-500);\n        border:1px solid var(--eo-warning-500);\n    }\n    .matrix.critical {\n        background: var(--eo-critical-500);\n        border:1px solid var(--eo-critical-500);\n    }\n</style>\n\n","<script>\n\n    import { onMount} from 'svelte';\n    import PubSub from 'pubsub-js'\n    import Item from './InputMultiItem.svelte';\n\n    export let f;\n    let orginal_options = JSON.parse(JSON.stringify(f.options)); //make a copy for resetting\n\n    let dd_in = false;\n    let tab=\"all\";\n\n    export let channel = 'ANSWER';\n\n    let item = false;\n    let selected = [];\n    let selected_shortlist = [];\n    let filtered = [];\n\n    function filter_item(item, txt) {\n        let item_ok = false;\n        if( item.value.toLowerCase().indexOf(txt) >= 0 ) {\n            item_ok = true;\n        }\n        if(item.children) {\n            item.children.forEach( (item) => {\n                let child_ok = filter_item(item, txt);\n                if(child_ok) {\n                    item_ok = true;\n                }\n            });\n        };\n        return item_ok;\n    }\n\n    function cull(arr, txt) {\n        let found = false;\n        arr.forEach( (item, i) => {\n            let found_in_children = false;\n            if(Array.isArray(item.children)) {\n                item.expanded = (typeof item.expanded !== 'undefined' ? item.expanded : true); //default to open\n                if(cull(item.children, txt)) {\n                    found_in_children = true;\n                }\n            }\n           /* if( item.value == 'Common Fields' || item.value == 'Report Event') {\n                console.log(item.value, txt=='', item.value.toLowerCase().indexOf(txt) >= 0, found_in_children)\n            }*/\n\n            if(txt == '' || item.value.toLowerCase().indexOf(txt) >= 0 || found_in_children){\n                item.visible = true;\n                found = true\n            } else {\n                item.visible = false;\n            }\n        });\n        return found;\n    }\n\n    $: {\n        let txt = f.answer;\n        recalc();\n        /*\n        console.log(\"filtering\");\n        cull(f.options, f.answer);\n        if(f.answer !== '') {\n            dd_in = true;\n        }\n        */\n    }\n    \n    let w = 0;\n\n    function tree_to_selected(arr) {\n        let temp_selected = [];\n        arr.forEach( (option) => {\n\n            if(option.selected) {\n                temp_selected.push(option)\n            }\n            if(option.children && option.children.length){\n                temp_selected = [...temp_selected, ...tree_to_selected(option.children)]\n            }\n        })\n        return temp_selected;\n    }\n    \n    function recalc() {\n        \n        cull(f.options, f.answer);\n        if(f.answer !== '') {\n            dd_in = true;\n        }\n        selected = tree_to_selected(f.options);\n        \n        if(w>0) {\n            let char_width = 12; //rough approximation\n            let max_chars = Math.floor(w/char_width);\n            let chars_used = 0;\n            let num_tags = 0;\n            selected.forEach( (tag) => {\n                let t_length = tag.value.length > 18 ? 18 : tag.value.length;\n                chars_used += t_length;\n                if(chars_used < max_chars) {\n                    \n                    num_tags++;\n                }\n            });\n            selected_shortlist = selected.slice(0, num_tags);\n            let answer = JSON.parse(JSON.stringify(f));\n            //answer.options = opts;\n            PubSub.publish(channel, answer);\n        }\n    }\n\n    function remove_tag(tag) {\n        tag.selected = false;\n        f.options = f.options;\n        recalc();\n    }\n    function handleItemUpdate(ev) {\n        recalc();\n    }\n    function handleItemUpdate2(ev) {\n        recalc();\n    }\n\n\n    onMount(() => {\n        w = item.offsetWidth;\n        recalc();\n\t})\n</script>\n\n\n<div class=\"form-item\" bind:this=\"{item}\">\n    {#if f.label}\n        <label for=\"{f.id}\">{f.label}</label>\n    {/if}\n    {#if f.hint}\n        <p>{f.hint}</p>\n    {/if}\n    {#if f.max_warning}\n        {#if selected.length >= f.max_warning.value}\n            <div class=\"idea\"><i class=\"i-idea i-24\"></i><p>{f.max_warning.message}</p></div>\n        {/if}\n    {/if}\n    {#if dd_in}\n        <div class=\"multi-mask\" on:click={ () => { dd_in = false;f.answer=''; }}></div>\n    {/if}\n    {#if selected_shortlist.length}\n        {#each selected_shortlist as tag}\n            {#if tag.key == 'record_id'}\n                <div class=\"tag no_delete\">{tag.value}</div>\n            {:else}\n                <div class=\"tag\" on:click=\"{ () => remove_tag(tag)}\">{tag.value}<i class=\"i-close i-20\"></i></div>\n            {/if}\n        {/each}\n        {#if selected_shortlist.length < selected.length}\n            <div class=\"tag no_delete\">+{selected.length - selected_shortlist.length}</div>\n        {/if}\n    {/if}\n    <div class=\"multi-wrapper\">\n        <div class=\"form-control\">\n            <input bind:value=\"{f.answer}\" on:focus=\"{ (ev) => { ev.target.select()}}\" type=\"text\" placeholder=\"{f.placeholder ? f.placeholder : ''}\">\n            {#if !dd_in}\n                <i class=\"i-chevron-down i-20\" on:click=\"{ () => { dd_in = !dd_in}}\"></i>\n            {:else}\n                <i class=\"i-chevron-up i-20\" on:click=\"{ () => { dd_in = !dd_in; f.answer=''}}\"></i>\n            {/if}\n        </div>\n        \n        <div class=\"multi-dropdown\" class:dd_in>\n            <ul class=\"tabs\">\n                <li class=\"select\"><a>Select</a></li>\n                <li><a href=\"#ehs/incidents/dashboard\" class:active=\"{tab == 'all'}\" on:click|preventDefault =\"{ () => { tab = 'all';}}\">All</a></li>\n                <li><a href=\"#ehs/incidents/dashboard\" class:active=\"{tab == 'selected'}\" on:click|preventDefault =\"{ () => { tab = 'selected'; }}\">Selected</a></li>\n            </ul>\n            {#if tab == 'all'}\n                {#each f.options as f} \n                    <Item {f} on:item_update=\"{handleItemUpdate}\"/>\n                {/each}\n            \n\n\n            {:else if tab == 'selected'}\n                {#each selected as f}\n                    <Item {f} on:item_update=\"{handleItemUpdate2}\"/>\n                {/each}\n            {/if}\n        </div>\n\n    </div>\n    \n\n</div>\n\n<style>\n    .form-item {\n        overflow: initial;\n    }\n    .tag {\n        position:relative;\n    }\n    .multi-mask {\n        background:transparent;\n        position:absolute;\n        left:0;\n        top:60px;\n        width:100%;\n        height:100%;\n    }\n    .multi-wrapper {\n        position:relative;\n    }\n\n    .idea {\n        padding:8px;\n        display:flex;\n        flex-direction:row;\n        align-items: center;\n        border:1px solid var(--eo-border-reduced);\n        border-radius:8px;\n        margin-bottom:8px;\n    }\n    .idea p {\n        flex: 1;\n\t    font-size: 14px;\n\t    margin: 0 0 0 8px;\n        padding: 0;\n    }\n\n    .multi-dropdown {\n        width:100%;\n        max-width: 480px;\n        box-shadow:0 6px 10px rgba(186, 191, 195, 0.2);\n        background:#fff;\n        border-radius: 8px;\n        position: absolute;\n        left:0;\n        height:auto;\n        max-height:0;\n        overflow-y:auto;\n        transition: all 0.3s ease-out;\n        z-index: 200;\n    }\n    .multi-dropdown.dd_in {\n        max-height: 50vh;\n    }\n    .tabs {\n        margin-left:16px;\n    }\n    .tabs li a {\n        font-weight: 300;\n    }\n    .select {\n        flex:1;\n    }\n</style>\n","<script>\n    export let f;\n    export let channel = 'ANSWER';\n</script>\n\n\n<div class=\"form-item\">\n    {#if f.label}\n        <label for=\"{f.id}\">{f.label}</label>\n    {/if}\n    {#if f.hint}\n        <p>{f.hint}</p>\n    {/if}\n    <select class=\"form-control\"bind:value=\"{f.answer}\">\n        {#each f.options as option}\n            <option value=\"{option.value}\">{option.text}</option>\n        {/each}\n    </select>\n</div>\n","<script>\n    import Shortcuts from \"./Shortcuts.svelte\";\n    export let f;\n</script>\n\n\n<div class=\"form-item\">\n    {#if f.label}\n        <label for=\"{f.id}\">{f.label} {#if f.optional}<span class=\"optional\">(Optional)</span>{/if}</label>\n    {/if}\n    {#if f.hint}\n        <p>{f.hint}</p>\n    {/if}\n    <input id=\"{f.id}\" bind:value=\"{f.answer}\" type=\"text\" placeholder=\"{f.placeholder ? f.placeholder : ''}\" class=\"form-control\">\n    \n    <Shortcuts {f} on:shortcut={(ev) => { f.answer = ev.detail.value.toLocaleString(); }}/>\n</div>\n\n","<script>\n    export let f;\n</script>\n\n\n<div class=\"form-item\">\n    {#if f.label}\n        <label for=\"{f.id}\">{f.label}</label>\n    {/if}\n    {#if f.hint}\n        <p>{f.hint}</p>\n    {/if}\n    <textarea id=\"{f.id}\" bind:value=\"{f.answer}\" class=\"form-control\"></textarea>\n    \n</div>\n","<script>\n    import { onMount} from 'svelte';\n    export let f;\n\n\n    //pusher credentials\n    let app_id = \"8549\";\n    let key = \"c5d029ed185464bb76ed\";\n    let secret = \"67fdc58637775aa28ffd\";\n    let cluster = \"mt1\";\n    let unique_num = (Math.random() + '').substring(2);\n    console.log('unique num', unique_num);\n\n    \n\n    onMount(() => {f\n        \n        let pusher = new Pusher(\"key\", {\n            cluster: \"cluster\",\n        });\n\n        let hear = pusher.subscribe(\"signature-channel\");\n\n        hear.bind(\"pusher:subscription_succeeded\", () => {\n            console.log('a subscription was made')\n        });\n\n        hear.bind(\"signature-made\", (data) => {\n            // Method to be dispatched on trigger.\n            console.log('signature made');\n        });\n        \n\t})\n\n</script>\n\n\n\n<div class=\"form-item\">\n    {#if f.label}\n        <label for=\"{f.id}\">{f.label}</label>\n    {/if}\n    {#if f.hint}\n        <p>{f.hint}</p>\n    {/if}\n    <div class=\"signature-holder\">\n        <div class=\"signature-box\">\n            sign here\n        </div>\n        <div class=\"signature-qr\">\n            QR<br>\n            or sign with mobile\n        </div>\n    </div>\n    \n</div>\n","<script>\n    export let f;\n    export let channel = 'ANSWER';\n    function announce() {\n      let answer = JSON.parse(JSON.stringify(f));\n      //answer.options = opts;\n      PubSub.publish(channel, answer);\n    }\n</script>\n\n\n<div class=\"form-item\" class:clamp={f.clamp}>\n    {#if f.label}\n        <label for=\"{f.id}\">{f.label}</label>\n    {/if}\n    {#if f.hint}\n        <p>{f.hint}</p>\n    {/if}\n    {#each f.options as option}\n           <div class=\"switch-holder\">\n                <label class=\"switch\">\n                    <input type=\"checkbox\" bind:checked={option.value}>\n                    <span class=\"slider\"></span>\n                </label>\n                <span on:click=\"{ () => { option.value = !option.value; announce(); }}\">{option.text}</span>\n            </div>\n    {/each}\n</div>\n\n<style>\n    p {padding-bottom:0; }\n    .switch-holder {\n        display:flex;\n        flex-direction: row;\n        align-items: center;\n        padding:8px 0;\n        cursor: pointer;\n    }\n     .switch {\n  position: relative;\n  display: inline-block;\n  width: 36px;\n  min-width: 36px;\n  height: 20px;\n  margin-right:8px;\n}\n\n/* Hide default HTML checkbox */\n.switch input {\n  opacity: 0;\n  width: 0;\n  height: 0;\n}\n\n/* The slider */\n.slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: var(--eo-border-reduced);\n  -webkit-transition: .4s;\n  transition: .4s;\n  border-radius: 34px;\n}\n\n.slider:before {\n  position: absolute;\n  content: \"\";\n  height: 16px;\n  width: 16px;\n  left: 2px;\n  bottom: 2px;\n  background:#fff url(../images/icons/switch-tick.svg) left top no-repeat;\n  background-size: contain;\n  -webkit-transition: .4s;\n  transition: .4s;\n  border-radius: 50%;\n}\n\ninput:checked + .slider {\n  background-color: var(--eo-secondary-500);\n}\n\ninput:checked + .slider:before {\n  background-color: var(--eo-secondary-500);\n  box-shadow: 3px 2px 3px rgba(0, 0, 0, 0.3);\n}\n\ninput:focus + .slider {\n  box-shadow: 0 0 1px var(--eo-secondary-500);\n}\n\ninput:checked + .slider:before {\n  -webkit-transform: translateX(16px);\n  -ms-transform: translateX(16px);\n  transform: translateX(16px);\n}\n\n</style>","<script>\n    \n\timport InputCheckbox from \"./InputCheckbox.svelte\";\n\timport InputLookup from \"./InputLookup.svelte\";\n\timport InputMatrix from \"./InputMatrix.svelte\";\n\timport InputMulti from \"./InputMulti.svelte\";\n\timport InputSelect from \"./InputSelect.svelte\";\n\timport InputText from \"./InputText.svelte\";\n\timport InputTextarea from \"./InputTextarea.svelte\";\n\timport InputSignature from \"./InputSignature.svelte\";\n\timport InputSwitch from \"./InputSwitch.svelte\";\n\n\tlet components = {\n\t\t\"input_checkbox\": InputCheckbox,\n\t\t\"input_lookup\": InputLookup,\n\t\t\"input_matrix\": InputMatrix,\n\t\t\"input_multi\": InputMulti,\n\t\t\"input_select\": InputSelect,\n\t\t\"input_signature\": InputSignature,\n\t\t\"input_switch\": InputSwitch,\n\t\t\"input_text\": InputText,\n\t\t\"input_textarea\": InputTextarea\n    }\n    \n\n    export let f;\n    export let channel;\n\n</script>\n\n<div class=\"card\">\n    {#if f.label}\n        <div class=\"card-header\">\n            <h3>{f.label}</h3>\n        </div>\n    {/if}\n\n    <div class=\"card-body\">\n        {#if f.children}\n\n            {#each f.children as f} \n                {#if components[f.item_type]}\n                    <svelte:component this={components[f.item_type]} {f} {channel}/>\n                {:else}\n                    <div>Tried loading an unknown component <b>{f.item_type}</b></div>\n                {/if}\n            {/each}\n        {/if}\n\n    </div>\n</div>\n\n<style>\n    .card {\n        margin-bottom:16px;\n        padding:0px;\n        padding-top:16px;\n        padding-bottom:16px;\n    }\n    @media (min-width: 960px) {\n        .card {\n            padding: 16px;\n        }\n    }\n    h3 {\n        margin:0 0 16px 0;\n        font-weight:100;\n        font-size:20px\n    }\n</style>","<script>\n    import { onMount } from 'svelte';\n    import Section from './Section.svelte';\n\timport InputCheckbox from \"./InputCheckbox.svelte\";\n\timport InputLookup from \"./InputLookup.svelte\";\n\timport InputMatrix from \"./InputMatrix.svelte\";\n\timport InputMulti from \"./InputMulti.svelte\";\n    import InputSelect from \"./InputSelect.svelte\";\n\timport InputSignature from \"./InputSignature.svelte\";\n\timport InputSwitch from \"./InputSwitch.svelte\";\n\timport InputText from \"./InputText.svelte\";\n\timport InputTextarea from \"./InputTextarea.svelte\";\n\n    export let f;\n    export let channel = 'ANSWER';\n\n    let components = {\n        \"section\": Section,\n\t\t\"input_checkbox\": InputCheckbox,\n\t\t\"input_lookup\": InputLookup,\n\t\t\"input_matrix\": InputMatrix,\n\t\t\"input_multi\": InputMulti,\n\t\t\"input_select\": InputSelect,\n\t\t\"input_signature\": InputSignature,\n\t\t\"input_switch\": InputSwitch,\n\t\t\"input_text\": InputText,\n\t\t\"input_textarea\": InputTextarea\n    }\n\n    onMount(() => {\n\t\tconsole.log('Form and all children are mounted');\n\t});\n\n</script>\n\n{#each f as f}\n    {#if components[f.item_type]}\n        <svelte:component this={components[f.item_type]} {f} {channel}/>\n    {:else}\n        Unknown component <b>{f.item_type}</b> on Form.svelte.\n    {/if}\n{/each}","<script>\n    export let obj;\n</script>\n\n<a href=\"/\">{obj}</a>\n\n<style>\n    a {\n        font-weight:bold;\n        color: var(--eo-primary-500)\n    }\n</style>","<script>\n    export let obj;\n\n    let status_list = {\n        \"in_progress\": {\n            value: \"In Progress\",\n            color: \"success\"\n        },\n        \"awaiting_triage\": {\n            value: \"Awaiting Triage\",\n            color: \"warning\"\n        },\n        \"awaiting_investigation\": {\n            value: \"Awaiting Investigation\",\n            color: \"critical\"\n        }\n    }\n</script>\n{#if status_list[obj]}\n    <span class=\"badge {status_list[obj].color}\">{status_list[obj].value}</span>\n{:else}\n    <span class=\"badge unknown\">{obj}</span>\n{/if}\n\n<style>\n    .badge {\n        font-weight:bold;\n        font-size:11px;\n        line-height: 12px;\n        text-transform: uppercase ;\n        padding:2.5px 8px;\n        background-color: var(--eo-border);\n        color: var(--eo-border-input);\n        border-radius:4px;\n        white-space: nowrap;\n    }\n    .badge.success {\n        background-color: var(--eo-secondary-500);\n        color:var(--black);\n    }\n    .badge.warning {\n        background-color: var(--eo-warning-500);\n        color:var(--black);\n    }\n    .badge.critical {\n        background-color: var(--eo-critical-500);\n        color:#fff;\n    }\n</style>","<script>\n    export let obj;\n\n    let status_list = {\n        \"rapid\": {\n            value: \"Quick Report\",\n            icon: \"qr\"\n        },\n        \"eco\": {\n            value: \"Desktop\",\n            icon: \"desktop\"\n        }\n    }\n</script>\n{#if status_list[obj]}\n    <span><i class=\"i-{status_list[obj].icon} i-20\"></i> {status_list[obj].value}</span>\n{:else}\n    ?? {obj}\n{/if}\n\n<style>\n    span {\n        white-space: nowrap;\n    }\n</style>","<script>\n\n    export let obj; //assumes this is a date string\n\n    let str = JSON.parse(JSON.stringify(obj));\n    \n    $: formatted = (new Date(obj + '')).toLocaleString([], {year: 'numeric', month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit'});\n\n</script>\n<span title=\"UTC: {obj}\">{formatted}</span>\n","<script>\n    import { createEventDispatcher } from 'svelte';\n    import PubSub from 'pubsub-js'\n\n    import Pullout from './components/Pullout.svelte';\n\n    import Form from './components/form/Form.svelte';\n    import RecordID from \"./components/table/RecordID.svelte\";\n    import Status from \"./components/table/Status.svelte\";\n    import Channel from \"./components/table/Channel.svelte\";\n    import DateComp from \"./components/table/Date.svelte\";\n\n\n   \n\n\tlet components = {\n\t\t\"record_id\": RecordID,\n\t\t\"status\": Status,\n\t\t\"channel\": Channel,\n\t\t\"created_date\": DateComp\n\t}\n    \n    const dispatch = createEventDispatcher();\n\n\n    let tab = \"overview\";\n    export let tabnav = '';\n\n    $: {\n        let t = tabnav;\n        if(tabnav !== '') {\n            tab = t;\n\n        }\n    }\n   \n    let columns = [\n        {\n            \"key\": \"section\",\n            \"value\": \"Common Fields\",\n            \"children\": [\n                {\n                    \"key\": \"record_id\",\n                    \"value\": \"Record ID\",\n                    \"selectable\": false,\n                    \"selected\": true,\n                    \"pii\": false,\n                    \"sortable\": true,\n                    \"sorted\": \"desc\"\n                },\n                {\n                    \"key\": \"channel\",\n                    \"value\": \"Channel\",\n                    \"selectable\": true,\n                    \"selected\": true,\n                    \"pii\": false,\n                    \"sortable\": true\n                },\n                \n                {\n                    \"key\": \"created_date\",\n                    \"value\": \"Date created on\",\n                    \"selectable\": true,\n                    \"selected\": true,\n                    \"pii\": false,\n                    \"sortable\": true,\n                    \"sortable_type\": \"date\"\n                },\n                {\n                    \"key\": \"created_by\",\n                    \"value\": \"Creator\",\n                    \"selectable\": true,\n                    \"selected\": true,\n                    \"pii\": true,\n                    \"sortable\": true\n                },\n                {\n                    \"key\": \"updated_date\",\n                    \"value\": \"Date updated on\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": false,\n                    \"sortable\": true,\n                    \"sortable_type\": \"date\"\n                },\n                {\n                    \"key\": \"updated_by\",\n                    \"value\": \"Updated by\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": true,\n                    \"sortable\": true\n                },\n                {\n                    \"key\": \"status\",\n                    \"value\": \"Status\",\n                    \"selectable\": true,\n                    \"selected\": true,\n                    \"pii\": false,\n                    \"sortable\": true\n                },\n                {\n                    \"key\": \"group\",\n                    \"value\": \"Group\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": false,\n                    \"sortable\": true\n                },\n                {\n                    \"key\": \"division\",\n                    \"value\": \"Division\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": false,\n                    \"sortable\": true\n                },\n                {\n                    \"key\": \"sector\",\n                    \"value\": \"Sector\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": false,\n                    \"sortable\": true\n                }\n            ]\n        },\n        {\n            \"key\": \"section\",\n            \"value\": \"Report Event\",\n            \"children\": [\n                {\n                    \"key\": \"site\",\n                    \"value\": \"Site\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": false\n                },\n                {\n                    \"key\": \"primary_event_type\",\n                    \"value\": \"Event\",\n                    \"selectable\": true,\n                    \"selected\": true,\n                    \"pii\": false\n                }\n\n                \n                \n            ]\n        }\n    ];\n    let edit_columns = [];\n    let table_settings_form = [];\n    let channel = \"TABLE\";\n    let sub = PubSub.subscribe(channel, read_answer);\n\n    function read_answer(msg, data) {\n        if(data.id == \"table_settings_multi\") { \n            edit_columns = data.options;\n        }\n    }\n    function save_table_settings() {\n        columns = edit_columns;\n        table_settings_form[0].options = edit_columns;\n        table_cancel();\n        /*\n        table_settings_form.options = columns;\n        table_settings_form = table_settings_form;\n        */\n    }\n\n    let selected_columns = [];\n\n    $: {\n        let temp_sel = {};\n        let c = columns;\n        c.forEach( (group) => {\n            group.children.forEach( (col) => {\n                if(col.selected == true) {\n                    temp_sel[col.key] = col;\n                }\n            });\n        })\n        selected_columns = temp_sel;\n    }\n    \n    let table_data = [\n        { \n            \"created_date\": \"2022-01-22T13:08:10.430Z\",\n            \"created_by\": \"Mike Wazowski\",\n            \"updated_date\": \"2022-01-24T3:48:19.430Z\",\n            \"updated_by\": \"Mike Wazowski\",\n            \"group\": \"Ireland\",\n            \"division\": \"Cork\",\n            \"sector\": \"Plumbing\",\n            \"record_id\": 485,\n            \"channel\": \"rapid\",\n            \"primary_event_type\": \"Near miss\",\n            \"date_time\": \"2022-01-24T03:48:19.430Z\",\n            \"time_relative\": \"9hr 42min\",\n            \"location\": \"Main Office\",\n            \"custom_field_shift\": \"Yellow Shift\",\n            \"open_actions\": 0,\n            \"total_actions\": 2,\n            \"open_total_actions\": \"0/2\",\n            \"status\": \"in_progress\"\n        },\n        { \n            \"created_date\": \"2022-01-22T03:48:19.430Z\",\n            \"created_by\": \"James P Sullivan\",\n            \"updated_date\": \"2022-01-24T3:48:19.430Z\",\n            \"updated_by\": \"Fungus\",\n            \"group\": \"Ireland\",\n            \"division\": \"Cork\",\n            \"sector\": \"Plumbing\",\n            \"record_id\": 484,\n            \"channel\": \"eco\",\n            \"primary_event_type\": \"Accident\",\n            \"date_time\": \"2022-01-24T3:48:19.430Z\",\n            \"time_relative\": \"9hr 42min\",\n            \"location\": \"Main Office\",\n            \"custom_field_shift\": \"Red Shift\",\n            \"open_actions\": 0,\n            \"total_actions\": 2,\n            \"open_total_actions\": \"0/2\",\n            \"status\": \"awaiting_triage\"\n        },\n        { \n            \"created_date\": \"2022-01-22T18:56:19.430Z\",\n            \"created_by\": \"Boo\",\n            \"updated_date\": \"2022-01-24T3:48:19.430Z\",\n            \"updated_by\": \"Fungus\",\n            \"group\": \"Ireland\",\n            \"division\": \"Cork\",\n            \"sector\": \"Plumbing\",\n            \"record_id\": 486,\n            \"channel\": \"rapid\",\n            \"primary_event_type\": \"Accident\",\n            \"date_time\": \"2022-01-24T3:48:19.430Z\",\n            \"time_relative\": \"9hr 42min\",\n            \"location\": \"Main Office\",\n            \"custom_field_shift\": \"Blue Shift\",\n            \"open_actions\": 0,\n            \"total_actions\": 2,\n            \"open_total_actions\": \"0/2\",\n            \"status\": \"awaiting_investigation\"\n        }\n    ]\n    \n    function sort_table(th) {\n\n        if(!th.sortable) {\n            console.log('cant sort this column');\n            return false;\n        }\n        \n        let new_sort_dir = th.sorted == 'desc' ? 'asc' : 'desc';\n        let new_sort_key = th.key;\n        //remove old key\n        let c = selected_columns[sort_key];\n        if(c) {\n            delete c.sorted;\n        }\n        //update new\n        th.sorted = new_sort_dir;\n        sort_dir = new_sort_dir;\n        sort_key = new_sort_key;\n        columns = columns;\n    }\n\n    let sort_key = 'record_id';\n    let sort_dir = 'desc';\n\n    $:table_data_sorted = table_data.sort((a, b) => {\n        \n        let A = (a[sort_key] + '').toLowerCase();\n        let B = (b[sort_key] + '').toLowerCase();\n\n        if(sort_dir == 'desc') {\n            return A<B ? 1 : -1;\n        } else {\n            return A>B ? 1 : -1;\n        }\n\n       \n\n    })\n\n    let table_drawer = false;\n    \n    $: {\n        let s = table_drawer;\n        if(s) {\n            table_settings_form = [\n                {\n                    item_type: \"input_multi\",\n                    id: \"table_settings_multi\",\n                    label: \"Columns to show\",\n                    hint: \"All users will see these changes. Any that contain personally identifiable information will be redacted if the user doesn't have permission.\",\n                    max_warning: {\n                        value: 10,\n                        message: 'If you have too many columns this page may become unresponsive for all users. You can always pin this table to your own dashboard to customize further.'\n                    },\n                    options: JSON.parse(JSON.stringify(columns)),\n                    answer: \"\"\n                }\n            ];\n        }\n    }\n    function table_cancel() {\n        table_drawer = false;\n    }\n\n\n\n    \n\n    function nav(str) {\n\t\tdispatch('nav', {\n\t\t\ttext: str\n\t\t});\n\t}\n\n    let pin_title = 'Pin module';\n    let pin_drawer = false;\n    let pin_form = [\n        {\n            item_type: \"input_select\",\n            id: \"pin_module_dashboard\",\n            label: \"Select a dashboard to pin it to\",\n            options: [\n                { \"value\": 1, \"text\": \"Dashboard 1\"},\n                { \"value\": 2, \"text\": \"Dashboard 2\"},\n                { \"value\": 3, \"text\": \"Dashboard 3\"},\n                { \"value\": 4, \"text\": \"Dashboard 4\"},\n                { \"value\": 5, \"text\": \"Dashboard 5\"}\n            ],\n            answer: \"\"\n        },\n        {\n            item_type: \"input_checkbox\",\n            id: \"pin_module_navigate\",\n            options: [\n                { \"value\": false, \"text\": \"Open the dashboard after you pin it?\"}\n            ],\n            answer: \"\"\n        }\n    ]\n    function pin_module(title) {\n        pin_title = \"Pin \" + title;\n        pin_drawer = true;\n    }\n    function pin_save() {\n        pin_drawer = false;\n        if(pin_form[1].options[0].value) {\n            alert('Pinned');\n            window.location.hash = \"#ehs/dashboards\";\n        } else {\n            alert('Pinned')\n        }\n    }\n    function pin_cancel() {\n        pin_drawer = false;\n    }\n\n\n</script>\n\n<div class=\"row sticky\">\n    <div class=\"col12 col-sm-5\">\n        <ul class=\"breadcrumb\">\n            <li><a href=\"#platform\">EcoOnline</a></li>\n            <li><a href=\"#ehs\">EHS</a></li>\n            <li>Incidents</li>\n        </ul>\n    </div>\n    <div class=\"col12 col-sm-7 text-right\">\n    <!--\n        <a title=\"Incidents\" href=\"#ehs/incidents\" on:click=\"{ () => {nav('incidents')}}\" class=\"menu-icon selected\"><i class='i-dashboard i-24'></i></a>\n        <a title=\"Summary\" href=\"#ehs/incidents/summary\" on:click=\"{ () => {nav('summary')}}\" class=\"menu-icon\"><i class='i-summary i-24'></i></a>\n        <a title=\"Incident Admin\" href=\"#ehs/incidents/incidents_admin\" on:click=\"{ () => {nav('incidents_admin')}}\" class=\"menu-icon\"><i class='i-tool i-24'></i></a>\n        <a title=\"Query\" href=\"#ehs/incidents/queries_new\" on:click=\"{ () => {nav('queries_new')}}\" class=\"menu-icon\"><i class='i-filter i-24'></i></a>\n    -->\n        <a title=\"New Incident\" href=\"#ehs/incidents/incidents_new\" on:click=\"{ () => {nav('incidents_new')}}\" class='btn'>New</a>\n        <!--<a href=\"#ehs/incidents/queries_new\" on:click=\"{ () => {nav('incidents_new')}}\" class=\"menu-icon\"><i class='i-add i-24'></i></a>\n        <a href=\"#ehs/incidents/queries_new\" on:click=\"{ () => {nav('queries_new')}}\" class='btn btn-secondary'>Query</a>-->\n       \n    </div>\n</div>\n\n\n<h1 class=\"page-title\"><i class=\"i-incidents i-32\"></i>Incidents</h1>\n\n<ul class=\"tabs\">\n    <li><a href=\"#ehs/incidents/overview\" class:active=\"{tab == 'overview'}\" on:click =\"{ () => { tab = 'overview';}}\">Overview</a></li>\n    <li><a href=\"#ehs/incidents/queries_new\">Query</a></li>\n    <li><a href=\"#ehs/incidents/summary\" class:active=\"{tab == 'summary'}\" on:click =\"{ () => { tab = 'summary'; }}\">Summary</a></li>\n    <li><a href=\"#ehs/incidents/incidents_admin\">Admin</a></li>\n</ul>\n\n{#if tab == 'overview'}\n    <div class=\"row\">\n        <div class=\"col12 col-md-6\">\n            <div class=\"row\">\n                <div class=\"col6\">\n                    <div class=\"card card-31\">\n                        <div class=\"card-header\">Open Events<a href=\"/\" class=\"i-pin i-20 btn-right\" on:click|preventDefault=\"{ () => { pin_module('Open Events')}}\"> </a></div>\n                        <div class=\"card-body\">\n                            <div class=\"big-num\">40</div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col6\">\n                    <div class=\"card card-31\">\n                        <div class=\"card-header\">Awaiting Investigation<a href=\"/\" class=\"i-pin i-20 btn-right\" on:click|preventDefault=\"{ () => { pin_module('Awaiting investigation')}}\"> </a></div>\n                        <div class=\"card-body\">\n                            <div class=\"big-num minor\">11</div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col6\">\n                    <div class=\"card card-31\">\n                        <div class=\"card-header\">Awaiting Signoff<a href=\"/\" class=\"i-pin i-20 btn-right\" on:click|preventDefault=\"{ () => { pin_module('Awaiting Signoff')}}\"> </a></div>\n                        <div class=\"card-body\">\n                            <div class=\"big-num minor\">3</div>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"col6\">\n                    <div class=\"card card-31\">\n                        <div class=\"card-header\">High Potential Severity<a href=\"/\" class=\"i-pin i-20 btn-right\" on:click|preventDefault=\"{ () => { pin_module('High Potential Severity')}}\"> </a></div>\n                        <div class=\"card-body\">\n                            <div class=\"big-num danger\">1</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n        <div class=\"col12 col-md-6\">\n            <div class=\"card card-32\">\n                <div class=\"card-header\">Events by Type<a href=\"/\" class=\"i-pin i-20 btn-right\" on:click|preventDefault=\"{ () => { pin_module('Events by Type')}}\"> </a></div>\n                <div class=\"card-body\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\"  class=\"demo_graph\" viewBox=\"0 0 428 203\" width=\"90%\"  display=\"block\">\n                        \n                        <!-- horizontal grid lines -->\n                        <path class=\"grid_lines\" d=\"M 35 162 L 407 162 M 35 138 L 407 138 M 35 114 L 407 114 M 35 91 L 407 91 M 35 67 L 407 67 M 35 43 L 407 43 M 35 19 L 407 19\"></path>\n                        \n                        <rect class=\"leg1\" x=39 y=150 width=29 height=12 />\n                        <rect class=\"leg1\" x=76 y=138 width=29 height=24 />\n                        <rect class=\"leg1\" x=225 y=150 width=29 height=12 />\n                        <rect class=\"leg1\" x=262 y=150 width=29 height=12 />\n                        <rect class=\"leg1\" x=299 y=150 width=29 height=12 />\n                        <rect class=\"leg1\" x=374 y=126 width=29 height=36 />\n\n\n                        <rect class=\"leg2\" x=39 y=138 width=29 height=12 />\n                        <rect class=\"leg2\" x=76 y=114 width=29 height=24 />\n                        <rect class=\"leg2\" x=151 y=150 width=29 height=12 />\n                        <rect class=\"leg2\" x=225 y=138 width=29 height=12 />\n                        <rect class=\"leg2\" x=262 y=126 width=29 height=24 />\n                        <rect class=\"leg2\" x=374 y=114 width=29 height=12 />\n                                        \n                        \n                        <rect class=\"leg3\" x=76 y=55 width=29 height=60 />\n                        <rect class=\"leg3\" x=113 y=138 width=29 height=24 />\n                        <rect class=\"leg3\" x=188 y=138 width=29 height=24 />\n                        \n                        <rect class=\"leg4\" x=262 y=114 width=29 height=12 />\n                        <rect class=\"leg4\" x=374 y=102 width=29 height=12 />\n                                       \n                        <rect class=\"leg5\" x=76 y=31 width=29 height=24 />\n                                        \n                        <!-- X axis with ticks -->\n                        <path class=\"axis\" d=\"M 34 162 L 408 162 M 35 162 L 35 167 M 72 162 L 72 167 M 109 162 L 109 167 M 147 162 L 147 167 M 184 162 L 184 167 M 221 162 L 221 167 M 258 162 L 258 167 M 295 162 L 295 167 M 333 162 L 333 167 M 370 162 L 370 167 M 407 162 L 407 167\" ></path>\n                        <!-- Y axis with ticks -->\n                        <path class=\"axis\" d=\"M 35 162 L 35 19 M 35 162 L 30 162 M 35 138 L 30 138 M 35 114 L 30 114 M 35 91 L 30 91 M 35 67 L 30 67 M 35 43 L 30 43 M 35 19 L 30 19\"></path>\n\n                        <text x=\"40.1\" y=\"170\" opacity=\"1\"><tspan x=\"41.95\" y=\"180\" dy=\"0\">2021 </tspan><tspan x=\"45.38\" y=\"180\" dy=\"12.5\">-01 </tspan></text>\n                        <text x=\"374.9\" y=\"170\" opacity=\"1\"><tspan x=\"376.75\" y=\"180\" dy=\"0\">2021 </tspan><tspan x=\"380.18\" y=\"180\" dy=\"12.5\">-10 </tspan></text>\n                        <text x=\"77.3\" y=\"170\" opacity=\"1\"><tspan x=\"79.15\" y=\"180\" dy=\"0\">2021 </tspan><tspan x=\"82.58\" y=\"180\" dy=\"12.5\">-02 </tspan></text>\n                        <text x=\"114.5\" y=\"170\" opacity=\"1\"><tspan x=\"116.35\" y=\"180\" dy=\"0\">2021 </tspan><tspan x=\"119.78\" y=\"180\" dy=\"12.5\">-03 </tspan></text>\n                        <text x=\"151.7\" y=\"170\" opacity=\"1\"><tspan x=\"153.55\" y=\"180\" dy=\"0\">2021 </tspan><tspan x=\"156.98\" y=\"180\" dy=\"12.5\">-04 </tspan></text>\n                        <text x=\"188.9\" y=\"170\" opacity=\"1\"><tspan x=\"190.75\" y=\"180\" dy=\"0\">2021 </tspan><tspan x=\"194.18\" y=\"180\" dy=\"12.5\">-05 </tspan></text>\n                        <text x=\"226.1\" y=\"170\" opacity=\"1\"><tspan x=\"227.95\" y=\"180\" dy=\"0\">2021 </tspan><tspan x=\"231.38\" y=\"180\" dy=\"12.5\">-06 </tspan></text>\n                        <text x=\"263.3\" y=\"170\" opacity=\"1\"><tspan x=\"265.15\" y=\"180\" dy=\"0\">2021 </tspan><tspan x=\"268.58\" y=\"180\" dy=\"12.5\">-07 </tspan></text>\n                        <text x=\"300.5\" y=\"170\" opacity=\"1\"><tspan x=\"302.35\" y=\"180\" dy=\"0\">2021 </tspan><tspan x=\"305.78\" y=\"180\" dy=\"12.5\">-08 </tspan></text>\n                        <text x=\"337.7\" y=\"170\" opacity=\"1\"><tspan x=\"339.55\" y=\"180\" dy=\"0\">2021 </tspan><tspan x=\"342.98\" y=\"180\" dy=\"12.5\">-09 </tspan></text>\n                        <text x=\"21.41\" y=\"155.2\" opacity=\"1\"><tspan x=\"21.41\" y=\"167.2\" dy=\"0\">0</tspan></text>\n                        <text x=\"13.81\" y=\"12.2\" opacity=\"1\"><tspan x=\"13.81\" y=\"24.2\" dy=\"0\">12</tspan></text>\n                        <text x=\"21.41\" y=\"131.37\" opacity=\"1\"><tspan x=\"21.41\" y=\"143.37\" dy=\"0\">2</tspan></text>\n                        <text x=\"21.41\" y=\"107.54\" opacity=\"1\"><tspan x=\"21.41\" y=\"119.54\" dy=\"0\">4</tspan></text>\n                        <text x=\"21.41\" y=\"83.7\" opacity=\"1\"><tspan x=\"21.41\" y=\"95.7\" dy=\"0\">6</tspan></text>\n                        <text x=\"21.41\" y=\"59.87\" opacity=\"1\"><tspan x=\"21.41\" y=\"71.87\" dy=\"0\">8</tspan></text>\n                        <text x=\"13.81\" y=\"36.04\" opacity=\"1\"><tspan x=\"13.81\" y=\"48.04\" dy=\"0\">10</tspan></text>\n                        \n                    </svg>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    <div class=\"row\">\n        <div class=\"col12\">\n            <h4 style=\"\">Latest Events\n                <a href=\"/\" class=\"i-pin i-20 btn-right\" on:click|preventDefault=\"{ () => { pin_module('Latest Events')}}\"> </a>\n                <a href=\"/\" class=\"i-settings i-20 btn-right\"  on:click|preventDefault=\"{ () => { table_drawer=true;}}\"> </a>\n            </h4>\n            <div class=\"sticky-wrapper\">\n                <table class=\"table\">\n                    <thead>\n                        <tr>\n                            {#each Object.entries(selected_columns) as [k, th]}\n                                <th on:click=\"{ () => { sort_table(th)}}\"class:sortable=\"{th.sortable}\" class:asc=\"{th.sorted == 'asc'}\" class:desc=\"{th.sorted == 'desc'}\">{th.value}</th>\n                            {/each}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {#each table_data_sorted as row}\n                            <tr>\n                                {#each Object.entries(selected_columns) as [k, th]}\n                                    <td>\n                                        {#if components[th.key]}\n                                            <svelte:component this={components[th.key]} obj={row[th.key]} />\n                                        {:else}\n                                            {row[th.key]}\n                                        {/if}\n                                    </td>\n                                {/each}\n                            </tr>\n                        {/each}\n                        <!--\n                        <tr>\n                            <td><b>485</b></td>\n                            <td>Full Report</td>\n                            <td>[]</td>\n                            <td>Near Miss</td>\n                            <td>9hr 4min</td>\n                            <td>Main Office</td>\n                            <td>Yellow</td>\n                            <td>0</td>\n                            <td>In Progress</td>\n                        </tr>\n                        -->\n                    </tbody>\n                </table>\n                <div class=\"pagination-wrapper\"><div class=\"pagination\"> </div></div>\n            </div>\n        </div>\n        \n    </div>\n {:else if tab == 'summary'}\n    <h2>Summary</h2>\n{/if}\n\n\n<Pullout show_drawer={table_drawer} title=\"Table settings\" on:close={table_cancel}>\n    <Form f={table_settings_form} {channel}></Form>\n    <div class=\"form-item\">\n        <span class=\"btn\" on:click=\"{save_table_settings}\">Save</span>\n        <span class=\"btn btn-secondary\" on:click=\"{table_cancel}\">Cancel</span>\n    </div>\n</Pullout>\n\n<Pullout show_drawer={pin_drawer} title={pin_title} on:close={pin_cancel}>\n    <Form f={pin_form}></Form>\n    <span class=\"btn\" on:click=\"{pin_save}\">Pin</span>\n    <!--<span class=\"btn btn-secondary\" on:click=\"{pin_cancel}\">Pin and Open Dashboard</span>-->\n    <span class=\"btn btn-secondary\" on:click=\"{pin_cancel}\">Cancel</span>\n</Pullout>\n\n<style>\n    .sticky-wrapper {\n        box-shadow:0 6px 10px rgba(186, 191, 195, 0.2);\n    }\n\n\n    .demo_graph .axis {\n        fill: none;\n        stroke-linecap:butt;\n        stroke-linejoin: round;\n        stroke: var(--eo-border);\n        stroke-width:1;\n        stroke-opacity:1;\n    }\n    .demo_graph .grid_lines {\n        fill: none;\n        stroke-linecap:butt;\n        stroke-linejoin: round;\n        stroke: var(--eo-border-reduced);\n        stroke-width:1;\n        stroke-opacity:1;\n    }\n    .demo_graph text {\n        font-size:10px;\n    }\n    .demo_graph rect { \n        opacity:0.9;\n        transition: opacity 0.5s linear;\n    }\n    .demo_graph .leg1 { fill: #404387; }\n    .demo_graph .leg2 { fill: #29788E; }\n    .demo_graph .leg3 { fill: #22A784; }\n    .demo_graph .leg4 { fill: #79D151; }\n    .demo_graph .leg5 { fill: #FDE724; }\n\n    .demo_graph rect:hover { cursor:pointer;opacity:1 ! important }\n    .demo_graph:hover rect {opacity:0.5}\n\n\n\n</style>\n\t\n        ","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { is_function, assign } from '../internal/index.mjs';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","import { cubicOut } from 'svelte/easing'\nexport function hslide(node, {\n\tdelay = 0,\n\tduration = 120,\n\teasing = cubicOut\n})  {\n\tconst style = getComputedStyle(node);\n\tconst opacity = +style.opacity;\n\tconst width = parseFloat(style.width);\n\tconst padding_left = parseFloat(style.paddingLeft);\n\tconst padding_right = parseFloat(style.paddingRight);\n\tconst margin_left = parseFloat(style.marginLeft);\n\tconst margin_right = parseFloat(style.marginRight);\n\tconst border_left_width = parseFloat(style.borderLeftWidth);\n\tconst border_right_width = parseFloat(style.borderRightWidth);\n\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: t =>\n\t\t\t`overflow: hidden;` +\n\t\t\t`opacity: ${Math.min(t * 20, 1) * opacity};` +\n\t\t\t`width: ${t * width}px;` +\n\t\t\t`padding-left: ${t * padding_left}px;` +\n\t\t\t`padding-right: ${t * padding_right}px;` +\n\t\t\t`margin-left: ${t * margin_left}px;` +\n\t\t\t`margin-right: ${t * margin_right}px;` +\n\t\t\t`border-left-width: ${t * border_left_width}px;` +\n\t\t\t`border-right-width: ${t * border_right_width}px;`\n\t};\n}","<script>\n\n    import { hslide } from './slide.js';\n\n\tlet slides = [\n\t\t{ img: './images/trees/t2.jpeg' },\n\t\t{ img: './images/trees/t3.jpeg' },\n\t\t{ img: './images/trees/t4.jpeg' },\n\t\t{ img: './images/trees/t5.jpeg' },\n\t\t{ img: './images/trees/t7.jpeg' },\n\t\t{ img: './images/trees/t8.jpeg' }\n\t]\n\t\n\tlet cur = 0;\n\t\n\tfunction changeSlide(slide) {\n\t\tcur = slide;\n\t}\n\t\n\tconst clamp = (number, min, max) => Math.min(Math.max(number, min), max);\n\tconst transition_args = {\n\t\tduration: 500,\n\t}\n\t\n\tfunction prev(e) {\n\t\tcur = clamp( --cur, 0, slides.length-1 )\n\t}\n\t\n\tfunction next(e) {\n\t\tcur = clamp( ++cur, 0, slides.length-1 )\n\t}\n\t\n  const ARROW_LEFT = 37;\n\tconst ARROW_RIGHT = 39;\n\tfunction handleShortcut(e) {\n        if (e.keyCode === ARROW_LEFT ) {\n\t\t\t\t\t\tprev();\n        }\n\t\t    if (e.keyCode === ARROW_RIGHT ) {\n            next();\n        }\n    }\n\n</script>\n\n<svelte:window on:keyup={handleShortcut} />\n\n<div class=\"extra-outer-wrapper\">\n\t<div class=\"outer-wrapper\">\n\t\t<div class=\"inner-wrapper\">\n\t\t\t{#each slides as slide, id}\n\t\t\t\t{#if id === cur}\n\t\t\t\t<div\n\t\t\t\t\t\t style=\"background-image:url({slide.img})\"\n\t\t\t\t\t\t class=\"slide\"\n\t\t\t\t\t\t in:hslide={transition_args}\n\t\t\t\t\t\t out:hslide={transition_args}\n\t\t\t\t>\t\n\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t{/each}\n\t\t\t<div class=\"controls\">\n\t\t\t\t<button on:click=\"{()=>prev()}\">\n\t\t\t\t\t&lt;\n\t\t\t\t</button>\n\t\t\t\t<button on:click=\"{()=>next()}\">\n\t\t\t\t\t&gt;\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<div class=\"dots\">\n\t{#each slides as slide, i}\n\t\t<button on:click={()=>changeSlide(i)} class=\"dot\" class:selected={cur == i}>{i+1}</button>\n\t{/each}\n</div>\n\n<style>\n\t\n\t:global(html) {\n\t\tfont-size: 62.5%;\n\t}\n\t\n\t:global(body) {\n\t\tfont-size: 1.4rem;\n\t}\n\n\tbutton {\n\t\tbackground: transparent;\n\t\tcolor: #FFF;\n\t\tborder-color: transparent;\n\t\twidth: 3.2rem;\n\t\theight: 3.2rem;\n\t}\n\t\n\tbutton:hover,\n\tbutton:focus{\n\t\tbackground: rgba(0,0,0,0.5);\n\t}\n\t\n\t.dots {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-top: 8px;\n\t}\n\t\n\t.dot {\n\t\twidth: 8px;\n\t\theight: 8px;\n\t\tbackground: #000;\n\t\tborder-radius: 100%;\n\t\tfont-size: 0;\n\t\tmargin: 0.3rem;\n\t\topacity: 0.3;\n        padding:0;\n\t}\n\t\n\t.dot.selected {\n\t\topacity: 1;\n\t}\n\n\t.extra-outer-wrapper {\n\t\twidth: 80%;\n\t\tmargin: 0 auto;\n\t}\n\n\t.outer-wrapper {\n\t\twidth: 100%;\n\t\tpadding: 0 0 56.25%;\n\t\tposition: relative;\n\t}\n\t\n\t.inner-wrapper {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tposition: absolute;\n\t}\n\n\t.controls button:first-child {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: calc(50% - 1.2rem);\n\t}\n\t\n\t.controls button:last-child {\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: calc(50% - 1.2rem);\n\t}\n\t\n\t.slide {\n\t\tflex: 1 0 auto;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: red;\n\t  align-items: center;\n\t\tjustify-content: center;\n\t\tdisplay: flex;\n\t\ttext-align: center;\n\t\tfont-weight: bold;\n\t\tfont-size: 2rem;\n\t\tcolor: white;\n        background-repeat: no-repeat;\n        background-position: center center;\n        background-size:contain;\n        background-color:#eee;\n        border-radius: 4px;\n\t}\n\t\n\t.controls {\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t\tdisplay: block;\n\t}\n</style>","<script>\n    import { onMount } from 'svelte';\n\timport { fade, fly } from 'svelte/transition';\n    import { createEventDispatcher } from 'svelte';\n    import Pullout from './components/Pullout.svelte';\n    import Form from './components/form/Form.svelte';\n    import Slide from './components/Slide.svelte';\n    //import { validate_each_keys } from 'svelte/internal';\n    \n    const dispatch = createEventDispatcher();\n\n    let single_page = false; //view as tabs\n\n    let form_test = 'Form testttttt';\n    let f = [\n        {\n            item_type: \"section\",\n            label: \"Initial details\",\n            children: [\n                {\n                    item_type: \"input_text\",\n                    id: \"0_1\",\n                    label: \"Site\",\n                    hint: false,\n                    placeholder: \"Click or type to select...\",\n                    options: [\n                        {value: '', text: \"Select one\"},\n                        {value: 'PP', text: \"Passport\"},\n                        {value: 'ID', text: \"National ID\"},\n                    ],\n                    answer: \"\"\n                },\n                {\n                    item_type: \"input_text\",\n                    id: \"0_2\",\n                    label: \"Date and time of event\",\n                    hint: false,\n                    answer: \"\",\n                    shortcuts: [\n                        {\n                            value: new Date(), text: \"Now\"\n                        }\n                    ]\n                },\n                {\n                    item_type: \"input_text\",\n                    id: \"0_3\",\n                    label: \"Date and time reported\",\n                    hint: false,\n                    answer: \"\",\n                    shortcuts: [\n                        {\n                            value: new Date(), text: \"Now\"\n                        }\n                    ]\n                },\n                {\n                    item_type: \"input_text\",\n                    id: \"0_4\",\n                    label: \"Offsite location\",\n                    optional: true,\n                    hint: false,\n                    answer: \"\"\n                }\n            ]\n        },\n        {\n            item_type: \"section\",\n            label: \"Details of event\",\n            children: [\n                {\n                    item_type: \"input_text\",\n                    id: \"0_5\",\n                    label: \"Manual reference number\",\n                    optional: true,\n                    hint: false,\n                    answer: \"\"\n                },\n                {\n                    item_type: \"input_text\",\n                    id: \"0_6\",\n                    label: \"Time into shift\",\n                    optional: true,\n                    answer: \"\"\n                },\n                {\n                    item_type: \"input_switch\",\n                    id: \"0_7\",\n                    label: \"\",\n                    options: [\n                        {value: false, text: \"Medical care given\"}\n                    ]\n                },\n                {\n                    item_type: \"input_switch\",\n                    id: \"0_8\",\n                    label: \"Was lost time involved\",\n                    hint: \"Turn this on if the person was or is still off work\",\n                    options: [\n                        {value: false, text: \"\"}\n                    ]\n                },\n                {\n                    item_type: \"input_matrix\",\n                    id: \"0_9\",\n                    label: \"Pre controls risk rating\",\n                    matrix: {\n                        x_criteria: [\n                            {\n                                label: \"Safety\",\n                                options: [\n                                    {\"label\": \"Injury requiring first aid but not medical intervention\", \"selected\": false},\n                                    {\"label\": \"Injury requiring medical intervention (not life threatening)\", \"selected\": false},\n                                    {\"label\": \"Injury requiring immediate medical intervention and hospitalisation\", \"selected\": false},\n                                    {\"label\": \"Fatality or life threatening injury\", \"selected\": false},\n                                    {\"label\": \"Multiple onsite fatalities. Any offsite fatalities\", \"selected\": false}\n                                ]\n                            },\n                            {\n                                label: \"Incident\",\n                                options: [\n                                    {\"label\": \"Miscellaneous or minor damage\", \"selected\": false},\n                                    {\"label\": \"Replacement cost/loss of 10k - 100k\", \"selected\": false},\n                                    {\"label\": \"Replacement cost/loss of 100k - 1m\", \"selected\": false},\n                                    {\"label\": \"Replacement cost/loss of 1m - 10m\", \"selected\": false},\n                                    {\"label\": \"Replacement cost/loss of > 10m\", \"selected\": false}\n                                ]\n                            },\n                            {\n                                label: \"Environment\",\n                                options: [\n                                    {\"label\": \"Emissions or discharges above internal limits\", \"selected\": false},\n                                    {\"label\": \"Significant substance lost / definite visible / odour effects\", \"selected\": false},\n                                    {\"label\": \"Release of hazardous materials that impact the environment\", \"selected\": false},\n                                    {\"label\": \"Major loss of very harmful substances\", \"selected\": false},\n                                    {\"label\": \"Very serious / extensive pllution or loss of amenity\", \"selected\": false}\n                                ]\n                            },\n                            {\n                                label: \"Authorities\",\n                                options: [\n                                    {\"label\": \"Site issue only\", \"selected\": false},\n                                    {\"label\": \"Notifiable to regulator with possibility of minor notice of violation\", \"selected\": false},\n                                    {\"label\": \"Prosecution with potential for fines up to €20k\", \"selected\": false},\n                                    {\"label\": \"Sever fines (>€20k) or custodial sentences\", \"selected\": false},\n                                    {\"label\": \"Fines affecting profitability or significant custodial sentences\", \"selected\": false}\n                                ]\n                            }\n                        ],\n                        y_criteria: [\n                            {\n                                label: \"Forseeable number of people at risk\",\n                                options: [\n                                    {\"label\": \"0\", \"selected\": false},\n                                    {\"label\": \"1\", \"selected\": false},\n                                    {\"label\": \"2-10\", \"selected\": false},\n                                    {\"label\": \"11-100\", \"selected\": false},\n                                    {\"label\": \"> 100\", \"selected\": false}\n                                ]\n                            }\n                        ],\n                        values: [\n                            [\n                                {text: \"A1\", color: \"ok\"},\n                                {text: \"B1\", color: \"ok\"},\n                                {text: \"C1\", color: \"ok\"},\n                                {text: \"D1\", color: \"warning\"},\n                                {text: \"E1\", color: \"warning\"}\n                            ],\n                            [\n                                {text: \"A2\", color: \"ok\"},\n                                {text: \"B2\", color: \"ok\"},\n                                {text: \"C2\", color: \"warning\"},\n                                {text: \"D2\", color: \"warning\"},\n                                {text: \"E2\", color: \"warning\"}\n                            ],\n                            [\n                                {text: \"A3\", color: \"warning\"},\n                                {text: \"B3\", color: \"warning\"},\n                                {text: \"C3\", color: \"warning\"},\n                                {text: \"D3\", color: \"critical\"},\n                                {text: \"E3\", color: \"critical\"}\n                            ],\n                            [\n                                {text: \"A4\", color: \"warning\"},\n                                {text: \"B4\", color: \"critical\"},\n                                {text: \"C4\", color: \"critical\"},\n                                {text: \"D4\", color: \"critical\"},\n                                {text: \"E4\", color: \"critical\"}\n                            ],\n                            [\n                                {text: \"A5\", color: \"critical\"},\n                                {text: \"B5\", color: \"critical\"},\n                                {text: \"C5\", color: \"critical\"},\n                                {text: \"D5\", color: \"critical\"},\n                                {text: \"E5\", color: \"critical\"}\n                            ]\n                        ]\n                    },\n                    optional: true,\n                    answer: {}\n                },\n                {\n                    item_type: \"input_matrix\",\n                    id: \"0_9\",\n                    label: \"Another Matrix\",\n                    matrix: {\n                        x_criteria: [\n                            {\n                                label: \"Safety\",\n                                options: [\n                                    {\"label\": \"Mostly harmless\", \"selected\": false},\n                                    {\"label\": \"So long and thanks for all the fish\", \"selected\": false},\n                                    {\"label\": \"Don't panic\", \"selected\": false},\n                                    {\"label\": \"The ships hung in the sky much the same way that bricks don't\", \"selected\": false}\n                                ]\n                            },\n                            \n                        ],\n                        y_criteria: [\n                            {\n                                label: \"Forseeable number of people at risk\",\n                                options: [\n                                    {\"label\": \"0\", \"selected\": false},\n                                    {\"label\": \"1\", \"selected\": false},\n                                    {\"label\": \"2-10\", \"selected\": false},\n                                    {\"label\": \"11-41\", \"selected\": false},\n                                    {\"label\": \"> 42\", \"selected\": false}\n                                ]\n                            }\n                        ],\n                        values: [\n                            [\n                                {text: \"A1\", color: \"ok\"},\n                                {text: \"B1\", color: \"ok\"},\n                                {text: \"C1\", color: \"ok\"},\n                                {text: \"D1\", color: \"warning\"},\n                                {text: \"E1\", color: \"warning\"}\n                            ],\n                            [\n                                {text: \"A2\", color: \"ok\"},\n                                {text: \"B2\", color: \"ok\"},\n                                {text: \"C2\", color: \"warning\"},\n                                {text: \"D2\", color: \"warning\"},\n                                {text: \"E2\", color: \"warning\"}\n                            ],\n                            [\n                                {text: \"A3\", color: \"warning\"},\n                                {text: \"B3\", color: \"warning\"},\n                                {text: \"C3\", color: \"warning\"},\n                                {text: \"D3\", color: \"critical\"},\n                                {text: \"E3\", color: \"critical\"}\n                            ],\n                            [\n                                {text: \"A4\", color: \"warning\"},\n                                {text: \"B4\", color: \"critical\"},\n                                {text: \"C4\", color: \"critical\"},\n                                {text: \"D4\", color: \"critical\"},\n                                {text: \"42\", color: \"critical\"}\n                            ]\n                        ]\n                    },\n                    optional: true,\n                    answer: {}\n                },\n                {\n                    item_type: \"input_text\",\n                    id: \"0_10\",\n                    label: \"Time into shift\",\n                    optional: true,\n                    answer: \"\"\n                },\n                {\n                    item_type: \"input_signature\",\n                    id: \"0_11\",\n                    label: \"Signature required\",\n                    optional: false,\n                    answer: \"\"\n                }\n            ]\n        }\n    ];\n    let form_text = '';\n\n\n\n    let incident = {\n        \"status\": \"Draft\",\n        \"id\": false,\n        \"created_by\": \"Hayden Chambers\",\n        \"created_date\": \"2022-02-07T17:06:09.111Z\",\n        \"updated_by\": \"Hayden Chambers\",\n        \"updated_date\": (new Date()).toISOString(),//\"2022-02-07T17:06:09.111Z\"\n        \"description\": \"Mike and I saw a really big tree branch had fallen down near the entrance\"\n    }\n\n    function save_incident() {\n        incident.status = \"In Progress\";\n        incident.id = \"485\";\n        incident.updated_date = (new Date()).toISOString();\n    }\n\n    let inspector_details = false;\n\n    $: {\n        let daform = f;\n        form_text = JSON.stringify(daform, null, 4);\n    }\n    let censor_pii = false;\n    let censor_mode = false;\n    let print_mode = false;\n    let print_options = [\"overview\", \"report\", \"events\"]\n    let total_pages = [\n        {key: \"overview\", title: \"Overview\", type: 'tab'},\n        {key: \"report\", title: \"Report\", type: 'tab' },\n        {key: \"events\", title: \"Events\", type: 'tab' },\n        {key: \"witnesses\", title: \"Witnesses\", type: 'tool' },\n        {key: \"vehicles\", title: \"Vehicles\", type: 'tool' },\n        {key: \"attachments\", title: \"Attachments\", type: 'tool' },\n        {key: \"links\", title: \"Links & Actions\", type: 'tool' },\n        {key: \"claim\", title: \"Claim\", type: 'tool' },\n    ];\n    \n\tfunction censor_it() {\n\n        let censor_span = document.createElement(\"span\");\n        censor_span.classList.add('censor_custom');\n        let sel = window.getSelection();\n        let selection = window.getSelection().getRangeAt(0);\n        let selectedText = sel + '';\n        let n = selection.extractContents();\n\n        censor_span.innerText = selectedText;\n        selection.insertNode(censor_span);\n    }\n    document.addEventListener('keydown', (e) => {\n        if(e.code == 'Enter' && censor_mode) {\n            censor_it();\n        }\n    });\n\n    function logKey(e) {\n        \n    }\n    \n    $: vis_pages = total_pages.filter( (page) => {\n        if(incident.id) { \n            return true\n        } else {\n            return page.key !== 'overview';\n        }\n    })\n    let filtered_pages = [];\n    $: {\n        //triggers\n        let i = incident.id;\n        let v = vis_pages;\n        let t = tab;\n        let s = single_page;\n        let p = print_mode;\n\n\n        filtered_pages = vis_pages.map(({key}) => key);\n        if(!s && !p) {\n            //single page view\n            filtered_pages = filtered_pages.filter( (page) => {\n                return page == t;\n            })\n        }\n\n        if(p) {\n            //if in print mode only show the ones that selected to print\n            filtered_pages = filtered_pages.filter( (page) => {\n                return print_options.indexOf(page) >= 0;\n            })\n        }\n        \n    }\n\n\n    function update_payload_text() {\n\t\tconsole.log(form_test, JSON.stringify(f, null, 4));\n\t}\n\n    function date_format(str) {\n        return (new Date(str)).toLocaleString([], {year: 'numeric', month: 'numeric', day: 'numeric', hour: '2-digit', minute: '2-digit'});\n        \n    }\n\n    let show_drawer = false;\n    let mask_block = false;\n    let mask_visible = false;\n    let pullout = false;\n    let add_event = false;\n\n    let events = [];\n    let event = {\n        event_type: false,\n        event_subtype: false,\n        reportable: -1,\n        type_of_person: false,\n        person: '',\n        parts_of_body: [],\n        illness_type: false,\n        medical_bool: false,\n        losttime_bool: false\n    }\n\n    function show_event_drawer() {\n        show_drawer = true;\n        mask_block = false;\n        mask_visible = true;\n        setTimeout(() => {\n            pullout = true;\n        }, 300);\n    }\n    function hide_event_drawer() {\n        mask_block = false;\n        mask_visible = false;\n        pullout = false;\n        setTimeout(() => {\n            show_drawer = false;\n        }, 1000);\n    }\n\n\n    let tab = \"report\";\n    export let tabnav = '';\n    export let bodyScroll = 0;\n\n    $: {\n        let t = tabnav;\n        if(tabnav !== '') {\n            tab = t;\n\n        }\n    }\n    /*\n    function print_mode(bool) {\n        dispatch('print', {\n            text: bool\n        })\n    }\n    */\n\n    function nav(str) {\n        \n\t\tdispatch('nav', {\n\t\t\ttext: str\n\t\t});\n\t}\n\n\n    /*\n        crappy code to position the sidemenu bar at the right 'tab'\n    */\n    let hs = [\n        {\n            \"key\": \"report\",\n            \"el\": false,\n            \"y\": 40 + (incident.id ? 35 : 0)\n        },\n        {\n            \"key\": \"events\",\n            \"el\": false,\n            \"y\": 75 + (incident.id ? 35 : 0)\n        },\n        {\n            \"key\": \"witnesses\",\n            \"el\": false,\n            \"y\": 110 + (incident.id ? 35 : 0)\n        },\n        {\n            \"key\": \"vehicles\",\n            \"el\": false,\n            \"y\": 145 + (incident.id ? 35 : 0)\n        },\n        {\n            \"key\": \"attachments\",\n            \"el\": false,\n            \"y\": 180 + (incident.id ? 35 : 0)\n        },\n        {\n            \"key\": \"links\",\n            \"el\": false,\n            \"y\": 215 + (incident.id ? 35 : 0)\n        },\n        {\n            \"key\": \"claim\",\n            \"el\": false,\n            \"y\": 250 + (incident.id ? 35 : 0)\n        },\n        {\n            \"key\": \"overview\",\n            \"el\": false,\n            \"y\": 40\n        }\n    ];\n    function single_page_scroll(key) {\n        let sel = hs.filter( (h) => { return h.key == key } );\n        if(sel && sel.length) {\n            let header = sel[0];\n            //document.getElementsByTagName('main')[0].scrollTop = sel[0].el.offsetTop - window.innerHeight/2.5;\n\n            let y = sel[0].el.offsetTop - 112;\n\n            document.getElementsByTagName('main')[0].scroll({\n                top: y,\n                behavior: 'smooth'\n            });\n        } else {\n            console.log('couldnt find ', key);\n        }\n    }\n\n    let closest = false;\n    let closest_el = hs[0];\n    $: {\n        let s = bodyScroll;\n        let t = window.innerHeight/2.5; //target position third way down page\n        if(single_page) {\n            closest = false;\n            let temp = false;\n            hs.forEach( (h) => {\n                if(h.el) {\n                    let delta = Math.abs(s + t - h.el.offsetTop);\n                    if(delta < closest || closest === false) {\n                        closest = delta;\n                        temp = h;\n\n                    }\n                }\n            });\n\n            if(closest_el !== temp){\n                window.location.hash = \"ehs/incidents/incidents_new/\" + temp.key;\n                closest_el = temp;\n            }\n        }\n    }\n\n\n    let counter = 0;\n    let start_time = (new Date()).getTime();\n    let counter_phrase = '';\n\n\n    function getTimeDifference(sTimeDifference) {\n        const yearDifference   = Math.floor(sTimeDifference / 31536000); // 31536000 - Average Seconds in one Year\n        const monthDifference  = Math.floor((sTimeDifference % 31536000) / 2592000); // 2592000 - Average Seconds in one Month (30 Days)\n        const dayDifference    = Math.floor((sTimeDifference % 2592000) / 86400); // 86400 - Seconds in one Day\n        const hourDifference   = Math.floor((sTimeDifference % 86400) / 3600); // 3600 - Seconds in one Hour\n        const minuteDifference = Math.floor((sTimeDifference % 3600) / 60); // 60 - Seconds in one Minute\n        const secondDifference = Math.floor(sTimeDifference % 60);\n        return {\n            year   : yearDifference,\n            month  : monthDifference,\n            day    : dayDifference,\n            hour   : hourDifference,\n            minute : minuteDifference,\n            second : secondDifference\n        };\n    }\n    \n    $: {\n        let c = counter;\n        let timeObject = getTimeDifference(c);\n        let time = '';\n\n        if(timeObject.year > 0) {\n            time += timeObject.year;\n            time += timeObject.year === 1 ? \" Year \" : \" Years \";\n        }\n        if(timeObject.month > 0) {\n            time += timeObject.month;\n            time += timeObject.month === 1 ? \" Month \" : \" Months \";\n        }\n        if(timeObject.day > 0) {\n            time += timeObject.day;\n            time += timeObject.day === 1 ? \" Day \" : \" Days \";\n        }\n        if(timeObject.hour > 0) {\n            time += timeObject.hour;\n            time += timeObject.hour === 1 ? \" Hour \" : \" Hours \";\n        }\n        if(timeObject.minute > 0) {\n            time += timeObject.minute;\n            time += timeObject.minute === 1 ? \" Minute \" : \" Minutes \";\n        }\n        if(timeObject.second > 0) {\n            time += timeObject.second;\n            time += timeObject.second === 1 ? \" Second \" : \" Seconds \";\n        }\n        counter_phrase = time;\n    }\n\n\n\n    let sub = PubSub.subscribe('MATRIX', read_matrix);\n    let matrix = false;\n    let matrix_holder = false;\n    let matrix_drawer = false;\n    let matrix_fs = true;\n    let matrix_col_selected = -1;\n    let matrix_row_selected = -1;\n    function select_criteria_y(i,j) {\n        matrix_col_selected = i;\n        matrix.y_criteria[j].options.forEach( (el) => {\n            el.selected = false; //deselect this column\n        })\n        matrix.y_criteria[j].options[i].selected = true; //select the row in this column\n        matrix.y_criteria =  matrix.y_criteria;\n    }\n    function select_criteria_x(i, j) {\n        let currently_selected = matrix.x_criteria[j].options[i].selected;\n        matrix.x_criteria[j].options.forEach( (el) => {\n            el.selected = false; //deselect this column\n        })\n        matrix.x_criteria[j].options[i].selected = !currently_selected; //select the row in this column\n\n        //iterate over all columns and find highest row selected\n        let highest_row = -1;\n        matrix.x_criteria.forEach( (col) => {\n            col.options.forEach( (row, i) => {\n                if(row.selected && i > highest_row) {\n                    highest_row = i;\n                }\n            })\n        })\n        matrix_row_selected = highest_row;\n    }\n    function matrix_pick(i,j) {\n        matrix_row_selected = i;\n        matrix_col_selected = j;\n\n        matrix.x_criteria.forEach( (col) => {\n            col.options.forEach( (row, x) => {\n                row.selected = false;\n                if(matrix_row_selected == x) {\n                    row.selected = true;\n                }\n               \n            })\n        })\n        matrix.y_criteria.forEach( (col) => {\n            col.options.forEach( (row, x) => {\n                row.selected = false;\n                if(matrix_col_selected == x) {\n                    row.selected = true;\n                }\n               \n            })\n        })\n        matrix.x_criteria = matrix.x_criteria;\n        matrix.y_criteria = matrix.y_criteria;\n\n        console.log('done matrix pick', i,j)\n    }\n    function read_matrix(msg, data) {\n        matrix_holder = data\n        matrix = data.matrix;\n        matrix_drawer = true;\n        matrix_col_selected = -1;\n        matrix_row_selected = -1;\n\n        matrix.values.forEach( (row, i) => {\n            row.forEach( (col, j) => {\n                if(col == matrix_holder.answer) {\n                    matrix_col_selected = j;\n                    matrix_row_selected = i;\n                }\n            })\n        })\n\n    }\n    function matrix_cancel() {\n        matrix_drawer = false;\n    }\n    function matrix_save() {\n        matrix_holder.answer = matrix.values[matrix_row_selected][matrix_col_selected];\n        f = f;\n        matrix_drawer = false;\n    }\n\n    onMount(() => {\n        let timer = setInterval(() => {\n            counter += 10;\n        }, 10000); //updates every 10 seconds\n    });    \n</script>\n\n<div class=\"row sticky\">\n    <div class=\"col12 col-md-6\">\n        <ul class=\"breadcrumb\">\n            <li><a href=\"#platform\" on:click=\"{ () => {nav('platform')}}\">EcoOnline</a></li>\n            <li><a href=\"#ehs\" on:click=\"{ () => {nav('ehs')}}\">EHS</a></li>\n            <li><a href=\"#ehs/incidents\" on:click=\"{ () => {nav('incidents')}}\">Incidents</a></li>\n            <li>{(!incident.id ? \"New\" : \"Incident \"+incident.id)}</li>\n        </ul>\n    </div>\n    <div class=\"col12 col-md-6 menu-bar\">\n        <div class=\"menu-icons\">\n            <a href=\"/\" class='i-trash i-24'> </a>\n            {#if single_page}\n                <a title=\"View as tabs\" href=\"/\" on:click|preventDefault=\"{ () => { single_page = false}}\" class='i-page-tabs i-24'> </a>\n            {:else}\n                <a title=\"View as a single page\" href=\"/\" on:click|preventDefault=\"{ () => { single_page = true}}\"  class='i-page-single i-24'> </a>\n            {/if}\n            <a href=\"/\" class='i-actions i-24'> </a>\n            <a href=\"/\" class='i-attachment i-24'> </a>\n            <a href=\"/\" class='i-printer i-24' on:click|preventDefault=\"{ () => { print_mode = !print_mode }}\"> </a>\n        </div>\n        <div class=\"menu-buttons\">\n            <a href=\"/\" class='btn btn-secondary' on:click|preventDefault=\"{save_incident}\">Save Progress</a>\n            <a href=\"/\" class='btn'>Submit</a>\n        </div>\n    </div>\n</div>\n<div class=\"row\">\n    <div class=\"col3 d960up-block\">\n        <div class=\"side_menu_wrapper\" style=\"position:sticky;top:56px\">\n            <h1 class=\"page-title\"><i class=\"i-incidents i-32\"></i> Incident</h1>\n            <div class=\"card\">\n                <div class=\"card-body inspector-details-card\">\n                    {#if inspector_details}\n                        <a href=\"/\" on:click|preventDefault=\"{ () => { inspector_details = false} }\" class=\"i-chevron-up i-24\" style=\"position:absolute;top:8px;right:8px;\"> </a>\n                    {:else}\n                        <a href=\"/\" on:click|preventDefault=\"{ () => { inspector_details = true} }\" class=\"i-chevron-down i-24\" style=\"position:absolute;top:8px;right:8px;\"> </a>\n                    {/if}\n                    <div class=\"inspector-details-table\" class:inspector_details>\n                        <div>\n                            <div>Status</div>\n                            <div>{incident.status}</div>\n                        </div>\n                        <div>\n                            <div>Creator</div>\n                            <div>{incident.created_by}</div>\n                        </div>\n                        <div>\n                            <div>Date created</div>\n                            <div>{date_format(incident.created_date)}</div>\n                        </div>\n                        <div>\n                            <div>Date updated</div>\n                            <div>{date_format(incident.updated_date)}</div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {#if single_page}\n                <h4>Contents</h4>\n                <ul class=\"side_menu single_page\">\n                    {#if incident.id }\n                        <li><a href=\"#ehs/incidents/incidents_new/overview\" on:click=\"{ () => single_page_scroll('overview')}\">Overview</a></li>\n                    {/if}\n                    <li><a href=\"#ehs/incidents/incidents_new/report\" on:click=\"{ () => single_page_scroll('report')}\">Report</a></li>\n                    <li><a href=\"#ehs/incidents/incidents_new/events\" on:click=\"{ () => single_page_scroll('events')}\">Events</a></li>\n                    <li><a href=\"#ehs/incidents/incidents_new/witnesses\" on:click=\"{ () => single_page_scroll('witnesses')}\">Witnesses</a></li>\n                    <li><a href=\"#ehs/incidents/incidents_new/vehicles\" on:click=\"{ () => single_page_scroll('vehicles')}\">Vehicles</a></li>\n                    <li><a href=\"#ehs/incidents/incidents_new/attachments\" on:click=\"{ () => single_page_scroll('attachments')}\">Attachments</a></li>\n                    <li><a href=\"#ehs/incidents/incidents_new/links\" on:click=\"{ () => single_page_scroll('links')}\">Links & Actions</a></li>\n                    <li><a href=\"#ehs/incidents/incidents_new/claim\" on:click=\"{ () => single_page_scroll('claim')}\">Claim</a></li>\n                    <li>Submit</li>\n                    <li class=\"fake-bar active\" style=\"height:{closest_el.y}px\"></li>\n                </ul>\n            {:else}\n                <h4>Tabs</h4>\n                <ul class=\"side_menu\">\n                    {#if incident.id }\n                        <li class:active=\"{tab == 'overview'}\"><a href=\"#ehs/incidents/incidents_new/overview\" on:click=\"{ () => nav('ehs/incidents/incidents_new/overview')}\">Overview</a></li>\n                    {/if}\n                    <li class:active=\"{tab == 'report'}\"><a href=\"#ehs/incidents/incidents_new/report\" on:click=\"{ () => nav('ehs/incidents/incidents_new/report')}\">Report</a></li>\n                    <li class:active=\"{tab == 'events'}\"><a href=\"#ehs/incidents/incidents_new/events\" on:click=\"{ () => nav('ehs/incidents/incidents_new/events')}\">Events</a></li>\n                </ul>\n                <h4>Tools</h4>\n                <ul class=\"side_menu\">\n                    <li class:active=\"{tab == 'witnesses'}\"><a href=\"#ehs/incidents/incidents_new/witnesses\" on:click=\"{ () => nav('ehs/incidents/incidents_new/witnesses')}\">Witnesses</li>\n                    <li class:active=\"{tab == 'vehicles'}\"><a href=\"#ehs/incidents/incidents_new/vehicles\" on:click=\"{ () => nav('ehs/incidents/incidents_new/vehicles')}\">Vehicles</a></li>\n                    <li class:active=\"{tab == 'attachments'}\"><a href=\"#ehs/incidents/incidents_new/attachments\" on:click=\"{ () => nav('ehs/incidents/incidents_new/attachments')}\">Attachments</a></li>\n                    <li class:active=\"{tab == 'links'}\"><a href=\"#ehs/incidents/incidents_new/links\" on:click=\"{ () => nav('ehs/incidents/incidents_new/links')}\">Links & Actions</a></li>\n                    <li class:active=\"{tab == 'claim'}\"><a href=\"#ehs/incidents/incidents_new/claim\" on:click=\"{ () => nav('ehs/incidents/incidents_new/claim')}\">Claim</a></li>\n                </ul>\n            {/if}\n        </div>\n    </div>\n    <div class=\"col12 col-md-9\">\n        {#if print_mode}\n        <div class=\"card\" in:fly=\"{{ y: -200, duration: 1000 }}\" out:fade>\n            <div class=\"card-header\">\n                Print options\n            </div>\n            <div class=\"card-body print-options\">\n                {#each vis_pages as page}\n                    <label><input type=\"checkbox\" value=\"{page.key}\" bind:group={print_options}> {page.title}</label>\n                {/each}\n                <br>\n                <label><input type=\"checkbox\" bind:checked=\"{censor_pii}\"> Censor PII</label>\n                <label><input type=\"checkbox\" bind:checked=\"{censor_mode}\"> Custom Censor</label>\n                {#if censor_mode}\n                    select text and hit 'Return'\n                {/if}\n            </div>\n        </div>\n        {/if}\n        {#if filtered_pages.length == 0}\n            {#if print_mode}\n                <h1>Printing nothing saves trees :)</h1>\n            {:else}\n                <h1>Nothing to see here</h1>\n            {/if}\n        {/if}\n        {#if filtered_pages.indexOf('overview') >= 0}\n            <h1 bind:this=\"{hs[7].el}\" class=\"page-title\">Overview</h1>\n            <div class=\"overview_grid\">\n                \n                <div class=\"card overview_1\">\n                    <div class=\"card-header\">Record ID</div>\n                    <div class=\"card-body\">\n                        <p>{incident.id ? incident.id : 'New'}</p>\n                    </div>\n                </div>\n                <div class=\"card overview_2\">\n                    <div class=\"card-header\">Status</div>\n                    <div class=\"card-body\">\n                        <p>{incident.status}</p>\n                    </div>\n                </div>\n                <div class=\"card overview_3\">\n                    <div class=\"card-body\">\n                        <table class=\"overview_combined\">\n                            <tr>\n                                <td><i class=\"i-incidents i-20\"></i> <b>Event type</b></td>\n                                <td>Injury</td>\n                            </tr>\n                            <tr>\n                                <td><i class=\"i-location i-20\"></i> <b>Location</b></td>\n                                <td>London tower</td>\n                            </tr>\n                            <tr>\n                                <td><i class=\"i-time i-20\"></i> <b>Last update</b></td>\n                                <td>{date_format(incident.updated_date)}</td>\n                            </tr>\n                        </table>\n                        <p></p>\n\n                    </div>\n                </div>\n                <div class=\"card overview_4\">\n                    <div class=\"card-header\">Elapsed time</div>\n                    <div class=\"card-body\">\n                        <p>1 day, 3 hours</p>\n                    </div>\n                </div>\n                <div class=\"card overview_5\">\n                    <div class=\"card-header\">Channel</div>\n                    <div class=\"card-body\">\n                        <p><i class=\"i-desktop i-20\"></i> Desktop</p>\n                    </div>\n                </div>\n                <div class=\"card overview_6\">\n                    <div class=\"card-header\">Reported by</div>\n                    <div class=\"card-body\">\n                        <p class=\"pii\" class:censor_pii>John Smith</p>\n                    </div>\n                </div>\n                <div class=\"card overview_7\">\n                    <div class=\"card-header\">Actions</div>\n                    <div class=\"card-body\">\n                        <div class=\"mid-num\" style=\"color:var(--eo-critical-500)\"><i class=\"i-actions i-32\"></i>x0</div>\n                    </div>\n                </div>\n                <div class=\"card overview_8\">\n                    <div class=\"card-header\">Medical attention given</div>\n                    <div class=\"card-body\">\n                        <i class=\"i-thumbs-up i-32\"></i>\n                    </div>\n                </div>\n                <div class=\"card overview_9\">\n                    <div class=\"card-header\">All fields</div>\n                    <div class=\"card-body\">\n                        <div class=\"mid-num\">10/21</div>\n                    </div>\n                </div>\n                <div class=\"card overview_10\">\n                    <div class=\"card-header\">Description</div>\n                    <div class=\"card-body\">\n                        <p>{incident.description}</p>\n                    </div>\n                </div>\n                <div class=\"card overview_11\">\n                    <div class=\"card-header\">Attachments</div>\n                    <div class=\"card-body\">\n                        <Slide />\n                    </div>\n                </div>\n            </div>\n        {/if}\n        {#if filtered_pages.indexOf('report') >= 0}\n            <h1 bind:this=\"{hs[0].el}\" class=\"page-title\">Report</h1>\n            <Form {f} ></Form>\n        {/if}\n        {#if filtered_pages.indexOf('events') >= 0}\n            <div>\n                <h1 bind:this=\"{hs[1].el}\" class=\"page-title\">Events</h1>\n            </div>\n            <div class=\"card\">\n                <div class=\"card-body blank_state\">\n                    <img src=\"./images/illustrations/events.png\" alt=\"events illustration\">\n                    <h5>Primary event</h5>\n                    <p>You <b>must</b> add at least one event and this should be \n                        the most serious part of the incident.<br>\n                        You can add others at any time.</p>\n                </div>\n            </div>\n            <div class=\"text-right\">\n                {#if !single_page}\n                <a class=\"btn btn-secondary btn-left\" href=\"#ehs/incidents/incidents_new/report\" on:click=\"{ () => nav('ehs/incidents/incidents_new/report')}\">Back</a>\n                {/if}\n                <a href=\"/\" on:click|preventDefault=\"{show_event_drawer}\" class=\"btn btn-secondary\">Add Primary Event</a>\n                {#if !single_page}\n                <span class=\"btn disabled\">Next</span>\n                {/if}\n            </div>\n\n        {/if}\n        {#if filtered_pages.indexOf('witnesses') >= 0}\n            <div>\n                <h1 bind:this=\"{hs[2].el}\" class=\"page-title\">Witnesses</h1>\n            </div>\n            <div class=\"card\">\n                <div class=\"card-body blank_state\">\n                    <img src=\"./images/illustrations/witnesses.png\" alt=\"witnesses illustration\">\n                    <h5>Who saw this event?</h5>\n                    <p>Witnesses can be invaluable if claims are made and its important to get their statements as early as possible.</p>\n                </div>\n            </div>\n            <div class=\"text-right\">\n                {#if !single_page}\n                <a class=\"btn btn-secondary btn-left\" href=\"#ehs/incidents/incidents_new/report\" on:click=\"{ () => nav('ehs/incidents/incidents_new/report')}\">Back</a>\n                {/if}\n                <a href=\"/\" on:click|preventDefault=\"{show_event_drawer}\" class=\"btn btn-secondary\">Add Witness</a>\n                {#if !single_page}\n                <span class=\"btn disabled\">Next</span>\n                {/if}\n            </div>\n\n        {/if}\n        {#if filtered_pages.indexOf('vehicles') >= 0}\n            <div>\n                <h1 bind:this=\"{hs[3].el}\" class=\"page-title\">Vehicles</h1>\n            </div>\n            <div class=\"card\">\n                <div class=\"card-body blank_state\">\n                    <img src=\"./images/illustrations/vehicles.png\" alt=\"vehicles illustration\">\n                    <h5>Add all vehicles then tell us what happened</h5>\n                    <p>Recording traffic accidents and damage helps us keep vehicles from breaking down.</p>\n                </div>\n            </div>\n            <div class=\"text-right\">\n                {#if !single_page}\n                <a class=\"btn btn-secondary btn-left\" href=\"#ehs/incidents/incidents_new/report\" on:click=\"{ () => nav('ehs/incidents/incidents_new/report')}\">Back</a>\n                {/if}\n                <a href=\"/\" on:click|preventDefault=\"{show_event_drawer}\" class=\"btn btn-secondary\">Add Vehicle</a>\n                {#if !single_page}\n                <span class=\"btn disabled\">Next</span>\n                {/if}\n            </div>\n        {/if}\n\n        \n        {#if filtered_pages.indexOf('attachments') >= 0}\n            <div>\n                <h1 bind:this=\"{hs[4].el}\" class=\"page-title\">Attachments</h1>\n            </div>\n            <div class=\"card\">\n                <div class=\"card-body blank_state\">\n                    <img src=\"./images/illustrations/attachments.png\" alt=\"attachments illustration\">\n                    <h5>Add an attachment</h5>\n                    <p>To add photos or video drag and drop here or select files.</p>\n                </div>\n            </div>\n            <div class=\"text-right\">\n                {#if !single_page}\n                <a class=\"btn btn-secondary btn-left\" href=\"#ehs/incidents/incidents_new/report\" on:click=\"{ () => nav('ehs/incidents/incidents_new/report')}\">Back</a>\n                {/if}\n\n                <a href=\"/\" on:click|preventDefault=\"{show_event_drawer}\" class=\"btn btn-secondary\">Select files</a>\n                \n                {#if !single_page}\n                <span class=\"btn disabled\">Next</span>\n                {/if}\n            </div>\n\n        {/if}\n\n        \n        {#if filtered_pages.indexOf('links') >= 0}\n            <div>\n                <h1 bind:this=\"{hs[5].el}\" class=\"page-title\">Links & Actions</h1>\n            </div>\n            <div class=\"card\">\n                <div class=\"card-body blank_state\">\n                    <img src=\"./images/illustrations/links.png\" alt=\"links illustration\">\n                    <h5>Take action, prevent further incidents.</h5>\n                    <p>You can assign multiple corrective actions. We can send reminders and even escalate if they aren't completed on time.</p>\n                </div>\n            </div>\n            <div class=\"text-right\">\n                {#if !single_page}\n                <a class=\"btn btn-secondary btn-left\" href=\"#ehs/incidents/incidents_new/report\" on:click=\"{ () => nav('ehs/incidents/incidents_new/report')}\">Back</a>\n                {/if}\n\n                <a href=\"/\" on:click|preventDefault=\"{show_event_drawer}\" class=\"btn btn-secondary\">Search record</a>\n                <a href=\"/\" on:click|preventDefault=\"{show_event_drawer}\" class=\"btn btn-secondary\">Add action</a>\n                \n                {#if !single_page}\n                <span class=\"btn disabled\">Next</span>\n                {/if}\n            </div>\n\n        {/if}\n\n\n\n        \n        {#if filtered_pages.indexOf('claim') >= 0}\n            <div>\n                <h1 bind:this=\"{hs[6].el}\" class=\"page-title\">Claim</h1>\n            </div>\n            <div class=\"card\">\n                <div class=\"card-body blank_state\">\n                    <img src=\"./images/illustrations/claim.png\" alt=\"claim illustration\">\n                    <h5>Has a claim been made against this incident?</h5>\n                    <p>It's only been <b>{counter_phrase}</b> since this incident happened.</p>\n                </div>\n            </div>\n            <div class=\"text-right\">\n                {#if !single_page}\n                <a class=\"btn btn-secondary btn-left\" href=\"#ehs/incidents/incidents_new/report\" on:click=\"{ () => nav('ehs/incidents/incidents_new/report')}\">Back</a>\n                {/if}\n\n                <a href=\"/\" on:click|preventDefault=\"{show_event_drawer}\" class=\"btn btn-secondary\">Add claim</a>\n                \n                {#if !single_page}\n                <span class=\"btn disabled\">Next</span>\n                {/if}\n            </div>\n\n        {/if}\n    </div>\n</div>\n\n{#if show_drawer}\n    <div class=\"drawer\">\n        <div class=\"mask\" class:visible=\"{mask_visible}\" class:block=\"{mask_block}\"></div>\n        <div class=\"pullout\" class:in=\"{pullout}\">\n            <div class=\"pullout-head\">\n                <h2>Add event <span class=\"close\" on:click=\"{hide_event_drawer}\"><i class=\"i-close i-24\"></i></span></h2>\n            </div>\n            <div class=\"pullout-body form\">\n\n                <div class=\"form-item\">\n                    <label>Event type</label>\n                    <select bind:value=\"{event.event_type}\" class=\"form-control\">\n                        <option>Accident</option>\n                        <option>Occupational Illness</option>\n                        <option>Environmental</option>\n                        <option>Incident</option>\n                        <option>Security</option>\n                        <option>Process Safety</option>\n                        <option>Near Miss</option>\n                    </select>\n                </div>\n                <div class=\"form-item\">\n                    <label>Event sub-type</label>\n                    <select class=\"form-control\">\n                        <option>Riddor</option>\n                    </select>\n                </div>\n                <div class=\"form-item\">\n                    <label>Legally reportable?</label>\n                    \n                    <div class=\"form-control radio inline\">\n                        <input type=\"radio\"> Yes\n                    </div>\n                    <div class=\"form-control radio inline\">\n                        <input type=\"radio\"> No\n                    </div>\n                </div>\n                <div class=\"form-item\">\n                    <label>Type of person affected</label>\n                    <select class=\"form-control\">\n                        <option>Employee</option>\n                    </select>\n                </div>\n                <div class=\"form-item\">\n                    <label>Person</label>\n                    <input bind:value=\"{event.person}\" type=\"text\" class=\"form-control\" />\n                </div>\n                <div class=\"form-item\">\n                    <label>Parts of the body affected</label>\n                    <input type=\"text\" class=\"form-control\" />\n                </div>\n                <div class=\"form-item\">\n                    <label>Illness type</label>\n                    <input type=\"text\" class=\"form-control\" />\n                </div>\n                <div class=\"form-item\">\n                    <label class=\"switch\">\n                        <input type=\"checkbox\" bind:checked={event.medical_bool}>\n                        <span class=\"slider\"></span>\n                    </label>\n                    Was the person given medical care?\n                </div>\n                <div class=\"form-item\">\n                    <label class=\"switch\">\n                        <input type=\"checkbox\" bind:checked={event.losttime_bool}>\n                        <span class=\"slider\"></span>\n                    </label>\n                    Is there Lost Time involved?\n                </div>\n                <div class=\"form-item\">\n                    <span class=\"btn\">Add event</span>\n                    <span class=\"btn btn-secondary\" on:click=\"{hide_event_drawer}\">Cancel</span>\n                </div>\n            </div>\n        </div>\n    </div>\n{/if}\n\n<!-- svelte-ignore a11y-no-onchange -->\n<!-- svelte-ignore a11y-label-has-associated-control -->\n<Pullout fs={matrix_fs} canfs={true} show_drawer={matrix_drawer} title=\"Pre controls risk rating\" on:close={matrix_cancel}>\n    <div slot=\"nofs\">\n        {#if matrix}\n\n            {#each matrix.y_criteria as ycrit, j}\n                <div class=\"form-item\">\n                    <label>{ycrit.label}</label>\n                    <select class=\"form-control\" on:change=\"{ (ev) => { select_criteria_y(parseInt(ev.target.value, 8), j)}}\">\n                        <option value=-1>Select one...</option>\n                        {#each ycrit.options as option, i}\n                            <option value={i} selected={option.selected}>{option.label}</option>\n                        {/each}\n                    </select>\n                </div>\n            {/each}\n            {#each matrix.x_criteria as xcrit, j}\n                <div class=\"form-item\">\n                    <label>{xcrit.label}</label>\n                    <select class=\"form-control\" on:change=\"{ (ev) => { select_criteria_x(parseInt(ev.target.value, 8), j)}}\">\n                        <option value=-1>Select one...</option>\n                        {#each xcrit.options as option, i}\n                            <option value={i} selected={option.selected}>{option.label}</option>\n                        {/each}\n                    </select>\n                </div>\n            {/each}\n            <div class=\"form-item\">\n                <div class=\"matrix_cell\" \n                    class:ok={matrix_col_selected >= 0 && matrix_row_selected >= 0 && matrix.values[matrix_row_selected][matrix_col_selected].color == 'ok'} \n                    class:warning={matrix_col_selected >= 0 && matrix_row_selected >= 0 && matrix.values[matrix_row_selected][matrix_col_selected].color == 'warning'} \n                    class:critical={matrix_col_selected >= 0 && matrix_row_selected >= 0 && matrix.values[matrix_row_selected][matrix_col_selected].color == 'critical'} \n                    >{(matrix_col_selected < 0 || matrix_row_selected < 0 ? '': matrix.values[matrix_row_selected][matrix_col_selected].text)}</div>\n            </div>\n            <div class=\"form-item\">\n                <span class=\"btn\" on:click=\"{matrix_save}\" class:disabled=\"{matrix_row_selected < 0 || matrix_col_selected < 0}\">Save</span>\n                <span class=\"btn btn-secondary\" on:click=\"{matrix_cancel}\">Cancel</span>\n            </div>\n        {/if}\n    </div>\n    <div slot=\"fs\">\n        {#if matrix}\n            <p style=\"width:100%;max-width:480px\">\n                To choose the appropriate severity first choose the matrix row by scanning down each description and finding the lowest one appropriate to this event. Then choose the matrix column by scanning across from that row choosing the column with the number of people at risk in this event.\n            </p>\n            <table class=\"matrix_table\" style=\"width:{window.innerWidth-64}px\">\n                <tbody>\n                    <tr>\n                        <td colspan=\"{matrix.x_criteria.length}\"><h4>Description</h4></td>\n                        <td width=\"364px\"><h4>{matrix.y_criteria[0].label}</h4></td>\n                    </tr>\n                    <tr>\n                        {#each matrix.x_criteria as xcrit}\n                            <td style=\"width: calc((100% - 364px) / 4)\">\n                                <h4>{xcrit.label}</h4>\n                            </td>\n                        {/each}\n                        <td>\n                            {#each matrix.y_criteria[0].options as {label, selected}, i}\n                                <div class=\"matrix_cell\" class:selected=\"{matrix.y_criteria[0].options[i].selected}\" on:click=\"{ () => { select_criteria_y(i, 0)}}\">{label}</div>\n                            {/each}\n                        </td>\n                    </tr>\n                    {#each matrix.x_criteria[0].options as row, i}\n\n                        <tr>\n                            {#each matrix.x_criteria as col, j}\n                                <td class=\"criteria\" class:selected=\"{matrix.x_criteria[j].options[i].selected}\" on:click=\"{ () => { select_criteria_x(i, j)}}\">{matrix.x_criteria[j].options[i].label}</td>\n                            {/each}\n                            <td>\n                                {#each matrix.values[i] as {text, color}, j}\n                                    <div class=\"matrix_cell\" class:highlight=\"{i==matrix_row_selected && j==matrix_col_selected}\" class:ok={color == 'ok'} class:warning={color == 'warning'} class:critical={color == 'critical'} on:click=\"{ () => { matrix_pick(i,j)}}\">{text}</div>\n                                {/each}\n                            </td>\n                        </tr>\n                    {/each}\n                    <tr>\n                        <td colspan=\"{matrix.x_criteria.length}\"></td>\n                        <td>\n                            <span class=\"btn\" on:click=\"{matrix_save}\" class:disabled=\"{matrix_row_selected < 0 || matrix_col_selected < 0}\">Save</span>\n                            <span class=\"btn btn-secondary\" on:click=\"{matrix_cancel}\">Cancel</span>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n\n        {/if}\n    </div>\n</Pullout>\n\n<style>\n    .matrix_table {\n        width:100%;\n        padding:0;\n        border-spacing: 8px;\n    }\n    .matrix_table td {\n        vertical-align:top;\n        \n    }\n    .matrix_table h4 {\n        line-height:64px;\n        margin: 0 4px;\n    }\n    .matrix_table .criteria {\n        font-size: 14px;\n        background: #f0f0f0;\n        padding: 4px;\n        cursor:pointer;\n        border-radius:8px;\n    }\n    .matrix_table .criteria:hover {\n        background: #ece9f0;\n    }\n    .matrix_table td.selected {\n        background: #e3e1f0; /*eo-primary-50?*/\n    }\n    \n    .matrix_cell {\n        background: #f0f0f0;\n        display:inline-block;\n        width:auto;\n        min-width:64px;\n        height:64px;\n        line-height:64px;\n        text-align:center;\n        font-weight:900;\n        border-radius:8px;\n        margin:0 4px;\n        border:1px solid transparent;\n        color: var(--black);\n        cursor:pointer;\n    }\n    .matrix_cell.selected {\n        background: #e3e1eb; /*eo-primary-50?*/\n    }\n    .matrix_cell.highlight {\n        box-shadow: 0 0 0 4px var(--eo-primary-500);\n    }\n    .matrix_cell.ok {\n        background: var(--eo-secondary-500);\n        border:1px solid var(--eo-secondary-500);\n    }\n    .matrix_cell.warning {\n        background: var(--eo-warning-500);\n        border:1px solid var(--eo-warning-500);\n    }\n    .matrix_cell.critical {\n        background: var(--eo-critical-500);\n        border:1px solid var(--eo-critical-500);\n    }\n    .inspector-details-card{\n        overflow:auto;\n        position: relative;\n    } \n    \n    .inspector-details-table div {\n        white-space: nowrap;\n    }\n    \n    .inspector-details-table > div {\n        display:flex;\n        flex-direction: row;\n        align-items: center;\n        height:0px;\n        overflow: hidden;\n        transition: all 0.3s linear;\n    }\n    \n    .inspector-details-table > div:first-child {\n        height:24px;\n    }\n    .inspector-details-table > div > div:first-child {\n        width:0;\n        overflow:hidden;\n        transition: all 0.3s linear;\n    }\n    .inspector-details-table {\n        margin-top: 0px;\n        transition: all 0.3s linear;\n        font-size:14px;\n    }\n    .inspector-details-table.inspector_details {\n        margin-top: 0px;\n    }\n    .inspector-details-table.inspector_details > div{\n       height:24px;\n    }\n    .inspector-details-table.inspector_details > div > div:first-child {\n        width:50%;\n    }\n\n\n.menu-bar {\n       display:flex;\n       flex-direction:row;\n    }\n    .menu-icons {\n        flex:1;\n        text-align:left;\n        padding: 6px 8px 0 8px;\n    }\n    .menu-icons a {\n        margin: 0 8px;\n    }\n    .menu-buttons {\n        vertical-align: middle;\n    }\n    .menu-buttons .btn{\n        margin-right:0;\n        margin-left:8px;\n    }\n    @media (min-width: 960px) {\n        .menu-icons {\n            text-align:right\n        }\n    }\n    .radio {\n        display:block;\n    }\n    .radio.inline {\n        width: 222px;\n        float:left;\n        padding: 8px 16px;\n    }\n    .radio.inline:last-child {\n        margin-left:16px;\n    }\n\n    .card {\n        margin-bottom:16px;\n    }\n    \n    .card h4 {\n        margin-bottom: 8px;\n    }\n    .side_menu {\n        margin:0;\n        padding:0;\n        position:relative;\n    }\n    .side_menu li {\n        margin:0 0 8px 0;\n        padding:4px 0 4px 20px;\n        height:auto;\n        position:relative;\n    }\n    .side_menu li a {\n        display:block;\n        text-decoration:none;\n        cursor: pointer;\n    }\n    .side_menu li:before {\n        display:block;\n        content:'';\n        position:absolute;\n        left:0;\n        top:0;\n        border-radius:2px;\n        width: 4px;\n        height:100%;\n        background: var(--eo-border-reduced);\n        transition: height 0.3s linear, top 0.3s linear;\n    }\n    .side_menu li:hover:before {\n        top:10%;\n        height:80%;\n        background: var(--eo-border);\n    }\n    .side_menu li.active:before {\n        background: var(--eo-secondary-500);\n    }\n\n    .side_menu.single_page .fake-bar {\n        display:block;\n        position:absolute;\n        left:0;\n        top:-5px;\n        border-radius:2px;\n        width: 4px;\n        padding:0;\n        height:40px;\n        background: var(--eo-secondary-500);\n        z-index:100;\n        transition: height 0.3s linear;\n    }\n    .side_menu.single_page li:before {\n        top:-5px;\n        height: calc(100% + 10px);\n    }\n    .side_menu.single_page li.active:before {\n        top:0px;\n        height: 100%;\n    }\n\n\n    .blank_state {\n        padding:48px;\n        text-align:center;\n    }\n    .blank_state img {\n        width:120px;\n    }\n    .blank_state h5 {\n        font-size:21px;\n        margin:8px 0;\n        font-weight:300;\n    }\n\n\n\n\n\n\n    /*quick hack for overview layout*/\n.overview_1 { grid-area: cell1; background: var(--black); color:#fff; }\n.overview_2 { grid-area: cell2; background: #007CFF; color:#fff;  }\n.overview_3 { grid-area: cell3; }\n.overview_4 { grid-area: cell4; }\n.overview_5 { grid-area: cell5; }\n.overview_6 { grid-area: cell6; }\n.overview_7 { grid-area: cell7; }\n.overview_8 { grid-area: cell8; }\n.overview_9 { grid-area: cell9; }\n.overview_10 { grid-area: cell10; }\n.overview_11 { grid-area: cell11; }\n\n.overview_grid {\n  display: grid;\n  grid-template-areas:\n    'cell1'\n    'cell2'\n    'cell3'\n    'cell4'\n    'cell5'\n    'cell6'\n    'cell7'\n    'cell8'\n    'cell9'\n    'cell10'\n    'cell11';\n  grid-gap: 16px;\n}\n@media (min-width: 600px) {\n    .overview_grid {\n  display: grid;\n  grid-template-areas:\n    'cell1 cell2'\n    'cell3 cell3'\n    'cell4 cell5'\n    'cell6 cell7'\n    'cell8 cell9'\n    'cell10 cell10'\n    'cell11 cell11';\n  grid-gap: 16px;\n}\n    }\n@media (min-width: 960px) {\n    .overview_grid {\n  display: grid;\n  grid-template-areas:\n    'cell1 cell3 cell3'\n    'cell2 cell3 cell3'\n    'cell4 cell5 cell6'\n    'cell7 cell8 cell9'\n    'cell10 cell10 cell10'\n    'cell11 cell11 cell11';\n  grid-gap: 16px;\n}\n    }\n.overview_combined {\n    margin-top:16px;\n}\n.overview_combined td {\n    padding-right:16px;\n    padding-bottom:16px;\n}\n.overview_grid .card {\n    margin:0;\n}\n.overview_grid .card p {\n    margin-bottom:8px;\n}\n\n.print-options label {\n    margin-right:16px;\n}\n.censor_pii {\n    filter:blur(5px)\n}\ndiv :global(.censor_custom) {\n    filter:blur(5px)\n}\n</style>\n\t\n        ","/*\n * QRious v4.0.2\n * Copyright (C) 2017 Alasdair Mercer\n * Copyright (C) 2010 Tom Zerucha\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global.QRious = factory());\n  }(this, (function () { 'use strict';\n  \n    /*\n     * Copyright (C) 2017 Alasdair Mercer, !ninja\n     *\n     * Permission is hereby granted, free of charge, to any person obtaining a copy\n     * of this software and associated documentation files (the \"Software\"), to deal\n     * in the Software without restriction, including without limitation the rights\n     * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n     * copies of the Software, and to permit persons to whom the Software is\n     * furnished to do so, subject to the following conditions:\n     *\n     * The above copyright notice and this permission notice shall be included in all\n     * copies or substantial portions of the Software.\n     *\n     * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n     * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n     * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n     * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n     * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n     * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n     * SOFTWARE.\n     */\n  \n    /**\n     * A bare-bones constructor for surrogate prototype swapping.\n     *\n     * @private\n     * @constructor\n     */\n    var Constructor = /* istanbul ignore next */ function() {};\n    /**\n     * A reference to <code>Object.prototype.hasOwnProperty</code>.\n     *\n     * @private\n     * @type {Function}\n     */\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    /**\n     * A reference to <code>Array.prototype.slice</code>.\n     *\n     * @private\n     * @type {Function}\n     */\n    var slice = Array.prototype.slice;\n  \n    /**\n     * Creates an object which inherits the given <code>prototype</code>.\n     *\n     * Optionally, the created object can be extended further with the specified <code>properties</code>.\n     *\n     * @param {Object} prototype - the prototype to be inherited by the created object\n     * @param {Object} [properties] - the optional properties to be extended by the created object\n     * @return {Object} The newly created object.\n     * @private\n     */\n    function createObject(prototype, properties) {\n      var result;\n      /* istanbul ignore next */\n      if (typeof Object.create === 'function') {\n        result = Object.create(prototype);\n      } else {\n        Constructor.prototype = prototype;\n        result = new Constructor();\n        Constructor.prototype = null;\n      }\n  \n      if (properties) {\n        extendObject(true, result, properties);\n      }\n  \n      return result;\n    }\n  \n    /**\n     * Extends the constructor to which this method is associated with the <code>prototype</code> and/or\n     * <code>statics</code> provided.\n     *\n     * If <code>name</code> is provided, it will be used as the class name and can be accessed via a special\n     * <code>class_</code> property on the child constructor, otherwise the class name of the super constructor will be used\n     * instead. The class name may also be used string representation for instances of the child constructor (via\n     * <code>toString</code>), but this is not applicable to the <i>lite</i> version of Nevis.\n     *\n     * If <code>constructor</code> is provided, it will be used as the constructor for the child, otherwise a simple\n     * constructor which only calls the super constructor will be used instead.\n     *\n     * The super constructor can be accessed via a special <code>super_</code> property on the child constructor.\n     *\n     * @param {string} [name=this.class_] - the class name to be used for the child constructor\n     * @param {Function} [constructor] - the constructor for the child\n     * @param {Object} [prototype] - the prototype properties to be defined for the child\n     * @param {Object} [statics] - the static properties to be defined for the child\n     * @return {Function} The child <code>constructor</code> provided or the one created if none was given.\n     * @public\n     */\n    function extend(name, constructor, prototype, statics) {\n      var superConstructor = this;\n  \n      if (typeof name !== 'string') {\n        statics = prototype;\n        prototype = constructor;\n        constructor = name;\n        name = null;\n      }\n  \n      if (typeof constructor !== 'function') {\n        statics = prototype;\n        prototype = constructor;\n        constructor = function() {\n          return superConstructor.apply(this, arguments);\n        };\n      }\n  \n      extendObject(false, constructor, superConstructor, statics);\n  \n      constructor.prototype = createObject(superConstructor.prototype, prototype);\n      constructor.prototype.constructor = constructor;\n  \n      constructor.class_ = name || superConstructor.class_;\n      constructor.super_ = superConstructor;\n  \n      return constructor;\n    }\n  \n    /**\n     * Extends the specified <code>target</code> object with the properties in each of the <code>sources</code> provided.\n     *\n     * if any source is <code>null</code> it will be ignored.\n     *\n     * @param {boolean} own - <code>true</code> to only copy <b>own</b> properties from <code>sources</code> onto\n     * <code>target</code>; otherwise <code>false</code>\n     * @param {Object} target - the target object which should be extended\n     * @param {...Object} [sources] - the source objects whose properties are to be copied onto <code>target</code>\n     * @return {void}\n     * @private\n     */\n    function extendObject(own, target, sources) {\n      sources = slice.call(arguments, 2);\n  \n      var property;\n      var source;\n  \n      for (var i = 0, length = sources.length; i < length; i++) {\n        source = sources[i];\n  \n        for (property in source) {\n          if (!own || hasOwnProperty.call(source, property)) {\n            target[property] = source[property];\n          }\n        }\n      }\n    }\n  \n    var extend_1 = extend;\n  \n    /**\n     * The base class from which all others should extend.\n     *\n     * @public\n     * @constructor\n     */\n    function Nevis() {}\n    Nevis.class_ = 'Nevis';\n    Nevis.super_ = Object;\n  \n    /**\n     * Extends the constructor to which this method is associated with the <code>prototype</code> and/or\n     * <code>statics</code> provided.\n     *\n     * If <code>name</code> is provided, it will be used as the class name and can be accessed via a special\n     * <code>class_</code> property on the child constructor, otherwise the class name of the super constructor will be used\n     * instead. The class name may also be used string representation for instances of the child constructor (via\n     * <code>toString</code>), but this is not applicable to the <i>lite</i> version of Nevis.\n     *\n     * If <code>constructor</code> is provided, it will be used as the constructor for the child, otherwise a simple\n     * constructor which only calls the super constructor will be used instead.\n     *\n     * The super constructor can be accessed via a special <code>super_</code> property on the child constructor.\n     *\n     * @param {string} [name=this.class_] - the class name to be used for the child constructor\n     * @param {Function} [constructor] - the constructor for the child\n     * @param {Object} [prototype] - the prototype properties to be defined for the child\n     * @param {Object} [statics] - the static properties to be defined for the child\n     * @return {Function} The child <code>constructor</code> provided or the one created if none was given.\n     * @public\n     * @static\n     * @memberof Nevis\n     */\n    Nevis.extend = extend_1;\n  \n    var nevis = Nevis;\n  \n    var lite = nevis;\n  \n    /**\n     * Responsible for rendering a QR code {@link Frame} on a specific type of element.\n     *\n     * A renderer may be dependant on the rendering of another element, so the ordering of their execution is important.\n     *\n     * The rendering of a element can be deferred by disabling the renderer initially, however, any attempt get the element\n     * from the renderer will result in it being immediately enabled and the element being rendered.\n     *\n     * @param {QRious} qrious - the {@link QRious} instance to be used\n     * @param {*} element - the element onto which the QR code is to be rendered\n     * @param {boolean} [enabled] - <code>true</code> this {@link Renderer} is enabled; otherwise <code>false</code>.\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var Renderer = lite.extend(function(qrious, element, enabled) {\n      /**\n       * The {@link QRious} instance.\n       *\n       * @protected\n       * @type {QRious}\n       * @memberof Renderer#\n       */\n      this.qrious = qrious;\n  \n      /**\n       * The element onto which this {@link Renderer} is rendering the QR code.\n       *\n       * @protected\n       * @type {*}\n       * @memberof Renderer#\n       */\n      this.element = element;\n      this.element.qrious = qrious;\n  \n      /**\n       * Whether this {@link Renderer} is enabled.\n       *\n       * @protected\n       * @type {boolean}\n       * @memberof Renderer#\n       */\n      this.enabled = Boolean(enabled);\n    }, {\n  \n      /**\n       * Draws the specified QR code <code>frame</code> on the underlying element.\n       *\n       * Implementations of {@link Renderer} <b>must</b> override this method with their own specific logic.\n       *\n       * @param {Frame} frame - the {@link Frame} to be drawn\n       * @return {void}\n       * @protected\n       * @abstract\n       * @memberof Renderer#\n       */\n      draw: function(frame) {},\n  \n      /**\n       * Returns the element onto which this {@link Renderer} is rendering the QR code.\n       *\n       * If this method is called while this {@link Renderer} is disabled, it will be immediately enabled and rendered\n       * before the element is returned.\n       *\n       * @return {*} The element.\n       * @public\n       * @memberof Renderer#\n       */\n      getElement: function() {\n        if (!this.enabled) {\n          this.enabled = true;\n          this.render();\n        }\n  \n        return this.element;\n      },\n  \n      /**\n       * Calculates the size (in pixel units) to represent an individual module within the QR code based on the\n       * <code>frame</code> provided.\n       *\n       * Any configured padding will be excluded from the returned size.\n       *\n       * The returned value will be at least one, even in cases where the size of the QR code does not fit its contents.\n       * This is done so that the inevitable clipping is handled more gracefully since this way at least something is\n       * displayed instead of just a blank space filled by the background color.\n       *\n       * @param {Frame} frame - the {@link Frame} from which the module size is to be derived\n       * @return {number} The pixel size for each module in the QR code which will be no less than one.\n       * @protected\n       * @memberof Renderer#\n       */\n      getModuleSize: function(frame) {\n        var qrious = this.qrious;\n        var padding = qrious.padding || 0;\n        var pixels = Math.floor((qrious.size - (padding * 2)) / frame.width);\n  \n        return Math.max(1, pixels);\n      },\n\n      /**\n       * Renders a QR code on the underlying element based on the <code>frame</code> provided.\n       *\n       * @param {Frame} frame - the {@link Frame} to be rendered\n       * @return {void}\n       * @public\n       * @memberof Renderer#\n       */\n      render: function(frame) {\n        if (this.enabled) {\n          this.resize();\n          this.reset();\n          this.draw(frame);\n        }\n      },\n  \n      /**\n       * Resets the underlying element, effectively clearing any previously rendered QR code.\n       *\n       * Implementations of {@link Renderer} <b>must</b> override this method with their own specific logic.\n       *\n       * @return {void}\n       * @protected\n       * @abstract\n       * @memberof Renderer#\n       */\n      reset: function() {},\n  \n      /**\n       * Ensures that the size of the underlying element matches that defined on the associated {@link QRious} instance.\n       *\n       * Implementations of {@link Renderer} <b>must</b> override this method with their own specific logic.\n       *\n       * @return {void}\n       * @protected\n       * @abstract\n       * @memberof Renderer#\n       */\n      resize: function() {}\n  \n    });\n  \n    var Renderer_1 = Renderer;\n  \n    /**\n     * An implementation of {@link Renderer} for working with <code>canvas</code> elements.\n     *\n     * @public\n     * @class\n     * @extends Renderer\n     */\n    var CanvasRenderer = Renderer_1.extend({\n  \n      /**\n       * @override\n       */\n      draw: function(frame) {\n        var i, j;\n        var qrious = this.qrious;\n        var moduleSize = this.getModuleSize(frame);\n        var offset = parseInt((this.element.width-(frame.width * moduleSize)) / 2);\n        var context = this.element.getContext('2d');\n  \n        context.fillStyle = qrious.foreground;\n        context.globalAlpha = qrious.foregroundAlpha;\n  \n        for (i = 0; i < frame.width; i++) {\n          for (j = 0; j < frame.width; j++) {\n            if (frame.buffer[(j * frame.width) + i]) {\n              context.fillRect((moduleSize * i) + offset, (moduleSize * j) + offset, moduleSize, moduleSize);\n            }\n          }\n        }\n      },\n  \n      /**\n       * @override\n       */\n      reset: function() {\n        var qrious = this.qrious;\n        var context = this.element.getContext('2d');\n        var size = qrious.size;\n  \n        context.lineWidth = 1;\n        context.clearRect(0, 0, size, size);\n        context.fillStyle = qrious.background;\n        context.globalAlpha = qrious.backgroundAlpha;\n        context.fillRect(0, 0, size, size);\n      },\n  \n      /**\n       * @override\n       */\n      resize: function() {\n        var element = this.element;\n  \n        element.width = element.height = this.qrious.size;\n      }\n  \n    });\n  \n    var CanvasRenderer_1 = CanvasRenderer;\n  \n    /* eslint no-multi-spaces: \"off\" */\n  \n  \n  \n    /**\n     * Contains alignment pattern information.\n     *\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var Alignment = lite.extend(null, {\n  \n      /**\n       * The alignment pattern block.\n       *\n       * @public\n       * @static\n       * @type {number[]}\n       * @memberof Alignment\n       */\n      BLOCK: [\n        0,  11, 15, 19, 23, 27, 31,\n        16, 18, 20, 22, 24, 26, 28, 20, 22, 24, 24, 26, 28, 28, 22, 24, 24,\n        26, 26, 28, 28, 24, 24, 26, 26, 26, 28, 28, 24, 26, 26, 26, 28, 28\n      ]\n  \n    });\n  \n    var Alignment_1 = Alignment;\n  \n    /* eslint no-multi-spaces: \"off\" */\n  \n  \n  \n    /**\n     * Contains error correction information.\n     *\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var ErrorCorrection = lite.extend(null, {\n  \n      /**\n       * The error correction blocks.\n       *\n       * There are four elements per version. The first two indicate the number of blocks, then the data width, and finally\n       * the ECC width.\n       *\n       * @public\n       * @static\n       * @type {number[]}\n       * @memberof ErrorCorrection\n       */\n      BLOCKS: [\n        1,  0,  19,  7,     1,  0,  16,  10,    1,  0,  13,  13,    1,  0,  9,   17,\n        1,  0,  34,  10,    1,  0,  28,  16,    1,  0,  22,  22,    1,  0,  16,  28,\n        1,  0,  55,  15,    1,  0,  44,  26,    2,  0,  17,  18,    2,  0,  13,  22,\n        1,  0,  80,  20,    2,  0,  32,  18,    2,  0,  24,  26,    4,  0,  9,   16,\n        1,  0,  108, 26,    2,  0,  43,  24,    2,  2,  15,  18,    2,  2,  11,  22,\n        2,  0,  68,  18,    4,  0,  27,  16,    4,  0,  19,  24,    4,  0,  15,  28,\n        2,  0,  78,  20,    4,  0,  31,  18,    2,  4,  14,  18,    4,  1,  13,  26,\n        2,  0,  97,  24,    2,  2,  38,  22,    4,  2,  18,  22,    4,  2,  14,  26,\n        2,  0,  116, 30,    3,  2,  36,  22,    4,  4,  16,  20,    4,  4,  12,  24,\n        2,  2,  68,  18,    4,  1,  43,  26,    6,  2,  19,  24,    6,  2,  15,  28,\n        4,  0,  81,  20,    1,  4,  50,  30,    4,  4,  22,  28,    3,  8,  12,  24,\n        2,  2,  92,  24,    6,  2,  36,  22,    4,  6,  20,  26,    7,  4,  14,  28,\n        4,  0,  107, 26,    8,  1,  37,  22,    8,  4,  20,  24,    12, 4,  11,  22,\n        3,  1,  115, 30,    4,  5,  40,  24,    11, 5,  16,  20,    11, 5,  12,  24,\n        5,  1,  87,  22,    5,  5,  41,  24,    5,  7,  24,  30,    11, 7,  12,  24,\n        5,  1,  98,  24,    7,  3,  45,  28,    15, 2,  19,  24,    3,  13, 15,  30,\n        1,  5,  107, 28,    10, 1,  46,  28,    1,  15, 22,  28,    2,  17, 14,  28,\n        5,  1,  120, 30,    9,  4,  43,  26,    17, 1,  22,  28,    2,  19, 14,  28,\n        3,  4,  113, 28,    3,  11, 44,  26,    17, 4,  21,  26,    9,  16, 13,  26,\n        3,  5,  107, 28,    3,  13, 41,  26,    15, 5,  24,  30,    15, 10, 15,  28,\n        4,  4,  116, 28,    17, 0,  42,  26,    17, 6,  22,  28,    19, 6,  16,  30,\n        2,  7,  111, 28,    17, 0,  46,  28,    7,  16, 24,  30,    34, 0,  13,  24,\n        4,  5,  121, 30,    4,  14, 47,  28,    11, 14, 24,  30,    16, 14, 15,  30,\n        6,  4,  117, 30,    6,  14, 45,  28,    11, 16, 24,  30,    30, 2,  16,  30,\n        8,  4,  106, 26,    8,  13, 47,  28,    7,  22, 24,  30,    22, 13, 15,  30,\n        10, 2,  114, 28,    19, 4,  46,  28,    28, 6,  22,  28,    33, 4,  16,  30,\n        8,  4,  122, 30,    22, 3,  45,  28,    8,  26, 23,  30,    12, 28, 15,  30,\n        3,  10, 117, 30,    3,  23, 45,  28,    4,  31, 24,  30,    11, 31, 15,  30,\n        7,  7,  116, 30,    21, 7,  45,  28,    1,  37, 23,  30,    19, 26, 15,  30,\n        5,  10, 115, 30,    19, 10, 47,  28,    15, 25, 24,  30,    23, 25, 15,  30,\n        13, 3,  115, 30,    2,  29, 46,  28,    42, 1,  24,  30,    23, 28, 15,  30,\n        17, 0,  115, 30,    10, 23, 46,  28,    10, 35, 24,  30,    19, 35, 15,  30,\n        17, 1,  115, 30,    14, 21, 46,  28,    29, 19, 24,  30,    11, 46, 15,  30,\n        13, 6,  115, 30,    14, 23, 46,  28,    44, 7,  24,  30,    59, 1,  16,  30,\n        12, 7,  121, 30,    12, 26, 47,  28,    39, 14, 24,  30,    22, 41, 15,  30,\n        6,  14, 121, 30,    6,  34, 47,  28,    46, 10, 24,  30,    2,  64, 15,  30,\n        17, 4,  122, 30,    29, 14, 46,  28,    49, 10, 24,  30,    24, 46, 15,  30,\n        4,  18, 122, 30,    13, 32, 46,  28,    48, 14, 24,  30,    42, 32, 15,  30,\n        20, 4,  117, 30,    40, 7,  47,  28,    43, 22, 24,  30,    10, 67, 15,  30,\n        19, 6,  118, 30,    18, 31, 47,  28,    34, 34, 24,  30,    20, 61, 15,  30\n      ],\n  \n      /**\n       * The final format bits with mask (level << 3 | mask).\n       *\n       * @public\n       * @static\n       * @type {number[]}\n       * @memberof ErrorCorrection\n       */\n      FINAL_FORMAT: [\n        // L\n        0x77c4, 0x72f3, 0x7daa, 0x789d, 0x662f, 0x6318, 0x6c41, 0x6976,\n        // M\n        0x5412, 0x5125, 0x5e7c, 0x5b4b, 0x45f9, 0x40ce, 0x4f97, 0x4aa0,\n        // Q\n        0x355f, 0x3068, 0x3f31, 0x3a06, 0x24b4, 0x2183, 0x2eda, 0x2bed,\n        // H\n        0x1689, 0x13be, 0x1ce7, 0x19d0, 0x0762, 0x0255, 0x0d0c, 0x083b\n      ],\n  \n      /**\n       * A map of human-readable ECC levels.\n       *\n       * @public\n       * @static\n       * @type {Object.<string, number>}\n       * @memberof ErrorCorrection\n       */\n      LEVELS: {\n        L: 1,\n        M: 2,\n        Q: 3,\n        H: 4\n      }\n  \n    });\n  \n    var ErrorCorrection_1 = ErrorCorrection;\n  \n    /**\n     * Contains Galois field information.\n     *\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var Galois = lite.extend(null, {\n  \n      /**\n       * The Galois field exponent table.\n       *\n       * @public\n       * @static\n       * @type {number[]}\n       * @memberof Galois\n       */\n      EXPONENT: [\n        0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1d, 0x3a, 0x74, 0xe8, 0xcd, 0x87, 0x13, 0x26,\n        0x4c, 0x98, 0x2d, 0x5a, 0xb4, 0x75, 0xea, 0xc9, 0x8f, 0x03, 0x06, 0x0c, 0x18, 0x30, 0x60, 0xc0,\n        0x9d, 0x27, 0x4e, 0x9c, 0x25, 0x4a, 0x94, 0x35, 0x6a, 0xd4, 0xb5, 0x77, 0xee, 0xc1, 0x9f, 0x23,\n        0x46, 0x8c, 0x05, 0x0a, 0x14, 0x28, 0x50, 0xa0, 0x5d, 0xba, 0x69, 0xd2, 0xb9, 0x6f, 0xde, 0xa1,\n        0x5f, 0xbe, 0x61, 0xc2, 0x99, 0x2f, 0x5e, 0xbc, 0x65, 0xca, 0x89, 0x0f, 0x1e, 0x3c, 0x78, 0xf0,\n        0xfd, 0xe7, 0xd3, 0xbb, 0x6b, 0xd6, 0xb1, 0x7f, 0xfe, 0xe1, 0xdf, 0xa3, 0x5b, 0xb6, 0x71, 0xe2,\n        0xd9, 0xaf, 0x43, 0x86, 0x11, 0x22, 0x44, 0x88, 0x0d, 0x1a, 0x34, 0x68, 0xd0, 0xbd, 0x67, 0xce,\n        0x81, 0x1f, 0x3e, 0x7c, 0xf8, 0xed, 0xc7, 0x93, 0x3b, 0x76, 0xec, 0xc5, 0x97, 0x33, 0x66, 0xcc,\n        0x85, 0x17, 0x2e, 0x5c, 0xb8, 0x6d, 0xda, 0xa9, 0x4f, 0x9e, 0x21, 0x42, 0x84, 0x15, 0x2a, 0x54,\n        0xa8, 0x4d, 0x9a, 0x29, 0x52, 0xa4, 0x55, 0xaa, 0x49, 0x92, 0x39, 0x72, 0xe4, 0xd5, 0xb7, 0x73,\n        0xe6, 0xd1, 0xbf, 0x63, 0xc6, 0x91, 0x3f, 0x7e, 0xfc, 0xe5, 0xd7, 0xb3, 0x7b, 0xf6, 0xf1, 0xff,\n        0xe3, 0xdb, 0xab, 0x4b, 0x96, 0x31, 0x62, 0xc4, 0x95, 0x37, 0x6e, 0xdc, 0xa5, 0x57, 0xae, 0x41,\n        0x82, 0x19, 0x32, 0x64, 0xc8, 0x8d, 0x07, 0x0e, 0x1c, 0x38, 0x70, 0xe0, 0xdd, 0xa7, 0x53, 0xa6,\n        0x51, 0xa2, 0x59, 0xb2, 0x79, 0xf2, 0xf9, 0xef, 0xc3, 0x9b, 0x2b, 0x56, 0xac, 0x45, 0x8a, 0x09,\n        0x12, 0x24, 0x48, 0x90, 0x3d, 0x7a, 0xf4, 0xf5, 0xf7, 0xf3, 0xfb, 0xeb, 0xcb, 0x8b, 0x0b, 0x16,\n        0x2c, 0x58, 0xb0, 0x7d, 0xfa, 0xe9, 0xcf, 0x83, 0x1b, 0x36, 0x6c, 0xd8, 0xad, 0x47, 0x8e, 0x00\n      ],\n  \n      /**\n       * The Galois field log table.\n       *\n       * @public\n       * @static\n       * @type {number[]}\n       * @memberof Galois\n       */\n      LOG: [\n        0xff, 0x00, 0x01, 0x19, 0x02, 0x32, 0x1a, 0xc6, 0x03, 0xdf, 0x33, 0xee, 0x1b, 0x68, 0xc7, 0x4b,\n        0x04, 0x64, 0xe0, 0x0e, 0x34, 0x8d, 0xef, 0x81, 0x1c, 0xc1, 0x69, 0xf8, 0xc8, 0x08, 0x4c, 0x71,\n        0x05, 0x8a, 0x65, 0x2f, 0xe1, 0x24, 0x0f, 0x21, 0x35, 0x93, 0x8e, 0xda, 0xf0, 0x12, 0x82, 0x45,\n        0x1d, 0xb5, 0xc2, 0x7d, 0x6a, 0x27, 0xf9, 0xb9, 0xc9, 0x9a, 0x09, 0x78, 0x4d, 0xe4, 0x72, 0xa6,\n        0x06, 0xbf, 0x8b, 0x62, 0x66, 0xdd, 0x30, 0xfd, 0xe2, 0x98, 0x25, 0xb3, 0x10, 0x91, 0x22, 0x88,\n        0x36, 0xd0, 0x94, 0xce, 0x8f, 0x96, 0xdb, 0xbd, 0xf1, 0xd2, 0x13, 0x5c, 0x83, 0x38, 0x46, 0x40,\n        0x1e, 0x42, 0xb6, 0xa3, 0xc3, 0x48, 0x7e, 0x6e, 0x6b, 0x3a, 0x28, 0x54, 0xfa, 0x85, 0xba, 0x3d,\n        0xca, 0x5e, 0x9b, 0x9f, 0x0a, 0x15, 0x79, 0x2b, 0x4e, 0xd4, 0xe5, 0xac, 0x73, 0xf3, 0xa7, 0x57,\n        0x07, 0x70, 0xc0, 0xf7, 0x8c, 0x80, 0x63, 0x0d, 0x67, 0x4a, 0xde, 0xed, 0x31, 0xc5, 0xfe, 0x18,\n        0xe3, 0xa5, 0x99, 0x77, 0x26, 0xb8, 0xb4, 0x7c, 0x11, 0x44, 0x92, 0xd9, 0x23, 0x20, 0x89, 0x2e,\n        0x37, 0x3f, 0xd1, 0x5b, 0x95, 0xbc, 0xcf, 0xcd, 0x90, 0x87, 0x97, 0xb2, 0xdc, 0xfc, 0xbe, 0x61,\n        0xf2, 0x56, 0xd3, 0xab, 0x14, 0x2a, 0x5d, 0x9e, 0x84, 0x3c, 0x39, 0x53, 0x47, 0x6d, 0x41, 0xa2,\n        0x1f, 0x2d, 0x43, 0xd8, 0xb7, 0x7b, 0xa4, 0x76, 0xc4, 0x17, 0x49, 0xec, 0x7f, 0x0c, 0x6f, 0xf6,\n        0x6c, 0xa1, 0x3b, 0x52, 0x29, 0x9d, 0x55, 0xaa, 0xfb, 0x60, 0x86, 0xb1, 0xbb, 0xcc, 0x3e, 0x5a,\n        0xcb, 0x59, 0x5f, 0xb0, 0x9c, 0xa9, 0xa0, 0x51, 0x0b, 0xf5, 0x16, 0xeb, 0x7a, 0x75, 0x2c, 0xd7,\n        0x4f, 0xae, 0xd5, 0xe9, 0xe6, 0xe7, 0xad, 0xe8, 0x74, 0xd6, 0xf4, 0xea, 0xa8, 0x50, 0x58, 0xaf\n      ]\n  \n    });\n  \n    var Galois_1 = Galois;\n  \n    /**\n     * Contains version pattern information.\n     *\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var Version = lite.extend(null, {\n  \n      /**\n       * The version pattern block.\n       *\n       * @public\n       * @static\n       * @type {number[]}\n       * @memberof Version\n       */\n      BLOCK: [\n        0xc94, 0x5bc, 0xa99, 0x4d3, 0xbf6, 0x762, 0x847, 0x60d, 0x928, 0xb78, 0x45d, 0xa17, 0x532,\n        0x9a6, 0x683, 0x8c9, 0x7ec, 0xec4, 0x1e1, 0xfab, 0x08e, 0xc1a, 0x33f, 0xd75, 0x250, 0x9d5,\n        0x6f0, 0x8ba, 0x79f, 0xb0b, 0x42e, 0xa64, 0x541, 0xc69\n      ]\n  \n    });\n  \n    var Version_1 = Version;\n  \n    /**\n     * Generates information for a QR code frame based on a specific value to be encoded.\n     *\n     * @param {Frame~Options} options - the options to be used\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var Frame = lite.extend(function(options) {\n      var dataBlock, eccBlock, index, neccBlock1, neccBlock2;\n      var valueLength = options.value.length;\n  \n      this._badness = [];\n      this._level = ErrorCorrection_1.LEVELS[options.level];\n      this._polynomial = [];\n      this._value = options.value;\n      this._version = 0;\n      this._stringBuffer = [];\n  \n      while (this._version < 40) {\n        this._version++;\n  \n        index = ((this._level - 1) * 4) + ((this._version - 1) * 16);\n  \n        neccBlock1 = ErrorCorrection_1.BLOCKS[index++];\n        neccBlock2 = ErrorCorrection_1.BLOCKS[index++];\n        dataBlock = ErrorCorrection_1.BLOCKS[index++];\n        eccBlock = ErrorCorrection_1.BLOCKS[index];\n  \n        index = (dataBlock * (neccBlock1 + neccBlock2)) + neccBlock2 - 3 + (this._version <= 9);\n  \n        if (valueLength <= index) {\n          break;\n        }\n      }\n  \n      this._dataBlock = dataBlock;\n      this._eccBlock = eccBlock;\n      this._neccBlock1 = neccBlock1;\n      this._neccBlock2 = neccBlock2;\n  \n      /**\n       * The data width is based on version.\n       *\n       * @public\n       * @type {number}\n       * @memberof Frame#\n       */\n      // FIXME: Ensure that it fits instead of being truncated.\n      var width = this.width = 17 + (4 * this._version);\n  \n      /**\n       * The image buffer.\n       *\n       * @public\n       * @type {number[]}\n       * @memberof Frame#\n       */\n      this.buffer = Frame._createArray(width * width);\n  \n      this._ecc = Frame._createArray(dataBlock + ((dataBlock + eccBlock) * (neccBlock1 + neccBlock2)) + neccBlock2);\n      this._mask = Frame._createArray(((width * (width + 1)) + 1) / 2);\n  \n      this._insertFinders();\n      this._insertAlignments();\n  \n      // Insert single foreground cell.\n      this.buffer[8 + (width * (width - 8))] = 1;\n  \n      this._insertTimingGap();\n      this._reverseMask();\n      this._insertTimingRowAndColumn();\n      this._insertVersion();\n      this._syncMask();\n      this._convertBitStream(valueLength);\n      this._calculatePolynomial();\n      this._appendEccToData();\n      this._interleaveBlocks();\n      this._pack();\n      this._finish();\n    }, {\n  \n      _addAlignment: function(x, y) {\n        var i;\n        var buffer = this.buffer;\n        var width = this.width;\n  \n        buffer[x + (width * y)] = 1;\n  \n        for (i = -2; i < 2; i++) {\n          buffer[x + i + (width * (y - 2))] = 1;\n          buffer[x - 2 + (width * (y + i + 1))] = 1;\n          buffer[x + 2 + (width * (y + i))] = 1;\n          buffer[x + i + 1 + (width * (y + 2))] = 1;\n        }\n  \n        for (i = 0; i < 2; i++) {\n          this._setMask(x - 1, y + i);\n          this._setMask(x + 1, y - i);\n          this._setMask(x - i, y - 1);\n          this._setMask(x + i, y + 1);\n        }\n      },\n  \n      _appendData: function(data, dataLength, ecc, eccLength) {\n        var bit, i, j;\n        var polynomial = this._polynomial;\n        var stringBuffer = this._stringBuffer;\n  \n        for (i = 0; i < eccLength; i++) {\n          stringBuffer[ecc + i] = 0;\n        }\n  \n        for (i = 0; i < dataLength; i++) {\n          bit = Galois_1.LOG[stringBuffer[data + i] ^ stringBuffer[ecc]];\n  \n          if (bit !== 255) {\n            for (j = 1; j < eccLength; j++) {\n              stringBuffer[ecc + j - 1] = stringBuffer[ecc + j] ^\n                Galois_1.EXPONENT[Frame._modN(bit + polynomial[eccLength - j])];\n            }\n          } else {\n            for (j = ecc; j < ecc + eccLength; j++) {\n              stringBuffer[j] = stringBuffer[j + 1];\n            }\n          }\n  \n          stringBuffer[ecc + eccLength - 1] = bit === 255 ? 0 : Galois_1.EXPONENT[Frame._modN(bit + polynomial[0])];\n        }\n      },\n  \n      _appendEccToData: function() {\n        var i;\n        var data = 0;\n        var dataBlock = this._dataBlock;\n        var ecc = this._calculateMaxLength();\n        var eccBlock = this._eccBlock;\n  \n        for (i = 0; i < this._neccBlock1; i++) {\n          this._appendData(data, dataBlock, ecc, eccBlock);\n  \n          data += dataBlock;\n          ecc += eccBlock;\n        }\n  \n        for (i = 0; i < this._neccBlock2; i++) {\n          this._appendData(data, dataBlock + 1, ecc, eccBlock);\n  \n          data += dataBlock + 1;\n          ecc += eccBlock;\n        }\n      },\n  \n      _applyMask: function(mask) {\n        var r3x, r3y, x, y;\n        var buffer = this.buffer;\n        var width = this.width;\n  \n        switch (mask) {\n        case 0:\n          for (y = 0; y < width; y++) {\n            for (x = 0; x < width; x++) {\n              if (!((x + y) & 1) && !this._isMasked(x, y)) {\n                buffer[x + (y * width)] ^= 1;\n              }\n            }\n          }\n  \n          break;\n        case 1:\n          for (y = 0; y < width; y++) {\n            for (x = 0; x < width; x++) {\n              if (!(y & 1) && !this._isMasked(x, y)) {\n                buffer[x + (y * width)] ^= 1;\n              }\n            }\n          }\n  \n          break;\n        case 2:\n          for (y = 0; y < width; y++) {\n            for (r3x = 0, x = 0; x < width; x++, r3x++) {\n              if (r3x === 3) {\n                r3x = 0;\n              }\n  \n              if (!r3x && !this._isMasked(x, y)) {\n                buffer[x + (y * width)] ^= 1;\n              }\n            }\n          }\n  \n          break;\n        case 3:\n          for (r3y = 0, y = 0; y < width; y++, r3y++) {\n            if (r3y === 3) {\n              r3y = 0;\n            }\n  \n            for (r3x = r3y, x = 0; x < width; x++, r3x++) {\n              if (r3x === 3) {\n                r3x = 0;\n              }\n  \n              if (!r3x && !this._isMasked(x, y)) {\n                buffer[x + (y * width)] ^= 1;\n              }\n            }\n          }\n  \n          break;\n        case 4:\n          for (y = 0; y < width; y++) {\n            for (r3x = 0, r3y = (y >> 1) & 1, x = 0; x < width; x++, r3x++) {\n              if (r3x === 3) {\n                r3x = 0;\n                r3y = !r3y;\n              }\n  \n              if (!r3y && !this._isMasked(x, y)) {\n                buffer[x + (y * width)] ^= 1;\n              }\n            }\n          }\n  \n          break;\n        case 5:\n          for (r3y = 0, y = 0; y < width; y++, r3y++) {\n            if (r3y === 3) {\n              r3y = 0;\n            }\n  \n            for (r3x = 0, x = 0; x < width; x++, r3x++) {\n              if (r3x === 3) {\n                r3x = 0;\n              }\n  \n              if (!((x & y & 1) + !(!r3x | !r3y)) && !this._isMasked(x, y)) {\n                buffer[x + (y * width)] ^= 1;\n              }\n            }\n          }\n  \n          break;\n        case 6:\n          for (r3y = 0, y = 0; y < width; y++, r3y++) {\n            if (r3y === 3) {\n              r3y = 0;\n            }\n  \n            for (r3x = 0, x = 0; x < width; x++, r3x++) {\n              if (r3x === 3) {\n                r3x = 0;\n              }\n  \n              if (!((x & y & 1) + (r3x && r3x === r3y) & 1) && !this._isMasked(x, y)) {\n                buffer[x + (y * width)] ^= 1;\n              }\n            }\n          }\n  \n          break;\n        case 7:\n          for (r3y = 0, y = 0; y < width; y++, r3y++) {\n            if (r3y === 3) {\n              r3y = 0;\n            }\n  \n            for (r3x = 0, x = 0; x < width; x++, r3x++) {\n              if (r3x === 3) {\n                r3x = 0;\n              }\n  \n              if (!((r3x && r3x === r3y) + (x + y & 1) & 1) && !this._isMasked(x, y)) {\n                buffer[x + (y * width)] ^= 1;\n              }\n            }\n          }\n  \n          break;\n        }\n      },\n  \n      _calculateMaxLength: function() {\n        return (this._dataBlock * (this._neccBlock1 + this._neccBlock2)) + this._neccBlock2;\n      },\n  \n      _calculatePolynomial: function() {\n        var i, j;\n        var eccBlock = this._eccBlock;\n        var polynomial = this._polynomial;\n  \n        polynomial[0] = 1;\n  \n        for (i = 0; i < eccBlock; i++) {\n          polynomial[i + 1] = 1;\n  \n          for (j = i; j > 0; j--) {\n            polynomial[j] = polynomial[j] ? polynomial[j - 1] ^\n              Galois_1.EXPONENT[Frame._modN(Galois_1.LOG[polynomial[j]] + i)] : polynomial[j - 1];\n          }\n  \n          polynomial[0] = Galois_1.EXPONENT[Frame._modN(Galois_1.LOG[polynomial[0]] + i)];\n        }\n  \n        // Use logs for generator polynomial to save calculation step.\n        for (i = 0; i <= eccBlock; i++) {\n          polynomial[i] = Galois_1.LOG[polynomial[i]];\n        }\n      },\n  \n      _checkBadness: function() {\n        var b, b1, h, x, y;\n        var bad = 0;\n        var badness = this._badness;\n        var buffer = this.buffer;\n        var width = this.width;\n  \n        // Blocks of same colour.\n        for (y = 0; y < width - 1; y++) {\n          for (x = 0; x < width - 1; x++) {\n            // All foreground colour.\n            if ((buffer[x + (width * y)] &&\n              buffer[x + 1 + (width * y)] &&\n              buffer[x + (width * (y + 1))] &&\n              buffer[x + 1 + (width * (y + 1))]) ||\n              // All background colour.\n              !(buffer[x + (width * y)] ||\n              buffer[x + 1 + (width * y)] ||\n              buffer[x + (width * (y + 1))] ||\n              buffer[x + 1 + (width * (y + 1))])) {\n              bad += Frame.N2;\n            }\n          }\n        }\n  \n        var bw = 0;\n  \n        // X runs.\n        for (y = 0; y < width; y++) {\n          h = 0;\n  \n          badness[0] = 0;\n  \n          for (b = 0, x = 0; x < width; x++) {\n            b1 = buffer[x + (width * y)];\n  \n            if (b === b1) {\n              badness[h]++;\n            } else {\n              badness[++h] = 1;\n            }\n  \n            b = b1;\n            bw += b ? 1 : -1;\n          }\n  \n          bad += this._getBadness(h);\n        }\n  \n        if (bw < 0) {\n          bw = -bw;\n        }\n  \n        var count = 0;\n        var big = bw;\n        big += big << 2;\n        big <<= 1;\n  \n        while (big > width * width) {\n          big -= width * width;\n          count++;\n        }\n  \n        bad += count * Frame.N4;\n  \n        // Y runs.\n        for (x = 0; x < width; x++) {\n          h = 0;\n  \n          badness[0] = 0;\n  \n          for (b = 0, y = 0; y < width; y++) {\n            b1 = buffer[x + (width * y)];\n  \n            if (b === b1) {\n              badness[h]++;\n            } else {\n              badness[++h] = 1;\n            }\n  \n            b = b1;\n          }\n  \n          bad += this._getBadness(h);\n        }\n  \n        return bad;\n      },\n  \n      _convertBitStream: function(length) {\n        var bit, i;\n        var ecc = this._ecc;\n        var version = this._version;\n  \n        // Convert string to bit stream. 8-bit data to QR-coded 8-bit data (numeric, alphanumeric, or kanji not supported).\n        for (i = 0; i < length; i++) {\n          ecc[i] = this._value.charCodeAt(i);\n        }\n  \n        var stringBuffer = this._stringBuffer = ecc.slice();\n        var maxLength = this._calculateMaxLength();\n  \n        if (length >= maxLength - 2) {\n          length = maxLength - 2;\n  \n          if (version > 9) {\n            length--;\n          }\n        }\n  \n        // Shift and re-pack to insert length prefix.\n        var index = length;\n  \n        if (version > 9) {\n          stringBuffer[index + 2] = 0;\n          stringBuffer[index + 3] = 0;\n  \n          while (index--) {\n            bit = stringBuffer[index];\n  \n            stringBuffer[index + 3] |= 255 & (bit << 4);\n            stringBuffer[index + 2] = bit >> 4;\n          }\n  \n          stringBuffer[2] |= 255 & (length << 4);\n          stringBuffer[1] = length >> 4;\n          stringBuffer[0] = 0x40 | (length >> 12);\n        } else {\n          stringBuffer[index + 1] = 0;\n          stringBuffer[index + 2] = 0;\n  \n          while (index--) {\n            bit = stringBuffer[index];\n  \n            stringBuffer[index + 2] |= 255 & (bit << 4);\n            stringBuffer[index + 1] = bit >> 4;\n          }\n  \n          stringBuffer[1] |= 255 & (length << 4);\n          stringBuffer[0] = 0x40 | (length >> 4);\n        }\n  \n        // Fill to end with pad pattern.\n        index = length + 3 - (version < 10);\n  \n        while (index < maxLength) {\n          stringBuffer[index++] = 0xec;\n          stringBuffer[index++] = 0x11;\n        }\n      },\n  \n      _getBadness: function(length) {\n        var i;\n        var badRuns = 0;\n        var badness = this._badness;\n  \n        for (i = 0; i <= length; i++) {\n          if (badness[i] >= 5) {\n            badRuns += Frame.N1 + badness[i] - 5;\n          }\n        }\n  \n        // FBFFFBF as in finder.\n        for (i = 3; i < length - 1; i += 2) {\n          if (badness[i - 2] === badness[i + 2] &&\n            badness[i + 2] === badness[i - 1] &&\n            badness[i - 1] === badness[i + 1] &&\n            badness[i - 1] * 3 === badness[i] &&\n            // Background around the foreground pattern? Not part of the specs.\n            (badness[i - 3] === 0 || i + 3 > length ||\n            badness[i - 3] * 3 >= badness[i] * 4 ||\n            badness[i + 3] * 3 >= badness[i] * 4)) {\n            badRuns += Frame.N3;\n          }\n        }\n  \n        return badRuns;\n      },\n  \n      _finish: function() {\n        // Save pre-mask copy of frame.\n        this._stringBuffer = this.buffer.slice();\n  \n        var currentMask, i;\n        var bit = 0;\n        var mask = 30000;\n  \n        /*\n         * Using for instead of while since in original Arduino code if an early mask was \"good enough\" it wouldn't try for\n         * a better one since they get more complex and take longer.\n         */\n        for (i = 0; i < 8; i++) {\n          // Returns foreground-background imbalance.\n          this._applyMask(i);\n  \n          currentMask = this._checkBadness();\n  \n          // Is current mask better than previous best?\n          if (currentMask < mask) {\n            mask = currentMask;\n            bit = i;\n          }\n  \n          // Don't increment \"i\" to a void redoing mask.\n          if (bit === 7) {\n            break;\n          }\n  \n          // Reset for next pass.\n          this.buffer = this._stringBuffer.slice();\n        }\n  \n        // Redo best mask as none were \"good enough\" (i.e. last wasn't bit).\n        if (bit !== i) {\n          this._applyMask(bit);\n        }\n  \n        // Add in final mask/ECC level bytes.\n        mask = ErrorCorrection_1.FINAL_FORMAT[bit + (this._level - 1 << 3)];\n  \n        var buffer = this.buffer;\n        var width = this.width;\n  \n        // Low byte.\n        for (i = 0; i < 8; i++, mask >>= 1) {\n          if (mask & 1) {\n            buffer[width - 1 - i + (width * 8)] = 1;\n  \n            if (i < 6) {\n              buffer[8 + (width * i)] = 1;\n            } else {\n              buffer[8 + (width * (i + 1))] = 1;\n            }\n          }\n        }\n  \n        // High byte.\n        for (i = 0; i < 7; i++, mask >>= 1) {\n          if (mask & 1) {\n            buffer[8 + (width * (width - 7 + i))] = 1;\n  \n            if (i) {\n              buffer[6 - i + (width * 8)] = 1;\n            } else {\n              buffer[7 + (width * 8)] = 1;\n            }\n          }\n        }\n      },\n  \n      _interleaveBlocks: function() {\n        var i, j;\n        var dataBlock = this._dataBlock;\n        var ecc = this._ecc;\n        var eccBlock = this._eccBlock;\n        var k = 0;\n        var maxLength = this._calculateMaxLength();\n        var neccBlock1 = this._neccBlock1;\n        var neccBlock2 = this._neccBlock2;\n        var stringBuffer = this._stringBuffer;\n  \n        for (i = 0; i < dataBlock; i++) {\n          for (j = 0; j < neccBlock1; j++) {\n            ecc[k++] = stringBuffer[i + (j * dataBlock)];\n          }\n  \n          for (j = 0; j < neccBlock2; j++) {\n            ecc[k++] = stringBuffer[(neccBlock1 * dataBlock) + i + (j * (dataBlock + 1))];\n          }\n        }\n  \n        for (j = 0; j < neccBlock2; j++) {\n          ecc[k++] = stringBuffer[(neccBlock1 * dataBlock) + i + (j * (dataBlock + 1))];\n        }\n  \n        for (i = 0; i < eccBlock; i++) {\n          for (j = 0; j < neccBlock1 + neccBlock2; j++) {\n            ecc[k++] = stringBuffer[maxLength + i + (j * eccBlock)];\n          }\n        }\n  \n        this._stringBuffer = ecc;\n      },\n  \n      _insertAlignments: function() {\n        var i, x, y;\n        var version = this._version;\n        var width = this.width;\n  \n        if (version > 1) {\n          i = Alignment_1.BLOCK[version];\n          y = width - 7;\n  \n          for (;;) {\n            x = width - 7;\n  \n            while (x > i - 3) {\n              this._addAlignment(x, y);\n  \n              if (x < i) {\n                break;\n              }\n  \n              x -= i;\n            }\n  \n            if (y <= i + 9) {\n              break;\n            }\n  \n            y -= i;\n  \n            this._addAlignment(6, y);\n            this._addAlignment(y, 6);\n          }\n        }\n      },\n  \n      _insertFinders: function() {\n        var i, j, x, y;\n        var buffer = this.buffer;\n        var width = this.width;\n  \n        for (i = 0; i < 3; i++) {\n          j = 0;\n          y = 0;\n  \n          if (i === 1) {\n            j = width - 7;\n          }\n          if (i === 2) {\n            y = width - 7;\n          }\n  \n          buffer[y + 3 + (width * (j + 3))] = 1;\n  \n          for (x = 0; x < 6; x++) {\n            buffer[y + x + (width * j)] = 1;\n            buffer[y + (width * (j + x + 1))] = 1;\n            buffer[y + 6 + (width * (j + x))] = 1;\n            buffer[y + x + 1 + (width * (j + 6))] = 1;\n          }\n  \n          for (x = 1; x < 5; x++) {\n            this._setMask(y + x, j + 1);\n            this._setMask(y + 1, j + x + 1);\n            this._setMask(y + 5, j + x);\n            this._setMask(y + x + 1, j + 5);\n          }\n  \n          for (x = 2; x < 4; x++) {\n            buffer[y + x + (width * (j + 2))] = 1;\n            buffer[y + 2 + (width * (j + x + 1))] = 1;\n            buffer[y + 4 + (width * (j + x))] = 1;\n            buffer[y + x + 1 + (width * (j + 4))] = 1;\n          }\n        }\n      },\n  \n      _insertTimingGap: function() {\n        var x, y;\n        var width = this.width;\n  \n        for (y = 0; y < 7; y++) {\n          this._setMask(7, y);\n          this._setMask(width - 8, y);\n          this._setMask(7, y + width - 7);\n        }\n  \n        for (x = 0; x < 8; x++) {\n          this._setMask(x, 7);\n          this._setMask(x + width - 8, 7);\n          this._setMask(x, width - 8);\n        }\n      },\n  \n      _insertTimingRowAndColumn: function() {\n        var x;\n        var buffer = this.buffer;\n        var width = this.width;\n  \n        for (x = 0; x < width - 14; x++) {\n          if (x & 1) {\n            this._setMask(8 + x, 6);\n            this._setMask(6, 8 + x);\n          } else {\n            buffer[8 + x + (width * 6)] = 1;\n            buffer[6 + (width * (8 + x))] = 1;\n          }\n        }\n      },\n  \n      _insertVersion: function() {\n        var i, j, x, y;\n        var buffer = this.buffer;\n        var version = this._version;\n        var width = this.width;\n  \n        if (version > 6) {\n          i = Version_1.BLOCK[version - 7];\n          j = 17;\n  \n          for (x = 0; x < 6; x++) {\n            for (y = 0; y < 3; y++, j--) {\n              if (1 & (j > 11 ? version >> j - 12 : i >> j)) {\n                buffer[5 - x + (width * (2 - y + width - 11))] = 1;\n                buffer[2 - y + width - 11 + (width * (5 - x))] = 1;\n              } else {\n                this._setMask(5 - x, 2 - y + width - 11);\n                this._setMask(2 - y + width - 11, 5 - x);\n              }\n            }\n          }\n        }\n      },\n  \n      _isMasked: function(x, y) {\n        var bit = Frame._getMaskBit(x, y);\n  \n        return this._mask[bit] === 1;\n      },\n  \n      _pack: function() {\n        var bit, i, j;\n        var k = 1;\n        var v = 1;\n        var width = this.width;\n        var x = width - 1;\n        var y = width - 1;\n  \n        // Interleaved data and ECC codes.\n        var length = ((this._dataBlock + this._eccBlock) * (this._neccBlock1 + this._neccBlock2)) + this._neccBlock2;\n  \n        for (i = 0; i < length; i++) {\n          bit = this._stringBuffer[i];\n  \n          for (j = 0; j < 8; j++, bit <<= 1) {\n            if (0x80 & bit) {\n              this.buffer[x + (width * y)] = 1;\n            }\n  \n            // Find next fill position.\n            do {\n              if (v) {\n                x--;\n              } else {\n                x++;\n  \n                if (k) {\n                  if (y !== 0) {\n                    y--;\n                  } else {\n                    x -= 2;\n                    k = !k;\n  \n                    if (x === 6) {\n                      x--;\n                      y = 9;\n                    }\n                  }\n                } else if (y !== width - 1) {\n                  y++;\n                } else {\n                  x -= 2;\n                  k = !k;\n  \n                  if (x === 6) {\n                    x--;\n                    y -= 8;\n                  }\n                }\n              }\n  \n              v = !v;\n            } while (this._isMasked(x, y));\n          }\n        }\n      },\n  \n      _reverseMask: function() {\n        var x, y;\n        var width = this.width;\n  \n        for (x = 0; x < 9; x++) {\n          this._setMask(x, 8);\n        }\n  \n        for (x = 0; x < 8; x++) {\n          this._setMask(x + width - 8, 8);\n          this._setMask(8, x);\n        }\n  \n        for (y = 0; y < 7; y++) {\n          this._setMask(8, y + width - 7);\n        }\n      },\n  \n      _setMask: function(x, y) {\n        var bit = Frame._getMaskBit(x, y);\n  \n        this._mask[bit] = 1;\n      },\n  \n      _syncMask: function() {\n        var x, y;\n        var width = this.width;\n  \n        for (y = 0; y < width; y++) {\n          for (x = 0; x <= y; x++) {\n            if (this.buffer[x + (width * y)]) {\n              this._setMask(x, y);\n            }\n          }\n        }\n      }\n  \n    }, {\n  \n      _createArray: function(length) {\n        var i;\n        var array = [];\n  \n        for (i = 0; i < length; i++) {\n          array[i] = 0;\n        }\n  \n        return array;\n      },\n  \n      _getMaskBit: function(x, y) {\n        var bit;\n  \n        if (x > y) {\n          bit = x;\n          x = y;\n          y = bit;\n        }\n  \n        bit = y;\n        bit += y * y;\n        bit >>= 1;\n        bit += x;\n  \n        return bit;\n      },\n  \n      _modN: function(x) {\n        while (x >= 255) {\n          x -= 255;\n          x = (x >> 8) + (x & 255);\n        }\n  \n        return x;\n      },\n  \n      // *Badness* coefficients.\n      N1: 3,\n      N2: 3,\n      N3: 40,\n      N4: 10\n  \n    });\n  \n    var Frame_1 = Frame;\n  \n    /**\n     * The options used by {@link Frame}.\n     *\n     * @typedef {Object} Frame~Options\n     * @property {string} level - The ECC level to be used.\n     * @property {string} value - The value to be encoded.\n     */\n  \n    /**\n     * An implementation of {@link Renderer} for working with <code>img</code> elements.\n     *\n     * This depends on {@link CanvasRenderer} being executed first as this implementation simply applies the data URL from\n     * the rendered <code>canvas</code> element as the <code>src</code> for the <code>img</code> element being rendered.\n     *\n     * @public\n     * @class\n     * @extends Renderer\n     */\n    var ImageRenderer = Renderer_1.extend({\n  \n      /**\n       * @override\n       */\n      draw: function() {\n        this.element.src = this.qrious.toDataURL();\n      },\n  \n      /**\n       * @override\n       */\n      reset: function() {\n        this.element.src = '';\n      },\n  \n      /**\n       * @override\n       */\n      resize: function() {\n        var element = this.element;\n  \n        element.width = element.height = this.qrious.size;\n      }\n  \n    });\n  \n    var ImageRenderer_1 = ImageRenderer;\n  \n    /**\n     * Defines an available option while also configuring how values are applied to the target object.\n     *\n     * Optionally, a default value can be specified as well a value transformer for greater control over how the option\n     * value is applied.\n     *\n     * If no value transformer is specified, then any specified option will be applied directly. All values are maintained\n     * on the target object itself as a field using the option name prefixed with a single underscore.\n     *\n     * When an option is specified as modifiable, the {@link OptionManager} will be required to include a setter for the\n     * property that is defined on the target object that uses the option name.\n     *\n     * @param {string} name - the name to be used\n     * @param {boolean} [modifiable] - <code>true</code> if the property defined on target objects should include a setter;\n     * otherwise <code>false</code>\n     * @param {*} [defaultValue] - the default value to be used\n     * @param {Option~ValueTransformer} [valueTransformer] - the value transformer to be used\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var Option = lite.extend(function(name, modifiable, defaultValue, valueTransformer) {\n      /**\n       * The name for this {@link Option}.\n       *\n       * @public\n       * @type {string}\n       * @memberof Option#\n       */\n      this.name = name;\n  \n      /**\n       * Whether a setter should be included on the property defined on target objects for this {@link Option}.\n       *\n       * @public\n       * @type {boolean}\n       * @memberof Option#\n       */\n      this.modifiable = Boolean(modifiable);\n  \n      /**\n       * The default value for this {@link Option}.\n       *\n       * @public\n       * @type {*}\n       * @memberof Option#\n       */\n      this.defaultValue = defaultValue;\n  \n      this._valueTransformer = valueTransformer;\n    }, {\n  \n      /**\n       * Transforms the specified <code>value</code> so that it can be applied for this {@link Option}.\n       *\n       * If a value transformer has been specified for this {@link Option}, it will be called upon to transform\n       * <code>value</code>. Otherwise, <code>value</code> will be returned directly.\n       *\n       * @param {*} value - the value to be transformed\n       * @return {*} The transformed value or <code>value</code> if no value transformer is specified.\n       * @public\n       * @memberof Option#\n       */\n      transform: function(value) {\n        var transformer = this._valueTransformer;\n        if (typeof transformer === 'function') {\n          return transformer(value, this);\n        }\n  \n        return value;\n      }\n  \n    });\n  \n    var Option_1 = Option;\n  \n    /**\n     * Returns a transformed value for the specified <code>value</code> to be applied for the <code>option</code> provided.\n     *\n     * @callback Option~ValueTransformer\n     * @param {*} value - the value to be transformed\n     * @param {Option} option - the {@link Option} for which <code>value</code> is being transformed\n     * @return {*} The transform value.\n     */\n  \n    /**\n     * Contains utility methods that are useful throughout the library.\n     *\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var Utilities = lite.extend(null, {\n  \n      /**\n       * Returns the absolute value of a given number.\n       *\n       * This method is simply a convenient shorthand for <code>Math.abs</code> while ensuring that nulls are returned as\n       * <code>null</code> instead of zero.\n       *\n       * @param {number} value - the number whose absolute value is to be returned\n       * @return {number} The absolute value of <code>value</code> or <code>null</code> if <code>value</code> is\n       * <code>null</code>.\n       * @public\n       * @static\n       * @memberof Utilities\n       */\n      abs: function(value) {\n        return value != null ? Math.abs(value) : null;\n      },\n  \n      /**\n       * Returns whether the specified <code>object</code> has a property with the specified <code>name</code> as an own\n       * (not inherited) property.\n       *\n       * @param {Object} object - the object on which the property is to be checked\n       * @param {string} name - the name of the property to be checked\n       * @return {boolean} <code>true</code> if <code>object</code> has an own property with <code>name</code>.\n       * @public\n       * @static\n       * @memberof Utilities\n       */\n      hasOwn: function(object, name) {\n        return Object.prototype.hasOwnProperty.call(object, name);\n      },\n  \n      /**\n       * A non-operation method that does absolutely nothing.\n       *\n       * @return {void}\n       * @public\n       * @static\n       * @memberof Utilities\n       */\n      noop: function() {},\n  \n      /**\n       * Transforms the specified <code>string</code> to upper case while remaining null-safe.\n       *\n       * @param {string} string - the string to be transformed to upper case\n       * @return {string} <code>string</code> transformed to upper case if <code>string</code> is not <code>null</code>.\n       * @public\n       * @static\n       * @memberof Utilities\n       */\n      toUpperCase: function(string) {\n        return string != null ? string.toUpperCase() : null;\n      }\n  \n    });\n  \n    var Utilities_1 = Utilities;\n  \n    /**\n     * Manages multiple {@link Option} instances that are intended to be used by multiple implementations.\n     *\n     * Although the option definitions are shared between targets, the values are maintained on the targets themselves.\n     *\n     * @param {Option[]} options - the options to be used\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var OptionManager = lite.extend(function(options) {\n      /**\n       * The available options for this {@link OptionManager}.\n       *\n       * @public\n       * @type {Object.<string, Option>}\n       * @memberof OptionManager#\n       */\n      this.options = {};\n  \n      options.forEach(function(option) {\n        this.options[option.name] = option;\n      }, this);\n    }, {\n  \n      /**\n       * Returns whether an option with the specified <code>name</code> is available.\n       *\n       * @param {string} name - the name of the {@link Option} whose existence is to be checked\n       * @return {boolean} <code>true</code> if an {@link Option} exists with <code>name</code>; otherwise\n       * <code>false</code>.\n       * @public\n       * @memberof OptionManager#\n       */\n      exists: function(name) {\n        return this.options[name] != null;\n      },\n  \n      /**\n       * Returns the value of the option with the specified <code>name</code> on the <code>target</code> object provided.\n       *\n       * @param {string} name - the name of the {@link Option} whose value on <code>target</code> is to be returned\n       * @param {Object} target - the object from which the value of the named {@link Option} is to be returned\n       * @return {*} The value of the {@link Option} with <code>name</code> on <code>target</code>.\n       * @public\n       * @memberof OptionManager#\n       */\n      get: function(name, target) {\n        return OptionManager._get(this.options[name], target);\n      },\n  \n      /**\n       * Returns a copy of all of the available options on the <code>target</code> object provided.\n       *\n       * @param {Object} target - the object from which the option name/value pairs are to be returned\n       * @return {Object.<string, *>} A hash containing the name/value pairs of all options on <code>target</code>.\n       * @public\n       * @memberof OptionManager#\n       */\n      getAll: function(target) {\n        var name;\n        var options = this.options;\n        var result = {};\n  \n        for (name in options) {\n          if (Utilities_1.hasOwn(options, name)) {\n            result[name] = OptionManager._get(options[name], target);\n          }\n        }\n  \n        return result;\n      },\n  \n      /**\n       * Initializes the available options for the <code>target</code> object provided and then applies the initial values\n       * within the speciifed <code>options</code>.\n       *\n       * This method will throw an error if any of the names within <code>options</code> does not match an available option.\n       *\n       * This involves setting the default values and defining properties for all of the available options on\n       * <code>target</code> before finally calling {@link OptionMananger#setAll} with <code>options</code> and\n       * <code>target</code>. Any options that are configured to be modifiable will have a setter included in their defined\n       * property that will allow its corresponding value to be modified.\n       *\n       * If a change handler is specified, it will be called whenever the value changes on <code>target</code> for a\n       * modifiable option, but only when done so via the defined property's setter.\n       *\n       * @param {Object.<string, *>} options - the name/value pairs of the initial options to be set\n       * @param {Object} target - the object on which the options are to be initialized\n       * @param {Function} [changeHandler] - the function to be called whenever the value of an modifiable option changes on\n       * <code>target</code>\n       * @return {void}\n       * @throws {Error} If <code>options</code> contains an invalid option name.\n       * @public\n       * @memberof OptionManager#\n       */\n      init: function(options, target, changeHandler) {\n        if (typeof changeHandler !== 'function') {\n          changeHandler = Utilities_1.noop;\n        }\n  \n        var name, option;\n  \n        for (name in this.options) {\n          if (Utilities_1.hasOwn(this.options, name)) {\n            option = this.options[name];\n  \n            OptionManager._set(option, option.defaultValue, target);\n            OptionManager._createAccessor(option, target, changeHandler);\n          }\n        }\n  \n        this._setAll(options, target, true);\n      },\n  \n      /**\n       * Sets the value of the option with the specified <code>name</code> on the <code>target</code> object provided to\n       * <code>value</code>.\n       *\n       * This method will throw an error if <code>name</code> does not match an available option or matches an option that\n       * cannot be modified.\n       *\n       * If <code>value</code> is <code>null</code> and the {@link Option} has a default value configured, then that default\n       * value will be used instead. If the {@link Option} also has a value transformer configured, it will be used to\n       * transform whichever value was determined to be used.\n       *\n       * This method returns whether the value of the underlying field on <code>target</code> was changed as a result.\n       *\n       * @param {string} name - the name of the {@link Option} whose value is to be set\n       * @param {*} value - the value to be set for the named {@link Option} on <code>target</code>\n       * @param {Object} target - the object on which <code>value</code> is to be set for the named {@link Option}\n       * @return {boolean} <code>true</code> if the underlying field on <code>target</code> was changed; otherwise\n       * <code>false</code>.\n       * @throws {Error} If <code>name</code> is invalid or is for an option that cannot be modified.\n       * @public\n       * @memberof OptionManager#\n       */\n      set: function(name, value, target) {\n        return this._set(name, value, target);\n      },\n  \n      /**\n       * Sets all of the specified <code>options</code> on the <code>target</code> object provided to their corresponding\n       * values.\n       *\n       * This method will throw an error if any of the names within <code>options</code> does not match an available option\n       * or matches an option that cannot be modified.\n       *\n       * If any value within <code>options</code> is <code>null</code> and the corresponding {@link Option} has a default\n       * value configured, then that default value will be used instead. If an {@link Option} also has a value transformer\n       * configured, it will be used to transform whichever value was determined to be used.\n       *\n       * This method returns whether the value for any of the underlying fields on <code>target</code> were changed as a\n       * result.\n       *\n       * @param {Object.<string, *>} options - the name/value pairs of options to be set\n       * @param {Object} target - the object on which the options are to be set\n       * @return {boolean} <code>true</code> if any of the underlying fields on <code>target</code> were changed; otherwise\n       * <code>false</code>.\n       * @throws {Error} If <code>options</code> contains an invalid option name or an option that cannot be modiifed.\n       * @public\n       * @memberof OptionManager#\n       */\n      setAll: function(options, target) {\n        return this._setAll(options, target);\n      },\n  \n      _set: function(name, value, target, allowUnmodifiable) {\n        var option = this.options[name];\n        if (!option) {\n          throw new Error('Invalid option: ' + name);\n        }\n        if (!option.modifiable && !allowUnmodifiable) {\n          throw new Error('Option cannot be modified: ' + name);\n        }\n  \n        return OptionManager._set(option, value, target);\n      },\n  \n      _setAll: function(options, target, allowUnmodifiable) {\n        if (!options) {\n          return false;\n        }\n  \n        var name;\n        var changed = false;\n  \n        for (name in options) {\n          if (Utilities_1.hasOwn(options, name) && this._set(name, options[name], target, allowUnmodifiable)) {\n            changed = true;\n          }\n        }\n  \n        return changed;\n      }\n  \n    }, {\n  \n      _createAccessor: function(option, target, changeHandler) {\n        var descriptor = {\n          get: function() {\n            return OptionManager._get(option, target);\n          }\n        };\n  \n        if (option.modifiable) {\n          descriptor.set = function(value) {\n            if (OptionManager._set(option, value, target)) {\n              changeHandler(value, option);\n            }\n          };\n        }\n  \n        Object.defineProperty(target, option.name, descriptor);\n      },\n  \n      _get: function(option, target) {\n        return target['_' + option.name];\n      },\n  \n      _set: function(option, value, target) {\n        var fieldName = '_' + option.name;\n        var oldValue = target[fieldName];\n        var newValue = option.transform(value != null ? value : option.defaultValue);\n  \n        target[fieldName] = newValue;\n  \n        return newValue !== oldValue;\n      }\n  \n    });\n  \n    var OptionManager_1 = OptionManager;\n  \n    /**\n     * Called whenever the value of a modifiable {@link Option} is changed on a target object via the defined property's\n     * setter.\n     *\n     * @callback OptionManager~ChangeHandler\n     * @param {*} value - the new value for <code>option</code> on the target object\n     * @param {Option} option - the modifable {@link Option} whose value has changed on the target object.\n     * @return {void}\n     */\n  \n    /**\n     * A basic manager for {@link Service} implementations that are mapped to simple names.\n     *\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var ServiceManager = lite.extend(function() {\n      this._services = {};\n    }, {\n  \n      /**\n       * Returns the {@link Service} being managed with the specified <code>name</code>.\n       *\n       * @param {string} name - the name of the {@link Service} to be returned\n       * @return {Service} The {@link Service} is being managed with <code>name</code>.\n       * @throws {Error} If no {@link Service} is being managed with <code>name</code>.\n       * @public\n       * @memberof ServiceManager#\n       */\n      getService: function(name) {\n        var service = this._services[name];\n        if (!service) {\n          throw new Error('Service is not being managed with name: ' + name);\n        }\n  \n        return service;\n      },\n  \n      /**\n       * Sets the {@link Service} implementation to be managed for the specified <code>name</code> to the\n       * <code>service</code> provided.\n       *\n       * @param {string} name - the name of the {@link Service} to be managed with <code>name</code>\n       * @param {Service} service - the {@link Service} implementation to be managed\n       * @return {void}\n       * @throws {Error} If a {@link Service} is already being managed with the same <code>name</code>.\n       * @public\n       * @memberof ServiceManager#\n       */\n      setService: function(name, service) {\n        if (this._services[name]) {\n          throw new Error('Service is already managed with name: ' + name);\n        }\n  \n        if (service) {\n          this._services[name] = service;\n        }\n      }\n  \n    });\n  \n    var ServiceManager_1 = ServiceManager;\n  \n    var optionManager = new OptionManager_1([\n      new Option_1('background', true, 'white'),\n      new Option_1('backgroundAlpha', true, 1, Utilities_1.abs),\n      new Option_1('element'),\n      new Option_1('foreground', true, 'black'),\n      new Option_1('foregroundAlpha', true, 1, Utilities_1.abs),\n      new Option_1('level', true, 'L', Utilities_1.toUpperCase),\n      new Option_1('mime', true, 'image/png'),\n      new Option_1('padding', true, null, Utilities_1.abs),\n      new Option_1('size', true, 100, Utilities_1.abs),\n      new Option_1('value', true, '')\n    ]);\n    var serviceManager = new ServiceManager_1();\n  \n    /**\n     * Enables configuration of a QR code generator which uses HTML5 <code>canvas</code> for rendering.\n     *\n     * @param {QRious~Options} [options] - the options to be used\n     * @throws {Error} If any <code>options</code> are invalid.\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var QRious = lite.extend(function(options) {\n      optionManager.init(options, this, this.update.bind(this));\n  \n      var element = optionManager.get('element', this);\n      var elementService = serviceManager.getService('element');\n      var canvas = element && elementService.isCanvas(element) ? element : elementService.createCanvas();\n      var image = element && elementService.isImage(element) ? element : elementService.createImage();\n  \n      this._canvasRenderer = new CanvasRenderer_1(this, canvas, true);\n      this._imageRenderer = new ImageRenderer_1(this, image, image === element);\n  \n      this.update();\n    }, {\n  \n      /**\n       * Returns all of the options configured for this {@link QRious}.\n       *\n       * Any changes made to the returned object will not be reflected in the options themselves or their corresponding\n       * underlying fields.\n       *\n       * @return {Object.<string, *>} A copy of the applied options.\n       * @public\n       * @memberof QRious#\n       */\n      get: function() {\n        return optionManager.getAll(this);\n      },\n  \n      /**\n       * Sets all of the specified <code>options</code> and automatically updates this {@link QRious} if any of the\n       * underlying fields are changed as a result.\n       *\n       * This is the preferred method for updating multiple options at one time to avoid unnecessary updates between\n       * changes.\n       *\n       * @param {QRious~Options} options - the options to be set\n       * @return {void}\n       * @throws {Error} If any <code>options</code> are invalid or cannot be modified.\n       * @public\n       * @memberof QRious#\n       */\n      set: function(options) {\n        if (optionManager.setAll(options, this)) {\n          this.update();\n        }\n      },\n  \n      /**\n       * Returns the image data URI for the generated QR code using the <code>mime</code> provided.\n       *\n       * @param {string} [mime] - the MIME type for the image\n       * @return {string} The image data URI for the QR code.\n       * @public\n       * @memberof QRious#\n       */\n      toDataURL: function(mime) {\n        return this.canvas.toDataURL(mime || this.mime);\n      },\n  \n      /**\n       * Updates this {@link QRious} by generating a new {@link Frame} and re-rendering the QR code.\n       *\n       * @return {void}\n       * @protected\n       * @memberof QRious#\n       */\n      update: function() {\n        var frame = new Frame_1({\n          level: this.level,\n          value: this.value\n        });\n  \n        this._canvasRenderer.render(frame);\n        this._imageRenderer.render(frame);\n      }\n  \n    }, {\n  \n      /**\n       * Configures the <code>service</code> provided to be used by all {@link QRious} instances.\n       *\n       * @param {Service} service - the {@link Service} to be configured\n       * @return {void}\n       * @throws {Error} If a {@link Service} has already been configured with the same name.\n       * @public\n       * @static\n       * @memberof QRious\n       */\n      use: function(service) {\n        serviceManager.setService(service.getName(), service);\n      }\n  \n    });\n  \n    Object.defineProperties(QRious.prototype, {\n  \n      canvas: {\n        /**\n         * Returns the <code>canvas</code> element being used to render the QR code for this {@link QRious}.\n         *\n         * @return {*} The <code>canvas</code> element.\n         * @public\n         * @memberof QRious#\n         * @alias canvas\n         */\n        get: function() {\n          return this._canvasRenderer.getElement();\n        }\n      },\n  \n      image: {\n        /**\n         * Returns the <code>img</code> element being used to render the QR code for this {@link QRious}.\n         *\n         * @return {*} The <code>img</code> element.\n         * @public\n         * @memberof QRious#\n         * @alias image\n         */\n        get: function() {\n          return this._imageRenderer.getElement();\n        }\n      }\n  \n    });\n  \n    var QRious_1$2 = QRious;\n  \n    /**\n     * The options used by {@link QRious}.\n     *\n     * @typedef {Object} QRious~Options\n     * @property {string} [background=\"white\"] - The background color to be applied to the QR code.\n     * @property {number} [backgroundAlpha=1] - The background alpha to be applied to the QR code.\n     * @property {*} [element] - The element to be used to render the QR code which may either be an <code>canvas</code> or\n     * <code>img</code>. The element(s) will be created if needed.\n     * @property {string} [foreground=\"black\"] - The foreground color to be applied to the QR code.\n     * @property {number} [foregroundAlpha=1] - The foreground alpha to be applied to the QR code.\n     * @property {string} [level=\"L\"] - The error correction level to be applied to the QR code.\n     * @property {string} [mime=\"image/png\"] - The MIME type to be used to render the image for the QR code.\n     * @property {number} [padding] - The padding for the QR code in pixels.\n     * @property {number} [size=100] - The size of the QR code in pixels.\n     * @property {string} [value=\"\"] - The value to be encoded within the QR code.\n     */\n  \n    var index = QRious_1$2;\n  \n    /**\n     * Defines a service contract that must be met by all implementations.\n     *\n     * @public\n     * @class\n     * @extends Nevis\n     */\n    var Service = lite.extend({\n  \n      /**\n       * Returns the name of this {@link Service}.\n       *\n       * @return {string} The service name.\n       * @public\n       * @abstract\n       * @memberof Service#\n       */\n      getName: function() {}\n  \n    });\n  \n    var Service_1 = Service;\n  \n    /**\n     * A service for working with elements.\n     *\n     * @public\n     * @class\n     * @extends Service\n     */\n    var ElementService = Service_1.extend({\n  \n      /**\n       * Creates an instance of a canvas element.\n       *\n       * Implementations of {@link ElementService} <b>must</b> override this method with their own specific logic.\n       *\n       * @return {*} The newly created canvas element.\n       * @public\n       * @abstract\n       * @memberof ElementService#\n       */\n      createCanvas: function() {},\n  \n      /**\n       * Creates an instance of a image element.\n       *\n       * Implementations of {@link ElementService} <b>must</b> override this method with their own specific logic.\n       *\n       * @return {*} The newly created image element.\n       * @public\n       * @abstract\n       * @memberof ElementService#\n       */\n      createImage: function() {},\n  \n      /**\n       * @override\n       */\n      getName: function() {\n        return 'element';\n      },\n  \n      /**\n       * Returns whether the specified <code>element</code> is a canvas.\n       *\n       * Implementations of {@link ElementService} <b>must</b> override this method with their own specific logic.\n       *\n       * @param {*} element - the element to be checked\n       * @return {boolean} <code>true</code> if <code>element</code> is a canvas; otherwise <code>false</code>.\n       * @public\n       * @abstract\n       * @memberof ElementService#\n       */\n      isCanvas: function(element) {},\n  \n      /**\n       * Returns whether the specified <code>element</code> is an image.\n       *\n       * Implementations of {@link ElementService} <b>must</b> override this method with their own specific logic.\n       *\n       * @param {*} element - the element to be checked\n       * @return {boolean} <code>true</code> if <code>element</code> is an image; otherwise <code>false</code>.\n       * @public\n       * @abstract\n       * @memberof ElementService#\n       */\n      isImage: function(element) {}\n  \n    });\n  \n    var ElementService_1 = ElementService;\n  \n    /**\n     * An implementation of {@link ElementService} intended for use within a browser environment.\n     *\n     * @public\n     * @class\n     * @extends ElementService\n     */\n    var BrowserElementService = ElementService_1.extend({\n  \n      /**\n       * @override\n       */\n      createCanvas: function() {\n        return document.createElement('canvas');\n      },\n  \n      /**\n       * @override\n       */\n      createImage: function() {\n        return document.createElement('img');\n      },\n  \n      /**\n       * @override\n       */\n      isCanvas: function(element) {\n        return element instanceof HTMLCanvasElement;\n      },\n  \n      /**\n       * @override\n       */\n      isImage: function(element) {\n        return element instanceof HTMLImageElement;\n      }\n  \n    });\n  \n    var BrowserElementService_1 = BrowserElementService;\n  \n    index.use(new BrowserElementService_1());\n  \n    var QRious_1 = index;\n  \n    return QRious_1;\n  \n  })));","<script>\n  import { onMount } from 'svelte';\n  import QrCode from './qrcode';\n\n  const QRcode = new QrCode();\n\n  export let errorCorrection = \"L\";\n  export let background = \"#fff\";\n  export let color = \"#000\";\n  export let size = \"200\";\n  export let value = \"\";\n  export let padding = 0;\n  export let className = \"qrcode\";\n\n  let image = '';\n\n  function generateQrCode() {\n    QRcode.set({\n      background,\n      foreground: color,\n      level: errorCorrection,\n      padding,\n      size,\n      value,\n    });\n    \n    image = QRcode.toDataURL('image/jpeg');\n  }\n\n  $: {\n    if(value) {\n      generateQrCode();\n    }\n  }\n\n  onMount(() => {\n    generateQrCode();\n  });\n\n</script>\n\n<img src={image} alt={value} class={className}/>","<script>\n    import { createEventDispatcher } from 'svelte';\n    import PubSub from 'pubsub-js'\n    import QrCode from \"svelte-qrcode\";\n\n    import Pullout from './components/Pullout.svelte';\n\n    import Form from './components/form/Form.svelte';\n\n\n    import RecordID from \"./components/table/RecordID.svelte\";\n    import Status from \"./components/table/Status.svelte\";\n    import Channel from \"./components/table/Channel.svelte\";\n    import DateComp from \"./components/table/Date.svelte\";\n\n\n   \n\n\tlet components = {\n\t\t\"record_id\": RecordID,\n\t\t\"status\": Status,\n\t\t\"channel\": Channel,\n\t\t\"created_date\": DateComp\n\t}\n    \n    const dispatch = createEventDispatcher();\n\n    let tab = \"qrcodes\";\n    export let tabnav = '';\n\n    let channel = \"QR\";\n    let sub = PubSub.subscribe(channel, read_answer);\n\n    function read_answer(msg, data) {\n        fx = strip(f);\n        console.log('f updated', msg, data)\n    }\n    let new_qr = false;\n\n    let f = [\n        {\n            item_type: \"section\",\n            label: \"Prefilled details\",\n            children: [\n                {\n                    item_type: \"input_lookup\",\n                    id: \"0_1\",\n                    label: \"Site\",\n                    hint: \"You can pre-define this QR for a particular site or leave blank to be filled in by the reporter\",\n                    placeholder: \"Click or type to select...\",\n                    options: [\n                        {\n                            \"key\": \"a\",\n                            \"value\": \"England\",\n                            \"selectable\": true,\n                            \"selected\": false,\n                            \"children\": [\n                                {\n                                    \"key\": \"aa\",\n                                    \"value\": \"London HQ\",\n                                    \"selectable\": true,\n                                    \"selected\": false,\n                                    \"children\": [\n                                        {\n                                            \"key\": \"aaa\",\n                                            \"value\": \"Main Office\",\n                                            \"selectable\": true,\n                                            \"selected\": false\n                                        }\n                                    ]\n                                }\n                            ]\n                        },\n                        {\n                            \"key\": \"a\",\n                            \"value\": \"Ireland\",\n                            \"selectable\": true,\n                            \"selected\": false,\n                            \"children\": [\n                                {\n                                    \"key\": \"aa\",\n                                    \"value\": \"Dublin HQ\",\n                                    \"selectable\": true,\n                                    \"selected\": false,\n                                    \"children\": [\n                                        {\n                                            \"key\": \"aaa\",\n                                            \"value\": \"Main Office\",\n                                            \"selectable\": true,\n                                            \"selected\": false\n                                        },\n                                        {\n                                            \"key\": \"aab\",\n                                            \"value\": \"Warehouse\",\n                                            \"selectable\": true,\n                                            \"selected\": false\n                                        }\n                                    ]\n                                },\n                                {\n                                    \"key\": \"ab\",\n                                    \"value\": \"Galway Shipping\",\n                                    \"selectable\": true,\n                                    \"selected\": false,\n                                    \"children\": [\n                                        {\n                                            \"key\": \"aba\",\n                                            \"value\": \"Main Office\",\n                                            \"selectable\": true,\n                                            \"selected\": false\n                                        },\n                                        {\n                                            \"key\": \"abb\",\n                                            \"value\": \"Packing bay\",\n                                            \"selectable\": true,\n                                            \"selected\": false\n                                        }\n                                    ]\n                                }\n                            ]\n                        }\n                    ],\n                    answer: \"\"\n                },\n                {\n                    item_type: \"input_switch\",\n                    id: \"0_2\",\n                    label: \"\",\n                    clamp: true,\n                    options: [\n                        {value: false, text: \"Allow user to say “I don’t know”\"}\n                    ]\n                },\n                {\n                    item_type: \"input_switch\",\n                    id: \"0_3\",\n                    label: \"\",\n                    clamp: true,\n                    options: [\n                        {value: false, text: \"Add ‘specific location’ eg reporter can type “By the stairs”\"}\n                    ]\n                },\n                {\n                    item_type: \"input_multi\",\n                    id: \"04\",\n                    label: \"What type of incidents are permitted?\",\n                    hint: \"You can enable all event types or just a sub-set for this QR\",\n                    options: [\n                        {\n                            \"key\": \"nearmiss\",\n                            \"value\": \"Near Miss\",\n                            \"selectable\": true,\n                            \"selected\": true,\n                            \"pii\": false,\n                            \"sortable\": true,\n                            \"sorted\": \"desc\"\n                        },\n                        {\n                            \"key\": \"hazard\",\n                            \"value\": \"Hazard\",\n                            \"selectable\": true,\n                            \"selected\": true,\n                            \"pii\": false,\n                            \"sortable\": true,\n                            \"sorted\": \"desc\"\n                        },\n                        {\n                            \"key\": \"slip\",\n                            \"value\": \"Slip Trip & Fall\",\n                            \"selectable\": true,\n                            \"selected\": true,\n                            \"pii\": false,\n                            \"sortable\": true,\n                            \"sorted\": \"desc\"\n                        },\n                        {\n                            \"key\": \"vehicle\",\n                            \"value\": \"Vehicle Accident\",\n                            \"selectable\": true,\n                            \"selected\": false,\n                            \"pii\": false,\n                            \"sortable\": true,\n                            \"sorted\": \"desc\"\n                        },\n                        {\n                            \"key\": \"fatality\",\n                            \"value\": \"Fatal Accident\",\n                            \"selectable\": true,\n                            \"selected\": false,\n                            \"pii\": false,\n                            \"sortable\": true,\n                            \"sorted\": \"desc\"\n                        }\n                    ],\n                    answer: \"\"\n                },\n                {\n                    item_type: \"input_switch\",\n                    id: \"0_5\",\n                    label: \"\",\n                    clamp: true,\n                    options: [\n                        {value: false, text: \"Allow user to say “I don’t know”\"}\n                    ]\n                },\n                {\n                    item_type: \"input_text\",\n                    id: \"0_8\",\n                    label: \"Who is reporting?\",\n                    hint: false,\n                    placeholder: \"Click or type to select...\",\n                    options: [\n                        {value: '', text: \"Select one\"},\n                        {value: 'PP', text: \"Passport\"},\n                        {value: 'ID', text: \"National ID\"},\n                    ],\n                    answer: \"\"\n                },\n                {\n                    item_type: \"input_switch\",\n                    id: \"0_9\",\n                    label: \"\",\n                    clamp: true,\n                    options: [\n                        {value: false, text: \"Allow anonymous reporting\"}\n                    ]\n                }/*,\n                {\n                    item_type: \"input_switch\",\n                    id: \"0_10\",\n                    label: \"\",\n                    clamp: true,\n                    options: [\n                        {value: false, text: \"Add ‘specific location’ eg reporter can type “By the stairs”\"}\n                    ]\n                },*/\n            ]\n        },\n        {\n            item_type: \"section\",\n            label: \"Other options\",\n            children: [\n                {\n                    item_type: \"input_select\",\n                    id: \"1_0\",\n                    label: \"Status\",\n                    hint: \"When reports with this QR are submitted they should be\",\n                    placeholder: \"Click or type to select...\",\n                    options: [\n                        {value: 'in_progress', text: \"In Progress\"},\n                        {value: 'awaiting_triage', text: \"Awaiting Triage\"},\n                    ],\n                    answer: \"\"\n                },\n                {\n                    item_type: \"input_text\",\n                    id: \"1_1\",\n                    label: \"Assign to\",\n                    hint: \"This QR code can generate reports automatically assigned to a person\",\n                    placeholder: \"Click or type to select...\",\n                    answer: \"\"\n                }\n            ]\n        }\n    ];\n    let fx = [];\n    let url = 'https://ecoonline.github.io/ux/public/rapid.html?singlepage=1&fx=';\n    let value = '';\n\n    $: {\n        //too big value = url +  encodeURIComponent(JSON.stringify(fx))\n        let str = JSON.stringify(fx);\n        let l = str.length;\n\n        console.log(l, str);\n        value = url + btoa(l + '');\n    }\n    \n    function strip(arr) {\n        let temp = [];\n        arr.forEach( (item) => {\n            let temp_obj = {id: item.id, answer: item.answer, options: (item.options? [item.options[0]] : [])};\n            if(item.children){\n                temp_obj.children = strip(item.children)\n            }\n            temp.push(temp_obj)\n        })\n        return temp;\n    }\n\n    $: {\n        let t = tabnav;\n        if(tabnav !== '') {\n            tab = t;\n        }\n    }\n    let qrs = [];\n    \n    let prefilled_qrs = [\n        { \n            \"created_date\": \"2022-03-12T13:08:10.430Z\",\n            \"created_by\": \"Mike Wazowski\",\n            \"updated_date\": \"2022-01-24T3:48:19.430Z\",\n            \"updated_by\": \"Mike Wazowski\",\n            \"record_id\": 5,\n            \"use_count\": 0,\n            \"location\": false,\n        },\n        { \n            \"created_date\": \"2022-01-19T08:08:10.430Z\",\n            \"created_by\": \"Mike Wazowski\",\n            \"updated_date\": \"2022-01-24T3:48:19.430Z\",\n            \"updated_by\": \"Mike Wazowski\",\n            \"record_id\": 4,\n            \"use_count\": 15,\n            \"location\": false,\n        },\n        { \n            \"created_date\": \"2021-12-25T21:08:10.430Z\",\n            \"created_by\": \"Mike Wazowski\",\n            \"updated_date\": \"2022-01-24T3:48:19.430Z\",\n            \"updated_by\": \"Mike Wazowski\",\n            \"record_id\": 3,\n            \"use_count\": 127,\n            \"location\": \"Packing Bay\",\n        }\n    ]\n    \n\n    function nav(str) {\n\t\tdispatch('nav', {\n\t\t\ttext: str\n\t\t});\n\t}\n\n</script>\n\n<div class=\"row sticky\">\n    <div class=\"col12 col-sm-6\">\n        <ul class=\"breadcrumb\">\n            <li><a href=\"#platform\" on:click=\"{ () => {nav('platform')}}\">EcoOnline</a></li>\n            <li><a href=\"#ehs\" on:click=\"{ () => {nav('ehs')}}\">EHS</a></li>\n            <li><a href=\"#ehs/incidents\" on:click=\"{ () => {nav('incidents')}}\">Incidents</a></li>\n            <li>Incidents Admin</li>\n        </ul>\n    </div>\n    <!--\n    <div class=\"col12 col-sm-6 text-right\">\n        <a title=\"Incidents\" href=\"#ehs/incidents\" on:click=\"{ () => {nav('incidents')}}\" class=\"menu-icon\"><i class='i-dashboard i-24'></i></a>\n        <a title=\"Summary\" href=\"#ehs/incidents/summary\" on:click=\"{ () => {nav('summary')}}\" class=\"menu-icon\"><i class='i-summary i-24'></i></a>\n        <a title=\"Incident Admin\" href=\"#ehs/incidents/incidents_admin\" on:click=\"{ () => {nav('incidents_admin')}}\" class=\"menu-icon selected\"><i class='i-tool i-24'></i></a>\n        <a title=\"Query\" href=\"#ehs/incidents/queries_new\" on:click=\"{ () => {nav('queries_new')}}\" class=\"menu-icon\"><i class='i-filter i-24'></i></a>\n        <a title=\"New Incident\" href=\"#ehs/incidents/incidents_new\" on:click=\"{ () => {nav('incidents_new')}}\" class='btn'>New</a>\n    </div>\n    -->\n    <!--\n    <div class=\"col12 col-sm-7 text-right\">\n        <a href=\"#ehs/incidents/\" on:click=\"{ () => {nav('incidents')}}\" class=\"menu-icon\"><i class='i-dashboard i-24'></i></a>\n        <a href=\"#ehs/incidents/summary\" on:click=\"{ () => {nav('summary')}}\" class=\"menu-icon\"><i class='i-summary i-24'></i></a>\n        <a href=\"#ehs/incidents/admin\" on:click=\"{ () => {nav('admin')}}\" class=\"menu-icon\"><i class='i-tool i-24'></i></a>\n    \n        <a href=\"/\" class=\"btn\">Add QR Code</a>\n    </div>\n    -->\n</div>\n\n\n<h1 class=\"page-title\"><i class=\"i-tool i-32\"></i>Incidents Admin</h1>\n<ul class=\"tabs\">\n    <li><a href=\"#ehs/incidents/overview\" class:active=\"{tab == 'overview'}\" on:click =\"{ () => { tab = 'overview';}}\">Overview</a></li>\n    <li><a href=\"#ehs/incidents/queries_new\" class:active=\"{tab == 'query'}\" on:click =\"{ () => { tab = 'queries_new';}}\">Query</a></li>\n    <li><a href=\"#ehs/incidents/summary\" class:active=\"{tab == 'summary'}\" on:click =\"{ () => { tab = 'summary'; }}\">Summary</a></li>\n    <li><a href=\"#ehs/incidents/admin\" class=\"active\" on:click =\"{ () => { tab = 'admin'; }}\">Admin</a></li>\n</ul>\n\n<!--\n<ul class=\"tabs\">\n    <li><a href=\"#ehs/incidents/incidents_admin/qrcodes\" class:active=\"{tab == 'qrcodes'}\" on:click =\"{ () => { tab = 'qrcodes';}}\">QR codes</a></li>\n    <li><a href=\"#ehs/incidents/incidents_admin/templates\" class:active=\"{tab == 'templates'}\" on:click =\"{ () => { tab = 'templates'; }}\">Templates</a></li>\n    <li><a href=\"#ehs/incidents/incidents_admin/lists\" class:active=\"{tab == 'lists'}\" on:click =\"{ () => { tab = 'lists'; }}\">Response Lists</a></li>\n</ul>-->\n{#if tab == 'qrcodes'}\n        \n        <!--<div class=\"col3 d960up-block\">\n            <div class=\"side_menu_wrapper\" style=\"position:sticky;top:56px\">\n               \n                \n                <h4>Admin Sections</h4>\n                <ul class=\"side_menu\">\n                    <li class:active=\"{tab == 'qrcodes'}\"><a href=\"#ehs/incidents/incidents_admin/qrcodes\" on:click=\"{ () => { tab = 'qrcodes'; }}\">QR Codes</a></li>\n                    <li class:active=\"{tab == 'templates'}\"><a href=\"#ehs/incidents/incidents_admin/templates\" on:click=\"{ () => { tab = 'templates'; }}\">Templates</a></li>\n                </ul>\n            </div>\n        </div>\n        -->\n\n    <div class=\"row\">\n        {#if new_qr}\n        <div class=\"col3 d960up-block\"></div>\n            <div class=\"col12 col-md-6\">\n                <h2 style=\"\">New Quick Report QR Code</h2>\n                <Form {f} {channel}></Form>\n                <a href=\"#\" class=\"btn mb2\" on:click|preventDefault=\"{() => { qrs = prefilled_qrs; new_qr = false}}\">Save QR code</a>\n                <a href=\"#\" class=\"btn btn-secondary mb2\" on:click|preventDefault=\"{() => { new_qr = false}}\">Cancel</a>\n            </div>\n            <div class=\"col3 d960up-block\">\n                <div style=\"position:sticky;top: 0px;\">\n                    <h2>&nbsp;</h2>\n                    <div class=\"card\">\n                        <div class=\"card-body\">\n                            <h3 style=\"font-weight:100;font-size:20px\">QR test</h3>\n                        \n                            <div class=\"text-center mb2 mt2\"><QrCode {value }/></div>\n                        </div> \n                    </div>\n                </div>\n            </div>\n        {:else}\n\n            \n            {#if qrs.length}\n                <div class=\"col12 col-9-md\">\n                    <a href=\"/\" class=\"btn btn-right mt1\" on:click|preventDefault=\"{ () => { new_qr = true} }\">Add QR Code</a>\n                    <h2 style=\"\">Quick Report QR Codes</h2>\n                    <div class=\"sticky-wrapper\">\n                        <table class=\"table\">\n                            <thead>\n                                <tr>\n                                    <th>Record ID</th>\n                                    <th>Uses</th>\n                                    <th>Created By</th>\n                                    <th>Creation Date</th>\n                                    <th>Location</th>\n                                    <th>Actions</th>\n                                    \n                                </tr>\n                            </thead>\n                            <tbody>\n                                {#each qrs as row}\n                                    <tr>\n                                        <td><svelte:component this={components.record_id} obj={row.record_id} /></td>\n                                        <td>{row.use_count}</td>\n                                        <td>{row.created_by}</td>\n                                        <td><svelte:component this={components.created_date} obj={row.created_date} /></td>\n                                        <td>{row.location ? row.location : 'Not specified'}</td>\n                                        <td>\n                                            <a href=\"#ehs/incidents/\" on:click=\"{ () => {nav('dashboard')}}\" class=\"btn-right i-trash i-24 ml2\"> </a>\n                                            <a href=\"#ehs/incidents/\" on:click=\"{ () => {nav('dashboard')}}\" class=\"btn-right i-qr i-24\"> </a>\n                                            <a href=\"#ehs/incidents/\" on:click=\"{ () => {nav('dashboard')}}\" class=\"btn-right i-edit i-24\"> </a>\n                                            <a href=\"#ehs/incidents/\" on:click=\"{ () => {nav('dashboard')}}\" class=\"btn-right i-link i-24\"> </a>\n                                        </td>\n                                    </tr>\n                                {/each}\n                            </tbody>\n                        </table>\n                        <div class=\"pagination-wrapper\"><div class=\"pagination\"> </div></div>\n                    </div>\n                </div>\n            {:else}\n                <div class=\"col3 d960up-block\"></div>\n                <div class=\"col12 col-md-6\">\n                    <h2 style=\"\">Quick Report QR Codes</h2>\n                    <div class=\"card\">\n\n                        <div class=\"card-body text-center\">\n                            <svg class=\"mt2 mb1\" width=\"128\" height=\"128\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                                <path d=\"M61.7604 16.2498C62.8904 16.6598 63.4704 17.9198 63.0604 19.0398L50.4104 53.8098C49.1704 57.2198 47.5504 60.3698 45.6104 63.2498C43.2404 62.8398 40.8704 62.2198 38.5304 61.3598C17.4404 53.6898 6.56045 30.3498 14.2404 9.2498C15.3804 6.1198 16.8704 3.2098 18.6404 0.549805L61.7604 16.2498Z\" fill=\"#D1F2FA\"/>\n                                <path d=\"M24.04 35.2401C27.86 37.4801 30.54 40.9701 31.85 44.9001L27.7 52.2201C23.29 59.9701 14.3 63.3501 6.22 60.8801C6.08 60.8301 5.96 60.7601 5.85 60.6601C2.08 57.0701 0.02 52.0701 0 46.9601L0.02 45.7001C0.02 44.8101 0.16 43.8001 0.43 42.6501C0.63 41.8001 0.91 40.9101 1.25 40.0401C6.47 32.8701 16.26 30.6701 24.04 35.2401Z\" fill=\"#EB6047\"/>\n                                <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M53.21 20.54H56.49V8.5C56.49 7.94 56.05 7.5 55.49 7.5H43.37V10.76H53.21V20.54ZM10.78 20.63H7.5V8.59C7.5 8.04 7.94 7.59 8.5 7.59H20.62V10.85H10.78V20.63ZM7.5 55.5C7.5 56.05 7.94 56.5 8.5 56.5H20.62V53.23H10.78V43.45H7.5V55.5ZM55.49 56.4C56.05 56.4 56.49 55.95 56.49 55.4V43.36H53.21V53.14H43.37V56.4H55.49ZM17.12 27.7C16.64 27.7 16.25 27.31 16.25 26.83V17.12C16.25 16.64 16.64 16.25 17.12 16.25H26.83C27.31 16.25 27.7 16.64 27.7 17.12V26.83C27.7 27.31 27.31 27.7 26.83 27.7H17.12ZM24.84 19.11H19.11V24.84H24.84V19.11ZM47.75 17.12C47.75 16.64 47.35 16.25 46.87 16.25H37.16C36.68 16.25 36.29 16.64 36.29 17.12V26.83C36.29 27.31 36.68 27.7 37.16 27.7H46.87C47.35 27.7 47.75 27.31 47.75 26.83V17.12ZM44.88 24.84H39.15V19.11H44.88V24.84ZM26.83 36.29C27.31 36.29 27.7 36.68 27.7 37.16V46.87C27.7 47.35 27.31 47.75 26.83 47.75H17.12C16.64 47.75 16.25 47.35 16.25 46.87V37.16C16.25 36.68 16.64 36.29 17.12 36.29H26.83ZM19.11 44.88H24.84V39.15H19.11V44.88ZM33.43 30.56H47.75V33.43H33.43V47.75H30.56V33.43H16.25V30.56H30.56V16.25H33.43V30.56ZM47.75 36.29H37.16C36.68 36.29 36.29 36.68 36.29 37.16V47.75H39.15V39.15H47.75V36.29ZM44.88 41.42H42.02V47.75H44.88V41.42Z\" fill=\"#1A1919\"/>\n                                </svg>\n                            <h1>Create your first QR code for rapid reporting</h1>\n                            <p>By configuring a QR code your company can make reporting incidents faster & easier.</p>\n                            <a href=\"#\" class=\"btn mt2 mb2\" on:click|preventDefault=\"{ () => { new_qr = true} }\">Add QR Code</a>\n                        </div>\n                    </div>\n                </div>\n\n            {/if}\n        {/if}\n    </div>\n    \n    {:else if tab == 'templates'}\n    <div class=\"row\">\n        <div class=\"col12\">\n        <h2>Templates</h2>\n        </div>\n    </div>\n    {:else if tab == 'lists'}\n    <div class=\"row\">\n        <div class=\"col12\">\n        <h2>Response Lists</h2> </div>\n    </div>\n{/if}\n\n\n<style>\n    .sticky-wrapper {\n        box-shadow:0 6px 10px rgba(186, 191, 195, 0.2);\n    }\n\n\n    .side_menu {\n        margin:0;\n        padding:0;\n        position:relative;\n    }\n    .side_menu li {\n        margin:0 0 8px 0;\n        padding:4px 0 4px 20px;\n        height:auto;\n        position:relative;\n    }\n    .side_menu li a {\n        display:block;\n        text-decoration:none;\n        cursor: pointer;\n    }\n    .side_menu li:before {\n        display:block;\n        content:'';\n        position:absolute;\n        left:0;\n        top:0;\n        border-radius:2px;\n        width: 4px;\n        height:100%;\n        background: var(--eo-border-reduced);\n        transition: height 0.3s linear, top 0.3s linear;\n    }\n    .side_menu li:hover:before {\n        top:10%;\n        height:80%;\n        background: var(--eo-border);\n    }\n    .side_menu li.active:before {\n        background: var(--eo-secondary-500);\n    }\n</style>\n\t\n        ","<script>\n\texport let t = {\n\t\ttitle: 'Big Number',\n\t\tdata: {\n\t\t\tcontent: '-',\n            status: 'critical'\n\t\t}\n\t}\n</script>\n\n\n<div class=\"card card-31\">\n    <div class=\"card-header\">{t.title}<a href=\"/\" class=\"i-pin i-20 btn-right\" on:click|preventDefault=\"{ () => { pin_module(t.title)}}\"> </a></div>\n    <div class=\"card-body\">\n        <div class=\"big-num {t.data.status}\">{t.data.content}</div>\n    </div>\n</div>\n\n<style>\n    .big-num { color: var(--eo-primary-500); }\n\t.big-num.critical { color: var(--eo-critical-500); }\n\t.big-num.minor { color: var(--eo-border-input); }\n\t\n</style>","<script>\n    import { createEventDispatcher } from 'svelte';\n    import PubSub from 'pubsub-js'\n\n    import Pullout from './components/Pullout.svelte';\n    import BigNumber from './components/cards/BigNumber.svelte';\n\n    import Form from './components/form/Form.svelte';\n    import RecordID from \"./components/table/RecordID.svelte\";\n    import Status from \"./components/table/Status.svelte\";\n    import Channel from \"./components/table/Channel.svelte\";\n    import DateComp from \"./components/table/Date.svelte\";\n\n\n   \n\n\tlet components = {\n\t\t\"record_id\": RecordID,\n\t\t\"status\": Status,\n\t\t\"channel\": Channel,\n\t\t\"created_date\": DateComp\n\t}\n    \n    const dispatch = createEventDispatcher();\n\n\n    let tab = \"overview\";\n    export let tabnav = '';\n\n    $: {\n        let t = tabnav;\n        if(tabnav !== '') {\n            tab = t;\n\n        }\n    }\n   \n    let columns = [\n        {\n            \"key\": \"section\",\n            \"value\": \"Common Fields\",\n            \"children\": [\n                {\n                    \"key\": \"record_id\",\n                    \"value\": \"Record ID\",\n                    \"selectable\": false,\n                    \"selected\": true,\n                    \"pii\": false,\n                    \"sortable\": true,\n                    \"sorted\": \"desc\"\n                },\n                {\n                    \"key\": \"channel\",\n                    \"value\": \"Channel\",\n                    \"selectable\": true,\n                    \"selected\": true,\n                    \"pii\": false,\n                    \"sortable\": true\n                },\n                \n                {\n                    \"key\": \"created_date\",\n                    \"value\": \"Date created on\",\n                    \"selectable\": true,\n                    \"selected\": true,\n                    \"pii\": false,\n                    \"sortable\": true,\n                    \"sortable_type\": \"date\"\n                },\n                {\n                    \"key\": \"created_by\",\n                    \"value\": \"Creator\",\n                    \"selectable\": true,\n                    \"selected\": true,\n                    \"pii\": true,\n                    \"sortable\": true\n                },\n                {\n                    \"key\": \"updated_date\",\n                    \"value\": \"Date updated on\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": false,\n                    \"sortable\": true,\n                    \"sortable_type\": \"date\"\n                },\n                {\n                    \"key\": \"updated_by\",\n                    \"value\": \"Updated by\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": true,\n                    \"sortable\": true\n                },\n                {\n                    \"key\": \"status\",\n                    \"value\": \"Status\",\n                    \"selectable\": true,\n                    \"selected\": true,\n                    \"pii\": false,\n                    \"sortable\": true\n                },\n                {\n                    \"key\": \"group\",\n                    \"value\": \"Group\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": false,\n                    \"sortable\": true\n                },\n                {\n                    \"key\": \"division\",\n                    \"value\": \"Division\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": false,\n                    \"sortable\": true\n                },\n                {\n                    \"key\": \"sector\",\n                    \"value\": \"Sector\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": false,\n                    \"sortable\": true\n                }\n            ]\n        },\n        {\n            \"key\": \"section\",\n            \"value\": \"Report Event\",\n            \"children\": [\n                {\n                    \"key\": \"site\",\n                    \"value\": \"Site\",\n                    \"selectable\": true,\n                    \"selected\": false,\n                    \"pii\": false\n                },\n                {\n                    \"key\": \"primary_event_type\",\n                    \"value\": \"Event\",\n                    \"selectable\": true,\n                    \"selected\": true,\n                    \"pii\": false\n                }\n\n                \n                \n            ]\n        }\n    ];\n    let edit_columns = [];\n    let table_settings_form = [];\n    let channel = \"TABLE\";\n    let sub = PubSub.subscribe(channel, read_answer);\n\n    function read_answer(msg, data) {\n        if(data.id == \"table_settings_multi\") { \n            edit_columns = data.options;\n        }\n    }\n    function save_table_settings() {\n        columns = edit_columns;\n        table_settings_form[0].options = edit_columns;\n        table_cancel();\n        /*\n        table_settings_form.options = columns;\n        table_settings_form = table_settings_form;\n        */\n    }\n\n    let selected_columns = [];\n\n    $: {\n        let temp_sel = {};\n        let c = columns;\n        c.forEach( (group) => {\n            group.children.forEach( (col) => {\n                if(col.selected == true) {\n                    temp_sel[col.key] = col;\n                }\n            });\n        })\n        selected_columns = temp_sel;\n    }\n    \n    let table_data = [\n        { \n            \"created_date\": \"2022-01-22T13:08:10.430Z\",\n            \"created_by\": \"Mike Wazowski\",\n            \"updated_date\": \"2022-01-24T3:48:19.430Z\",\n            \"updated_by\": \"Mike Wazowski\",\n            \"group\": \"Ireland\",\n            \"division\": \"Cork\",\n            \"sector\": \"Plumbing\",\n            \"record_id\": 485,\n            \"channel\": \"rapid\",\n            \"primary_event_type\": \"Near miss\",\n            \"date_time\": \"2022-01-24T03:48:19.430Z\",\n            \"time_relative\": \"9hr 42min\",\n            \"location\": \"Main Office\",\n            \"custom_field_shift\": \"Yellow Shift\",\n            \"open_actions\": 0,\n            \"total_actions\": 2,\n            \"open_total_actions\": \"0/2\",\n            \"status\": \"in_progress\"\n        },\n        { \n            \"created_date\": \"2022-01-22T03:48:19.430Z\",\n            \"created_by\": \"James P Sullivan\",\n            \"updated_date\": \"2022-01-24T3:48:19.430Z\",\n            \"updated_by\": \"Fungus\",\n            \"group\": \"Ireland\",\n            \"division\": \"Cork\",\n            \"sector\": \"Plumbing\",\n            \"record_id\": 484,\n            \"channel\": \"eco\",\n            \"primary_event_type\": \"Accident\",\n            \"date_time\": \"2022-01-24T3:48:19.430Z\",\n            \"time_relative\": \"9hr 42min\",\n            \"location\": \"Main Office\",\n            \"custom_field_shift\": \"Red Shift\",\n            \"open_actions\": 0,\n            \"total_actions\": 2,\n            \"open_total_actions\": \"0/2\",\n            \"status\": \"awaiting_triage\"\n        },\n        { \n            \"created_date\": \"2022-01-22T18:56:19.430Z\",\n            \"created_by\": \"Boo\",\n            \"updated_date\": \"2022-01-24T3:48:19.430Z\",\n            \"updated_by\": \"Fungus\",\n            \"group\": \"Ireland\",\n            \"division\": \"Cork\",\n            \"sector\": \"Plumbing\",\n            \"record_id\": 486,\n            \"channel\": \"rapid\",\n            \"primary_event_type\": \"Accident\",\n            \"date_time\": \"2022-01-24T3:48:19.430Z\",\n            \"time_relative\": \"9hr 42min\",\n            \"location\": \"Main Office\",\n            \"custom_field_shift\": \"Blue Shift\",\n            \"open_actions\": 0,\n            \"total_actions\": 2,\n            \"open_total_actions\": \"0/2\",\n            \"status\": \"awaiting_investigation\"\n        }\n    ]\n    \n    function sort_table(th) {\n\n        if(!th.sortable) {\n            console.log('cant sort this column');\n            return false;\n        }\n        \n        let new_sort_dir = th.sorted == 'desc' ? 'asc' : 'desc';\n        let new_sort_key = th.key;\n        //remove old key\n        let c = selected_columns[sort_key];\n        if(c) {\n            delete c.sorted;\n        }\n        //update new\n        th.sorted = new_sort_dir;\n        sort_dir = new_sort_dir;\n        sort_key = new_sort_key;\n        columns = columns;\n    }\n\n    let sort_key = 'record_id';\n    let sort_dir = 'desc';\n\n    $:table_data_sorted = table_data.sort((a, b) => {\n        \n        let A = (a[sort_key] + '').toLowerCase();\n        let B = (b[sort_key] + '').toLowerCase();\n\n        if(sort_dir == 'desc') {\n            return A<B ? 1 : -1;\n        } else {\n            return A>B ? 1 : -1;\n        }\n\n       \n\n    })\n\n    let table_drawer = false;\n    \n    $: {\n        let s = table_drawer;\n        if(s) {\n            table_settings_form = [\n                {\n                    item_type: \"input_multi\",\n                    id: \"table_settings_multi\",\n                    label: \"Columns to show\",\n                    hint: \"All users will see these changes. Any that contain personally identifiable information will be redacted if the user doesn't have permission.\",\n                    max_warning: {\n                        value: 10,\n                        message: 'If you have too many columns this page may become unresponsive for all users. You can always pin this table to your own dashboard to customize further.'\n                    },\n                    options: JSON.parse(JSON.stringify(columns)),\n                    answer: \"\"\n                }\n            ];\n        }\n    }\n    function table_cancel() {\n        table_drawer = false;\n    }\n\n\n\n    \n\n    function nav(str) {\n\t\tdispatch('nav', {\n\t\t\ttext: str\n\t\t});\n\t}\n\n    let pin_title = 'Pin module';\n    let pin_drawer = false;\n    let pin_form = [\n        {\n            item_type: \"input_select\",\n            id: \"pin_module_dashboard\",\n            label: \"Select a dashboard to pin it to\",\n            options: [\n                { \"value\": 1, \"text\": \"Dashboard 1\"},\n                { \"value\": 2, \"text\": \"Dashboard 2\"},\n                { \"value\": 3, \"text\": \"Dashboard 3\"},\n                { \"value\": 4, \"text\": \"Dashboard 4\"},\n                { \"value\": 5, \"text\": \"Dashboard 5\"}\n            ],\n            answer: \"\"\n        },\n        {\n            item_type: \"input_checkbox\",\n            id: \"pin_module_navigate\",\n            options: [\n                { \"value\": false, \"text\": \"Open the dashboard after you pin it?\"}\n            ],\n            answer: \"\"\n        }\n    ]\n    function pin_module(title) {\n        pin_title = \"Pin \" + title;\n        pin_drawer = true;\n    }\n    function pin_save() {\n        pin_drawer = false;\n        if(pin_form[1].options[0].value) {\n            alert('Pinned');\n            window.location.hash = \"#ehs/dashboards\";\n        } else {\n            alert('Pinned')\n        }\n    }\n    function pin_cancel() {\n        pin_drawer = false;\n    }\n\n\n</script>\n\n<div class=\"row sticky\">\n    <div class=\"col12 col-sm-5\">\n        <ul class=\"breadcrumb\">\n            <li><a href=\"#platform\" on:click=\"{ () => {nav('platform')}}\">EcoOnline</a></li>\n            <li><a href=\"#ehs\" on:click=\"{ () => {nav('ehs')}}\">EHS</a></li>\n            <li>Hazard Assessments</li>\n        </ul>\n    </div>\n    <div class=\"col12 col-sm-7 text-right\">\n       <!--<a href=\"/\" class='btn btn-secondary'>Summary</a>-->\n        <a href=\"#ehs/incidents/queries_new\" on:click=\"{ () => {nav('queries_new')}}\" class='btn btn-secondary'>Query</a>\n        <a href=\"#ehs/incidents/incidents_new\" on:click=\"{ () => {nav('incidents_new')}}\" class='btn'>New</a>\n    </div>\n</div>\n\n\n<h1 class=\"page-title\"><i class=\"i-hazard-assessments i-32\"></i>Hazard Assessments</h1>\n\n<ul class=\"tabs\">\n    <li><a href=\"#ehs/incidents/overview\" class:active=\"{tab == 'overview'}\" on:click =\"{ () => { tab = 'dashboard';}}\">Overview</a></li>\n    <li><a href=\"#ehs/incidents/admin\" class:active=\"{tab == 'admin'}\" on:click =\"{ () => { tab = 'admin'; }}\">Admin</a></li>\n    <!--<li><a href=\"/\" class:active=\"{tab == 'query'}\" on:click|preventDefault =\"{ () => { tab = 'query';}}\">Query</a></li>-->\n</ul>\n{#if tab == 'overview'}\n    <div class=\"row\">\n        <div class=\"col12 col-md-6\">\n            <div class=\"row\">\n                <div class=\"col6\">\n\n                    <BigNumber t={\n                        {\"title\": \"Open Assessments\",\n                        \"data\": {\n                            \"content\": \"40\",\n                            \"status\": \"xx\"\n                        }\n                    }}></BigNumber>\n                </div>\n                <div class=\"col6\">\n                    <BigNumber t={\n                        {\"title\": \"Awaiting Signoff\",\n                        \"data\": {\n                            \"content\": \"11\",\n                            \"status\": \"minor\"\n                        }\n                    }}></BigNumber>\n                </div>\n                <div class=\"col6\">\n                    <BigNumber t={\n                        {\"title\": \"Awaiting Completion\",\n                        \"data\": {\n                            \"content\": \"3\",\n                            \"status\": \"minor\"\n                        }\n                    }}></BigNumber>\n                </div>\n                <div class=\"col6\">\n                    <BigNumber t={\n                        {\"title\": \"Review Due Within 7 Days\",\n                        \"data\": {\n                            \"content\": \"1\",\n                            \"status\": \"critical\"\n                        }\n                    }}></BigNumber>\n                </div>\n            </div>\n\n        </div>\n        <div class=\"col12 col-md-6\">\n            <div class=\"card card-32\">\n                <div class=\"card-header\">Hazard Assessments by Site/Status<a href=\"/\" class=\"i-pin i-20 btn-right\" on:click|preventDefault=\"{ () => { pin_module('Events by Type')}}\"> </a></div>\n                <div class=\"card-body\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" xlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\"  class=\"demo_graph\" viewBox=\"0 0 428 210\" width=\"90%\"  display=\"block\">\n                        \n                        <!-- horizontal grid lines -->\n                        <path class=\"grid_lines\" d=\"M 35 162 L 407 162 M 35 138 L 407 138 M 35 114 L 407 114 M 35 91 L 407 91 M 35 67 L 407 67 M 35 43 L 407 43 M 35 19 L 407 19\"></path>\n                        \n                        <rect class=\"leg1\" x=39 y=150 width=44 height=12 />\n                        <rect class=\"leg1\" x=92 y=90 width=44 height=72 />\n                        <rect class=\"leg1\" x=145 y=126 width=44 height=36 />\n                        <rect class=\"leg1\" x=198 y=126 width=44 height=36 />\n                        <rect class=\"leg1\" x=251 y=102 width=44 height=60 />\n                        <rect class=\"leg1\" x=304 y=114 width=44 height=48 />\n                        <rect class=\"leg1\" x=357 y=126 width=44 height=36 />\n\n\n                        <rect class=\"leg2\" x=39 y=126 width=44 height=24 />\n                        <rect class=\"leg2\" x=92 y=78 width=44 height=12 />\n                        <rect class=\"leg2\" x=145 y=114 width=44 height=12 />\n                        <rect class=\"leg2\" x=198 y=126 width=44 height=0 />\n                        <rect class=\"leg2\" x=251 y=66 width=44 height=36 />\n                        <rect class=\"leg2\" x=304 y=102 width=44 height=12 />\n                        <rect class=\"leg2\" x=357 y=126 width=44 height=0 />\n\n                        <rect class=\"leg3\" x=39 y=126 width=44 height=0 />\n                        <rect class=\"leg3\" x=92 y=66 width=44 height=12 />\n                        <rect class=\"leg3\" x=145 y=102 width=44 height=12 />\n                        <rect class=\"leg3\" x=198 y=126 width=44 height=0 />\n                        <rect class=\"leg3\" x=251 y=54 width=44 height=12 />\n                        <rect class=\"leg3\" x=304 y=90 width=44 height=12 />\n                        <rect class=\"leg3\" x=357 y=78 width=44 height=48 />\n\n                        <rect class=\"leg4\" x=39 y=90 width=44 height=36 />\n                        <rect class=\"leg4\" x=92 y=66 width=44 height=0 />\n                        <rect class=\"leg4\" x=145 y=102 width=44 height=0 />\n                        <rect class=\"leg4\" x=198 y=126 width=44 height=0 />\n                        <rect class=\"leg4\" x=251 y=30 width=44 height=24 />\n                        <rect class=\"leg4\" x=304 y=78 width=44 height=12 />\n                        <rect class=\"leg4\" x=357 y=78 width=44 height=0 />\n\n\n                        <rect class=\"leg5\" x=251 y=18 width=44 height=12/>\n\n                        <!--\n\n\n                        <rect class=\"leg2\" x=39 y=138 width=29 height=12 />\n                        <rect class=\"leg2\" x=76 y=114 width=29 height=24 />\n                        <rect class=\"leg2\" x=151 y=150 width=29 height=12 />\n                        <rect class=\"leg2\" x=225 y=138 width=29 height=12 />\n                        <rect class=\"leg2\" x=262 y=126 width=29 height=24 />\n                        <rect class=\"leg2\" x=374 y=114 width=29 height=12 />\n                                        \n                        \n                        <rect class=\"leg3\" x=76 y=55 width=29 height=60 />\n                        <rect class=\"leg3\" x=113 y=138 width=29 height=24 />\n                        <rect class=\"leg3\" x=188 y=138 width=29 height=24 />\n                        \n                        <rect class=\"leg4\" x=262 y=114 width=29 height=12 />\n                        <rect class=\"leg4\" x=374 y=102 width=29 height=12 />\n                                       \n                        <rect class=\"leg5\" x=76 y=31 width=29 height=24 />\n                        -->\n                                        \n                        <!-- X axis with ticks -->\n                        <path class=\"axis\" d=\"M 34 162 L 408 162 \n                            M 35 162 L 35 167 \n                            M 88 162 L 88 167 \n                            M 141 162 L 141 167 \n                            M 194 162 L 194 167 \n                            M 247 162 L 247 167 \n                            M 300 162 L 300 167 \n                            M 353 162 L 353 167 \n                            M 407 162 L 407 167\" ></path>\n                        <!-- Y axis with ticks -->\n                        <path class=\"axis\" d=\"M 35 162 L 35 19 M 35 162 L 30 162 M 35 138 L 30 138 M 35 114 L 30 114 M 35 91 L 30 91 M 35 67 L 30 67 M 35 43 L 30 43 M 35 19 L 30 19\"></path>\n\n                        <text><tspan text-anchor=\"middle\" x=\"61\" y=\"180\" dy=\"0\">Amox</tspan><tspan text-anchor=\"middle\" x=\"61\" y=\"180\" dy=\"12.5\">Distribution</tspan><tspan text-anchor=\"middle\" x=\"61\" y=\"180\" dy=\"25\">Hub</tspan></text>\n                        <text><tspan text-anchor=\"middle\" x=\"114\" y=\"180\" dy=\"0\">Dublin</tspan><tspan text-anchor=\"middle\" x=\"114\" y=\"180\" dy=\"12.5\">Office</tspan></text>\n                        <text><tspan text-anchor=\"middle\" x=\"167\" y=\"180\" dy=\"0\">Golbrews</tspan><tspan text-anchor=\"middle\" x=\"167\" y=\"180\" dy=\"12.5\">South</tspan></text>\n                        <text><tspan text-anchor=\"middle\" x=\"220\" y=\"180\" dy=\"0\">Ama</tspan><tspan text-anchor=\"middle\" x=\"220\" y=\"180\" dy=\"12.5\">Systems</tspan></text>\n                        <text><tspan text-anchor=\"middle\" x=\"273\" y=\"180\" dy=\"0\">Crysalnite</tspan><tspan text-anchor=\"middle\" x=\"273\" y=\"180\" dy=\"12.5\">Facility</tspan></text>\n                        <text><tspan text-anchor=\"middle\" x=\"326\" y=\"180\" dy=\"0\">Floatbed</tspan><tspan text-anchor=\"middle\" x=\"326\" y=\"180\" dy=\"12.5\">Plant</tspan></text>\n                        <text><tspan text-anchor=\"middle\" x=\"379\" y=\"180\" dy=\"0\">Factory</tspan><tspan text-anchor=\"middle\" x=\"379\" y=\"180\" dy=\"12.5\">Line 2</tspan></text>\n                        \n\n                        <text x=\"21.41\" y=\"155.2\"><tspan x=\"21.41\" y=\"167.2\" dy=\"0\">0</tspan></text>\n                        <text x=\"13.81\" y=\"12.2\"><tspan x=\"13.81\" y=\"24.2\" dy=\"0\">12</tspan></text>\n                        <text x=\"21.41\" y=\"131.37\"><tspan x=\"21.41\" y=\"143.37\" dy=\"0\">2</tspan></text>\n                        <text x=\"21.41\" y=\"107.54\"><tspan x=\"21.41\" y=\"119.54\" dy=\"0\">4</tspan></text>\n                        <text x=\"21.41\" y=\"83.7\"><tspan x=\"21.41\" y=\"95.7\" dy=\"0\">6</tspan></text>\n                        <text x=\"21.41\" y=\"59.87\"><tspan x=\"21.41\" y=\"71.87\" dy=\"0\">8</tspan></text>\n                        <text x=\"13.81\" y=\"36.04\"><tspan x=\"13.81\" y=\"48.04\" dy=\"0\">10</tspan></text>\n                        \n                    </svg>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n    <div class=\"row\">\n        <div class=\"col12\">\n            <h4 style=\"\">Latest Hazard Assessments\n                <a href=\"/\" class=\"i-pin i-20 btn-right\" on:click|preventDefault=\"{ () => { pin_module('Latest Events')}}\"> </a>\n                <a href=\"/\" class=\"i-settings i-20 btn-right\"  on:click|preventDefault=\"{ () => { table_drawer=true;}}\"> </a>\n            </h4>\n            <div class=\"sticky-wrapper\">\n                <table class=\"table\">\n                    <thead>\n                        <tr>\n                            {#each Object.entries(selected_columns) as [k, th]}\n                                <th on:click=\"{ () => { sort_table(th)}}\"class:sortable=\"{th.sortable}\" class:asc=\"{th.sorted == 'asc'}\" class:desc=\"{th.sorted == 'desc'}\">{th.value}</th>\n                            {/each}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {#each table_data_sorted as row}\n                            <tr>\n                                {#each Object.entries(selected_columns) as [k, th]}\n                                    <td>\n                                        {#if components[th.key]}\n                                            <svelte:component this={components[th.key]} obj={row[th.key]} />\n                                        {:else}\n                                            {row[th.key]}\n                                        {/if}\n                                    </td>\n                                {/each}\n                            </tr>\n                        {/each}\n                        <!--\n                        <tr>\n                            <td><b>485</b></td>\n                            <td>Full Report</td>\n                            <td>[]</td>\n                            <td>Near Miss</td>\n                            <td>9hr 4min</td>\n                            <td>Main Office</td>\n                            <td>Yellow</td>\n                            <td>0</td>\n                            <td>In Progress</td>\n                        </tr>\n                        -->\n                    </tbody>\n                </table>\n                <div class=\"pagination-wrapper\"><div class=\"pagination\"> </div></div>\n            </div>\n        </div>\n        \n    </div>\n {:else if tab == 'summary'}\n    <h2>Summary</h2>\n{/if}\n\n\n<Pullout show_drawer={table_drawer} title=\"Table settings\" on:close={table_cancel}>\n    <Form f={table_settings_form} {channel}></Form>\n    <div class=\"form-item\">\n        <span class=\"btn\" on:click=\"{save_table_settings}\">Save</span>\n        <span class=\"btn btn-secondary\" on:click=\"{table_cancel}\">Cancel</span>\n    </div>\n</Pullout>\n\n<Pullout show_drawer={pin_drawer} title={pin_title} on:close={pin_cancel}>\n    <Form f={pin_form}></Form>\n    <span class=\"btn\" on:click=\"{pin_save}\">Pin</span>\n    <!--<span class=\"btn btn-secondary\" on:click=\"{pin_cancel}\">Pin and Open Dashboard</span>-->\n    <span class=\"btn btn-secondary\" on:click=\"{pin_cancel}\">Cancel</span>\n</Pullout>\n\n<style>\n    .sticky-wrapper {\n        box-shadow:0 6px 10px rgba(186, 191, 195, 0.2);\n    }\n\n\n    .demo_graph .axis {\n        fill: none;\n        stroke-linecap:butt;\n        stroke-linejoin: round;\n        stroke: var(--eo-border);\n        stroke-width:1;\n        stroke-opacity:1;\n    }\n    .demo_graph .grid_lines {\n        fill: none;\n        stroke-linecap:butt;\n        stroke-linejoin: round;\n        stroke: var(--eo-border-reduced);\n        stroke-width:1;\n        stroke-opacity:1;\n    }\n    .demo_graph text {\n        font-size:10px;\n    }\n    .demo_graph rect { \n        opacity:0.9;\n        transition: opacity 0.5s linear;\n    }\n    .demo_graph .leg1 { fill: #404387; }\n    .demo_graph .leg2 { fill: #29788E; }\n    .demo_graph .leg3 { fill: #22A784; }\n    .demo_graph .leg4 { fill: #79D151; }\n    .demo_graph .leg5 { fill: #FDE724; }\n\n    .demo_graph rect:hover { cursor:pointer;opacity:1 ! important }\n    .demo_graph:hover rect {opacity:0.5}\n\n\n\n</style>\n\t\n        ","<script>\n    import { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n\n\n    let tab = \"dashboard\";\n\n    function nav(str) {\n\t\tdispatch('nav', {\n\t\t\ttext: str\n\t\t});\n\t}\n</script>\n\n<div class=\"row sticky\">\n    <div class=\"col12 col-sm-7\">\n        <ul class=\"breadcrumb\">\n            <li><a href=\"#platform\">EcoOnline</a></li>\n            <li><a href=\"#ehs\">EHS</a></li>\n            <li><a href=\"#ehs/incidents\">Incidents</a></li>\n            <li>New Query</li>\n        </ul>\n    </div>\n    <div class=\"col12 col-sm-5 text-right\">\n        <a href=\"#ehs/incidents/queries_result\" class='btn'>Run</a>\n    </div>\n</div>\n<h1 class=\"page-title\"><i class=\"i-filter i-32\"></i> New query</h1>\n<ul class=\"tabs\">\n    <li><a href=\"#ehs/incidents\">Overview</a></li>\n    <li><a href=\"#ehs/incidents/queries_new\" class=\"active\">Query</a></li>\n    <li><a href=\"#ehs/incidents/summary\">Summary</a></li>\n    <li><a href=\"#ehs/incidents/incidents_admin\">Admin</a></li>\n</ul>\n<div class=\"row\">\n    <div class=\"col12 col-md-3\">\n        <div class=\"card\">\n            <div class=\"card-header\">\n                <h2>Add a filter</h2>\n            </div>\n        </div>\n    </div>\n    <div class=\"col12 col-md-9\">\n        <div class=\"card\">\n            <div class=\"card-header\">\n                <h2>Query filters</h2>\n            </div>\n        </div>\n    </div>\n</div>\n\n\t\n        ","<script>\n    import { createEventDispatcher } from 'svelte';\n    const dispatch = createEventDispatcher();\n\n\n    let tab = \"dashboard\";\n\n    function nav(str) {\n\t\tdispatch('nav', {\n\t\t\ttext: str\n\t\t});\n\t}\n</script>\n\n<div class=\"row sticky\">\n    <div class=\"col12 col-md-5\">\n        <ul class=\"breadcrumb\">\n            <li><a href=\"#platform\">EcoOnline</a></li>\n            <li><a href=\"#ehs\">EHS</a></li>\n            <li><a href=\"#ehs/incidents\">Incidents</a></li>\n            <li>Query Result</li>\n        </ul>\n    </div>\n    <div class=\"col12 col-md-7 text-right\">\n        <a title=\"Edit this query\" class=\"i-edit i-24\" href=\"#ehs/incidents/queries_new\" on:click=\"{ () => {nav('queries_new')}}\"> </a>\n        <i title=\"Download these results\" class=\"i-download i-24\"></i>\n        <a href=\"#ehs/incidents/queries_new\" class='btn btn-secondary' on:click=\"{ () => {nav('queries_new')}}\">New query</a>\n        <a href=\"/\" class='btn btn-secondary'>Add to dashboard</a>\n        <a href=\"/\" class='btn'>Save</a>\n    </div>\n</div>\n<h1 class=\"page-title\"><i class=\"i-filter i-32\"></i> Query results</h1>\n\n<div class=\"row\">\n    <div class=\"col12\">\n        <div class=\"sticky-wrapper\">\n            <table class=\"table\">\n                <thead>\n                    <tr>\n                        <th>Record ID</th>\n                        <th>Report Type</th>\n                        <th>Source</th>\n                        <th>Event Type</th>\n                        <th>When</th>\n                        <th>Location</th>\n                        <th>Shift</th>\n                        <th>Open Actions</th>\n                        <th>Status</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td><b>485</b></td>\n                        <td>Full Report</td>\n                        <td>[]</td>\n                        <td>Near Miss</td>\n                        <td>9hr 4min</td>\n                        <td>Main Office</td>\n                        <td>Yellow</td>\n                        <td>0</td>\n                        <td>In Progress</td>\n                    </tr>\n                    \n                </tbody>\n            </table>\n            <div class=\"pagination-wrapper\"><div class=\"pagination\"> </div></div>\n        </div>\n    </div>\n</div>\n\n\t\n        ","<script>\n\n\t/*\n\t\ta responsive frame to hold smaller experiments so that they don't have to be continually framed,\n\t*/\n\n\timport Platform from \"./Frame_platform.svelte\";\n\timport Home from \"./Frame_home.svelte\";\n\timport AdminLinkedFields from \"./Frame_administration_linkedfields.svelte\";\n\timport Incidents from \"./Frame_incidents.svelte\";\n\timport IncidentsNew from \"./Frame_incidents_new.svelte\";\n\timport IncidentsAdmin from \"./Frame_incidents_admin.svelte\";\n\timport HazardAssessments from \"./Frame_hazard_assessments.svelte\";\n\timport QueriesNew from \"./Frame_queries_new.svelte\";\n\timport QueriesResult from \"./Frame_queries_result.svelte\";\n\t\n\tlet tabnav = '';\n\n    const comps = {\n        \"platform\": Platform,\n        \"ehs\": Home,\n        \"linkedfields\": AdminLinkedFields,\n        \"incidents\": Incidents,\n        \"incidents_new\": IncidentsNew,\n        \"incidents_admin\": IncidentsAdmin,\n        \"queries_new\": QueriesNew,\n        \"queries_result\": QueriesResult,\n        \"hazard_assessments\": HazardAssessments\n\t}\n    let comp = comps.ehs;\n\tlet hash = window.location.hash.substring(1);\n\tif(hash!== '') {\n\t\thandleNavStr(hash);\n\t}\n\n\n   let grid = false;\n\n   function handleHash() {\n\t\tlet hash = window.location.hash.substring(1);\n\t\tif(hash !== '') {\n\t\t\thandleNavStr(hash);\n\t\t}\n   }\n\n   function handleNavStr(hash) {\n\t\ttabnav = '';\n\t\tconsole.log('nav hash', hash);\n\t\tlet hash_arr = hash.split('/');\n\t\tlet id = hash_arr[hash_arr.length-1];\n\t\t\n\t\tif (comps[id]) {\n\t\t\tcomp = comps[id];\n\t\t\treturn;\n\t\t} else {\n\t\t\ttabnav = id;\n\t\t\tid = hash_arr[hash_arr.length-2];\n\t\t\tif (comps[id]) {\n\t\t\t\tcomp = comps[id];\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tcomp = comps.ehs; //default to first\n\n   }\n\n   function handleNav(event) {\n\t\tlet hash = event.detail.text;\n\t\thandleNavStr(hash);\n\t}\n\n    let bodyScroll = 0;\n    let bodyHeight = 0;\n    function handleScroll(event) {\n        /* throttle this */\n        bodyScroll = event.target.scrollTop;\n        bodyHeight = event.target.offsetHeight;\n    }\n</script>\n{#if grid}\n<div class=\"grid\"><div class=\"frame\"></div></div>\n{/if}\n\n<svelte:window on:hashchange={handleHash}/>\n\n<nav>\n\n\t<div class=\"frame\">\n\n\t\t<svg width=\"129\" height=\"33\" viewBox=\"0 0 129 33\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" on:click=\"{ () => { grid = !grid; return false;}}\" >\n\t\t\t<path d=\"M16.202 11.0018L16.792 9.6818C17.232 8.7118 18.202 8.0918 19.262 8.0918C19.982 8.0918 20.662 8.3718 21.172 8.8818L21.872 9.5818C20.632 10.2618 19.792 11.5818 19.792 13.0918V14.9718C19.792 18.3318 17.402 21.2218 14.102 21.8518L7.20199 23.1718C6.85199 23.2418 6.57199 23.4818 6.45199 23.8118C6.33199 24.1418 6.39199 24.5118 6.61199 24.7818C10.482 29.5718 16.302 31.0118 16.552 31.0718C16.632 31.0818 16.712 31.0918 16.792 31.0918C16.872 31.0918 16.952 31.0818 17.022 31.0618C17.162 31.0318 30.292 27.7318 30.292 15.0918V3.0918C30.292 1.9918 29.392 1.0918 28.292 1.0918H5.29199C4.19199 1.0918 3.29199 1.9918 3.29199 3.0918V18.3518L5.29199 16.3518V3.0918H28.292V15.0918C28.292 25.3918 18.512 28.5818 16.792 29.0518C15.852 28.7818 12.252 27.6018 9.34199 24.7918L14.482 23.8118C18.722 23.0018 21.792 19.2818 21.792 14.9718V13.0918C21.792 11.9918 22.692 11.0918 23.792 11.0918H24.642C25.222 11.0918 25.512 10.3918 25.102 9.9818L22.592 7.4718C21.702 6.5818 20.522 6.0918 19.262 6.0918C17.412 6.0918 15.732 7.1818 14.972 8.8618L14.452 10.0118L0.291992 24.1818V27.0118L16.002 11.3018C16.092 11.2118 16.152 11.1118 16.202 11.0018Z\" fill=\"black\"/>\n\t\t\t<path d=\"M39.292 22.0918V8.0918H48.252V10.1018H41.552V13.9918H47.632V16.0018H41.552V20.0918H48.252V22.0918H39.292Z\" fill=\"black\"/>\n\t\t\t<path d=\"M54.6821 22.3318C53.9321 22.3318 53.2621 22.2018 52.6721 21.9518C52.0821 21.7018 51.5922 21.3318 51.1922 20.8618C50.7922 20.3918 50.4821 19.8118 50.2721 19.1418C50.0621 18.4718 49.9521 17.7118 49.9521 16.8818C49.9521 16.0518 50.0621 15.3018 50.2721 14.6218C50.4821 13.9518 50.7922 13.3718 51.1922 12.9018C51.5922 12.4318 52.0921 12.0618 52.6721 11.8118C53.2621 11.5618 53.9321 11.4318 54.6821 11.4318C55.7221 11.4318 56.5821 11.6618 57.2521 12.1318C57.9221 12.6018 58.4121 13.2218 58.7121 14.0018L56.9121 14.8418C56.7621 14.3618 56.5121 13.9718 56.1421 13.6918C55.7721 13.4018 55.2922 13.2618 54.6922 13.2618C53.8922 13.2618 53.2822 13.5118 52.8722 14.0118C52.4622 14.5118 52.2621 15.1618 52.2621 15.9618V17.8218C52.2621 18.6218 52.4622 19.2718 52.8722 19.7718C53.2822 20.2718 53.8822 20.5218 54.6922 20.5218C55.3321 20.5218 55.8421 20.3618 56.2221 20.0518C56.6021 19.7418 56.9021 19.3218 57.1321 18.8018L58.7921 19.6818C58.4421 20.5418 57.9221 21.2018 57.2321 21.6618C56.5321 22.1018 55.6821 22.3318 54.6821 22.3318Z\" fill=\"black\"/>\n\t\t\t<path d=\"M64.8518 22.3318C64.1318 22.3318 63.4718 22.2018 62.8818 21.9518C62.2818 21.7018 61.7818 21.3318 61.3718 20.8618C60.9518 20.3918 60.6318 19.8118 60.4118 19.1418C60.1818 18.4718 60.0718 17.7118 60.0718 16.8818C60.0718 16.0518 60.1818 15.3018 60.4118 14.6218C60.6418 13.9518 60.9618 13.3718 61.3718 12.9018C61.7818 12.4318 62.2918 12.0618 62.8818 11.8118C63.4718 11.5618 64.1318 11.4318 64.8518 11.4318C65.5718 11.4318 66.2318 11.5618 66.8318 11.8118C67.4218 12.0618 67.9318 12.4318 68.3418 12.9018C68.7518 13.3718 69.0818 13.9518 69.3018 14.6218C69.5318 15.3018 69.6418 16.0518 69.6418 16.8818C69.6418 17.7118 69.5318 18.4618 69.3018 19.1418C69.0718 19.8218 68.7518 20.3918 68.3418 20.8618C67.9318 21.3318 67.4218 21.7018 66.8318 21.9518C66.2318 22.2018 65.5718 22.3318 64.8518 22.3318ZM64.8518 20.5018C65.6018 20.5018 66.2018 20.2718 66.6618 19.8118C67.1118 19.3518 67.3418 18.6618 67.3418 17.7518V15.9918C67.3418 15.0718 67.1118 14.3918 66.6618 13.9318C66.2018 13.4718 65.6018 13.2418 64.8518 13.2418C64.1018 13.2418 63.5018 13.4718 63.0518 13.9318C62.6018 14.3918 62.3718 15.0818 62.3718 15.9918V17.7518C62.3718 18.6718 62.6018 19.3518 63.0518 19.8118C63.5018 20.2718 64.1018 20.5018 64.8518 20.5018Z\" fill=\"black\"/>\n\t\t\t<path d=\"M77.832 22.3318C76.922 22.3318 76.092 22.1718 75.352 21.8618C74.612 21.5518 73.972 21.0918 73.442 20.4818C72.912 19.8718 72.502 19.1218 72.222 18.2118C71.932 17.3118 71.792 16.2718 71.792 15.0918C71.792 13.9118 71.932 12.8718 72.222 11.9718C72.512 11.0718 72.912 10.3118 73.442 9.70181C73.972 9.09181 74.602 8.63181 75.352 8.32181C76.092 8.01181 76.922 7.85181 77.832 7.85181C78.742 7.85181 79.562 8.01181 80.312 8.32181C81.052 8.63181 81.692 9.10181 82.222 9.70181C82.752 10.3118 83.162 11.0618 83.442 11.9718C83.732 12.8718 83.872 13.9118 83.872 15.0918C83.872 16.2718 83.732 17.3118 83.442 18.2118C83.152 19.1118 82.742 19.8718 82.222 20.4818C81.692 21.0918 81.062 21.5518 80.312 21.8618C79.562 22.1718 78.742 22.3318 77.832 22.3318ZM77.832 20.3218C78.362 20.3218 78.862 20.2318 79.302 20.0418C79.752 19.8518 80.132 19.5818 80.442 19.2218C80.752 18.8618 81.002 18.4318 81.172 17.9218C81.342 17.4118 81.432 16.8318 81.432 16.1918V13.9818C81.432 13.3418 81.342 12.7618 81.172 12.2518C81.002 11.7418 80.752 11.3118 80.442 10.9518C80.132 10.5918 79.742 10.3218 79.302 10.1318C78.852 9.94181 78.362 9.85181 77.832 9.85181C77.282 9.85181 76.792 9.94181 76.352 10.1318C75.912 10.3218 75.532 10.5918 75.222 10.9518C74.912 11.3118 74.662 11.7418 74.492 12.2518C74.322 12.7618 74.232 13.3418 74.232 13.9818V16.1918C74.232 16.8318 74.322 17.4118 74.492 17.9218C74.662 18.4318 74.912 18.8618 75.222 19.2218C75.532 19.5818 75.912 19.8518 76.352 20.0418C76.782 20.2318 77.282 20.3218 77.832 20.3218Z\" fill=\"black\"/>\n\t\t\t<path d=\"M86.1421 22.0918V11.6618H88.3321V13.3918H88.4321C88.6621 12.8318 89.0021 12.3618 89.4621 11.9918C89.9221 11.6218 90.5521 11.4318 91.3521 11.4318C92.4221 11.4318 93.2521 11.7818 93.8521 12.4818C94.4421 13.1818 94.7421 14.1818 94.7421 15.4818V22.0918H92.5521V15.7518C92.5521 14.1218 91.8921 13.3018 90.5821 13.3018C90.3021 13.3018 90.0221 13.3418 89.7521 13.4118C89.4821 13.4818 89.2321 13.5918 89.0221 13.7418C88.8121 13.8918 88.6421 14.0718 88.5121 14.3018C88.3821 14.5318 88.3221 14.7918 88.3221 15.1018V22.0918H86.1421Z\" fill=\"black\"/>\n\t\t\t<path d=\"M99.7522 22.0918C99.0022 22.0918 98.4422 21.9018 98.0822 21.5218C97.7122 21.1418 97.5322 20.6118 97.5322 19.9318V7.25183H99.7222V20.3018H101.162V22.0918H99.7522Z\" fill=\"black\"/>\n\t\t\t<path d=\"M104.102 9.80181C103.652 9.80181 103.312 9.69181 103.112 9.48181C102.902 9.27181 102.802 8.99181 102.802 8.66181V8.31181C102.802 7.98181 102.902 7.70181 103.112 7.49181C103.322 7.28181 103.652 7.17181 104.102 7.17181C104.552 7.17181 104.882 7.28181 105.082 7.49181C105.282 7.70181 105.382 7.98181 105.382 8.31181V8.65181C105.382 8.98181 105.282 9.26181 105.082 9.47181C104.882 9.69181 104.562 9.80181 104.102 9.80181ZM103.002 11.6618H105.192V22.0918H103.002V11.6618Z\" fill=\"black\"/>\n\t\t\t<path d=\"M108.052 22.0918V11.6618H110.242V13.3918H110.342C110.572 12.8318 110.912 12.3618 111.372 11.9918C111.832 11.6218 112.462 11.4318 113.262 11.4318C114.332 11.4318 115.162 11.7818 115.762 12.4818C116.352 13.1818 116.652 14.1818 116.652 15.4818V22.0918H114.462V15.7518C114.462 14.1218 113.802 13.3018 112.492 13.3018C112.212 13.3018 111.932 13.3418 111.662 13.4118C111.392 13.4818 111.142 13.5918 110.932 13.7418C110.722 13.8918 110.552 14.0718 110.422 14.3018C110.292 14.5318 110.232 14.7918 110.232 15.1018V22.0918H108.052Z\" fill=\"black\"/>\n\t\t\t<path d=\"M123.662 22.3318C122.912 22.3318 122.242 22.2018 121.652 21.9518C121.062 21.7018 120.562 21.3318 120.152 20.8618C119.742 20.3918 119.422 19.8118 119.202 19.1418C118.982 18.4718 118.872 17.7118 118.872 16.8818C118.872 16.0518 118.982 15.3018 119.202 14.6218C119.422 13.9518 119.742 13.3718 120.152 12.9018C120.562 12.4318 121.072 12.0618 121.652 11.8118C122.242 11.5618 122.912 11.4318 123.662 11.4318C124.422 11.4318 125.092 11.5618 125.682 11.8318C126.262 12.1018 126.752 12.4718 127.132 12.9418C127.512 13.4118 127.812 13.9718 128.002 14.5918C128.192 15.2218 128.292 15.8918 128.292 16.6218V17.4418H121.132V17.7818C121.132 18.5818 121.372 19.2318 121.842 19.7418C122.312 20.2518 122.992 20.5118 123.882 20.5118C124.522 20.5118 125.062 20.3718 125.502 20.0918C125.942 19.8118 126.312 19.4318 126.622 18.9518L127.902 20.2218C127.512 20.8618 126.952 21.3818 126.222 21.7618C125.492 22.1418 124.632 22.3318 123.662 22.3318ZM123.662 13.1218C123.292 13.1218 122.942 13.1918 122.632 13.3218C122.322 13.4518 122.052 13.6418 121.832 13.8818C121.612 14.1218 121.442 14.4118 121.322 14.7418C121.202 15.0718 121.142 15.4418 121.142 15.8418V15.9818H125.992V15.7818C125.992 14.9818 125.782 14.3318 125.372 13.8518C124.952 13.3718 124.382 13.1218 123.662 13.1218Z\" fill=\"black\"/>\n\t\t</svg>\n\n\t\t<div class=\"search-bar\">\n\t\t\t<i class=\"i-search i-20\"></i>\n\t\t\t<input type=\"text\" placeholder=\"Type a keyword to begin your search\"/>\n\t\t</div>\n\n\t\t<div class=\"menu-icons text-right\">\n\t\t\t<span class=\"menu-icon\"><i class=\"i-rocket i-24\"></i></span>\n\t\t\t<span class=\"menu-icon\"><i class=\"i-filter i-24\"></i></span>\n\t\t\t<span class=\"menu-icon\"><i class=\"i-notification i-24\"></i></span>\n\t\t\t<span class=\"menu-icon\"><i class=\"i-switcher i-24\"></i></span>\n\t\t\t<span class=\"menu-icon profile-picture\">A</span>\n\n\t\t\t<span class=\"menu-icon mobile\"><i class=\"i-menu i-24\"></i></span>\n\t\t</div>\n\t\t\n\t\n\t</div>\n\n\n</nav>\n<main on:scroll={handleScroll}>\n\t<div class=\"frame\">\n\t\t<svelte:component this={comp} on:nav={handleNav} {tabnav} {bodyScroll}/>\n\t</div>\n\t\n</main>\n\n\n<style>\n\t\n\t :global(body){\n\t\toverflow:hidden;\n\t }\n\t \n\t.grid {\n\t\tposition:absolute;\n\t\tleft:16px;\n\t\twidth:calc(100% - 32px);\n\t\theight:100%;\n\t\ttext-align: center;\n\t\tz-index:9999;\n\t\tpointer-events: none;\n\t\toverflow-y: scroll;\n\t}\n\t.grid .frame {\n\t\tbackground: repeating-linear-gradient( 90deg, rgba(255,0,0,0.1), rgba(255,0,0,0.1) var(--col), transparent var(--col), transparent var(--gutter) );\n\t}\n\t\n\tmain, nav {\n\t\tpadding: 0 16px;\n\t\twidth:100%;\n\t\ttext-align: center;\n\t\toverflow-y: scroll;\n\t}\n\n\tnav {\n\t\theight: var(--navH);\n\t\tbackground:#fff;\n\t\tposition: absolute;\n\t\ttop:0;\n\t\tz-index: 999;\n\t\tbox-shadow: 0 0 16px var(--eo-surface-background);\n\t}\n\n\tmain {\n\t\theight: calc( var(--mainH));\n\t\tpadding-bottom: 16px;\n\t\tmargin-top: var(--navH);\n\t}\n\t.frame {\n\t\ttext-align: left;\n\t\tmargin: 0 auto;\n\t\tmax-width:1328px;\n\t\tpadding:0;\n\t\theight:100%;\n\n\t}\n\tnav .frame {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t}\n\t\n\n</style>","import App from './Frame.svelte';\n\nconst app = new App({\n\ttarget: document.body\n});\n\nexport default app;"],"names":["noop","identity","x","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","tar","src","k","assign","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","callback","promise","Promise","fulfill","add","[object Object]","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","stop_propagation","stopPropagation","attr","attribute","value","removeAttribute","getAttribute","setAttribute","set_data","wholeText","set_input_value","input","set_style","key","important","style","setProperty","select_option","select","option","__value","selected","select_value","selected_option","querySelector","toggle_class","toggle","classList","custom_event","type","detail","e","createEvent","initCustomEvent","active_docs","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","t","rule","str","hash","charCodeAt","doc","ownerDocument","stylesheet","__svelte_stylesheet","head","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","deleteRule","clear","set_current_component","component","get_current_component","Error","onMount","$$","on_mount","push","createEventDispatcher","callbacks","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","flushing","seen_callbacks","flush","update","pop","has","fragment","before_update","after_update","wait","then","dispatch","direction","kind","dispatchEvent","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","params","animation_name","config","running","cleanup","go","easing","tick","css","start_time","end_time","abort","started","create_out_transition","group","reset","globals","globalThis","global","create_component","mount_component","customElement","on_destroy","m","new_on_destroy","map","destroy_component","make_dirty","fill","init","instance","create_fragment","not_equal","props","parent_component","bound","on_disconnect","context","Map","skip_bound","ready","ret","rest","hydrate","nodes","Array","from","childNodes","children","l","intro","SvelteComponent","$destroy","index","splice","$$props","obj","$$set","keys","console","log","location","nav","tab","tabnav","damerau","j","s1","s2","cost","min","apply","distance","initMatrix","charAt","parent_list","title","child_list","icon","sort","dot","lls","test_mode","lls_copy","JSON","parse","stringify","selected_ll","selected_parent","paste_list","pastearea","pastetext","parent_test","select_ll","ll","select_parent","pl","add_child_option","city","remove_child_option","dirty_flag","paste","dls","current_score","dl_temp","dl","dl_score","mod","temp_obj","ds","localeCompare","blur","red_pastes","el","green_pastes","grey_pastes","orange_pastes","root","factory","PubSub","warn","messages","lastUid","ALL_SUBSCRIBING_MSG","hasKeys","prototype","hasOwnProperty","throwException","ex","callSubscriberWithDelayedExceptions","subscriber","message","setTimeout","callSubscriberWithImmediateExceptions","deliverMessage","originalMessage","matchedMessage","immediateExceptions","s","subscribers","callSubscriber","createDeliveryFunction","topic","String","position","lastIndexOf","substr","hasDirectSubscribersFor","Boolean","messageHasSubscribers","found","publish","sync","deliver","toString","publishSync","subscribe","func","token","subscribeAll","subscribeOnce","unsubscribe","arguments","clearAllSubscriptions","clearSubscriptions","countSubscriptions","count","getSubscriptions","list","descendantTopicExists","isTopic","isToken","isFunction","result","module","exports","fs","slots","mask_visible","mask_block","show_drawer","canfs","drawer_in","drawer_bool","hide_the_drawer","label","hint","channel","selectable","pii","expanded","visible","indent","indent_class","item","ev","id","placeholder","answer","cull","arr","txt","found_in_children","isArray","toLowerCase","tree_to_selected","temp_selected","dd_in","w","recalc","char_width","max_chars","floor","chars_used","num_tags","tag","t_length","offsetWidth","shortcuts","click_shortcut","shortcut","optional","color","toLocaleString","max_warning","selected_shortlist","remove_tag","unique_num","random","substring","hear","Pusher","cluster","bind","clamp","announce","item_type","components","input_checkbox","InputCheckbox","input_lookup","InputLookup","input_matrix","InputMatrix","input_multi","InputMulti","input_select","InputSelect","input_signature","InputSignature","input_switch","InputSwitch","input_text","InputText","input_textarea","InputTextarea","section","Section","in_progress","awaiting_triage","awaiting_investigation","rapid","eco","formatted","year","month","day","hour","minute","entries","sortable","sorted","record_id","RecordID","status","Status","Channel","created_date","DateComp","columns","sortable_type","edit_columns","table_settings_form","msg","selected_columns","table_data","created_by","updated_date","updated_by","division","sector","primary_event_type","date_time","time_relative","custom_field_shift","open_actions","total_actions","open_total_actions","sort_table","th","new_sort_dir","new_sort_key","sort_key","sort_dir","table_drawer","table_cancel","pin_title","pin_drawer","pin_form","pin_module","temp_sel","col","table_data_sorted","A","B","alert","cubicOut","fade","linear","getComputedStyle","opacity","fly","y","target_opacity","transform","od","u","hslide","width","parseFloat","padding_left","paddingLeft","padding_right","paddingRight","margin_left","marginLeft","margin_right","marginRight","border_left_width","borderLeftWidth","border_right_width","borderRightWidth","img","slides","cur","changeSlide","slide","number","prev","keyCode","date_format","description","event_type","person","medical_bool","losttime_bool","values","y_criteria","x_criteria","innerWidth","matrix_fs","single_page","matrix","incident","toISOString","inspector_details","censor_pii","censor_mode","print_mode","print_options","total_pages","code","censor_span","sel","getSelection","selection","getRangeAt","selectedText","extractContents","innerText","insertNode","censor_it","filtered_pages","pullout","event_subtype","reportable","type_of_person","parts_of_body","illness_type","bodyScroll","hs","single_page_scroll","h","offsetTop","getElementsByTagName","scroll","top","behavior","closest","closest_el","counter","getTime","counter_phrase","matrix_holder","matrix_drawer","matrix_col_selected","matrix_row_selected","row","select_criteria_y","select_criteria_x","currently_selected","highest_row","matrix_pick","setInterval","daform","vis_pages","page","innerHeight","temp","delta","abs","timeObject","sTimeDifference","second","time","checked","parseInt","Constructor","createObject","properties","extendObject","extend","constructor","statics","superConstructor","class_","super_","own","sources","property","source","extend_1","Nevis","lite","Renderer_1","qrious","enabled","draw","frame","getElement","render","getModuleSize","padding","pixels","resize","CanvasRenderer_1","moduleSize","offset","getContext","fillStyle","foreground","globalAlpha","foregroundAlpha","buffer","fillRect","lineWidth","clearRect","background","backgroundAlpha","height","Alignment_1","BLOCK","ErrorCorrection_1","BLOCKS","FINAL_FORMAT","LEVELS","L","M","Q","H","Galois_1","EXPONENT","LOG","Version_1","Frame","dataBlock","eccBlock","neccBlock1","neccBlock2","valueLength","_badness","_level","level","_polynomial","_value","_version","_stringBuffer","_dataBlock","_eccBlock","_neccBlock1","_neccBlock2","_createArray","_ecc","_mask","_insertFinders","_insertAlignments","_insertTimingGap","_reverseMask","_insertTimingRowAndColumn","_insertVersion","_syncMask","_convertBitStream","_calculatePolynomial","_appendEccToData","_interleaveBlocks","_pack","_finish","_addAlignment","_setMask","_appendData","dataLength","ecc","eccLength","bit","polynomial","stringBuffer","_modN","_calculateMaxLength","_applyMask","mask","r3x","r3y","_isMasked","_checkBadness","b1","bad","badness","N2","bw","_getBadness","big","N4","version","maxLength","badRuns","N1","N3","currentMask","_getMaskBit","v","array","Frame_1","ImageRenderer_1","toDataURL","Option_1","modifiable","defaultValue","valueTransformer","_valueTransformer","transformer","Utilities_1","hasOwn","object","toUpperCase","string","OptionManager","exists","get","_get","getAll","changeHandler","_set","_createAccessor","_setAll","set","setAll","allowUnmodifiable","changed","descriptor","defineProperty","fieldName","oldValue","newValue","OptionManager_1","ServiceManager_1","_services","getService","service","setService","optionManager","serviceManager","QRious","elementService","canvas","isCanvas","createCanvas","image","isImage","createImage","_canvasRenderer","_imageRenderer","mime","use","getName","defineProperties","BrowserElementService_1","HTMLCanvasElement","HTMLImageElement","QRcode","QrCode","errorCorrection","className","generateQrCode","use_count","strip","fx","new_qr","qrs","prefilled_qrs","btoa","content","comps","platform","Platform","ehs","Home","linkedfields","AdminLinkedFields","incidents","Incidents","incidents_new","IncidentsNew","incidents_admin","IncidentsAdmin","queries_new","QueriesNew","queries_result","QueriesResult","hazard_assessments","HazardAssessments","comp","handleNavStr","grid","hash_arr","scrollTop","offsetHeight","body"],"mappings":"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GAAO,EAAI,EAAI,GAAK,GACzE,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GACzE,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GACzE,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GACzE,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GACzE,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GACzE,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,EAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GACzE,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GACzE,EAAI,EAAI,GAAK,GAAO,EAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,GAAI,EAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,EAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,GAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,GAAI,EAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,EAAI,GAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,GAAI,EAAI,IAAK,GAAO,GAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,GAAI,EAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,EAAI,GAAI,IAAK,GAAO,EAAI,GAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,EAAI,EAAI,IAAK,GAAO,GAAI,EAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,EAAI,GAAI,IAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,GAAI,EAAI,IAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,GAAI,EAAI,IAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,GAAI,EAAI,IAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,GAAI,EAAI,IAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GAAO,GAAI,EAAI,GAAK,GACzE,GAAI,EAAI,IAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,EAAI,GAAI,IAAK,GAAO,EAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,EAAI,GAAI,GAAK,GACzE,GAAI,EAAI,IAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,EAAI,GAAI,IAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,GAAI,EAAI,IAAK,GAAO,GAAI,EAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GACzE,GAAI,EAAI,IAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,GAAO,GAAI,GAAI,GAAK,IAW3EC,aAAc,CAEZ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAExD,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAAQ,MAExD,MAAQ,MAAQ,MAAQ,MAAQ,KAAQ,KAAQ,MAAQ,MAExD,KAAQ,KAAQ,KAAQ,KAAQ,KAAQ,IAAQ,KAAQ,MAW1DC,OAAQ,CACNC,EAAG,EACHC,EAAG,EACHC,EAAG,EACHC,EAAG,KAwEHC,EA1DSrC,EAAKZ,OAAO,KAAM,CAU7BkD,SAAU,CACR,EAAM,EAAM,EAAM,EAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAC1F,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,EAAM,EAAM,GAAM,GAAM,GAAM,GAAM,IAC1F,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAC1F,GAAM,IAAM,EAAM,GAAM,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,GAAM,IAAM,GAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAC1F,IAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,GAAM,GAC1F,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAC1F,IAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAC1F,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,EAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAC1F,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,GAAM,IAAM,EAC1F,GAAM,GAAM,GAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAC1F,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAW5FC,IAAK,CACH,IAAM,EAAM,EAAM,GAAM,EAAM,GAAM,GAAM,IAAM,EAAM,IAAM,GAAM,IAAM,GAAM,IAAM,IAAM,GAC1F,EAAM,IAAM,IAAM,GAAM,GAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,EAAM,GAAM,IAC1F,EAAM,IAAM,IAAM,GAAM,IAAM,GAAM,GAAM,GAAM,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,GAC1F,GAAM,IAAM,IAAM,IAAM,IAAM,GAAM,IAAM,IAAM,IAAM,IAAM,EAAM,IAAM,GAAM,IAAM,IAAM,IAC1F,EAAM,IAAM,IAAM,GAAM,IAAM,IAAM,GAAM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"}